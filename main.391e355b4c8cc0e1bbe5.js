(self.webpackChunkcocktail_palace=self.webpackChunkcocktail_palace||[]).push([[179],{8255:nt=>{function de(z){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+z+"'");throw g.code="MODULE_NOT_FOUND",g})}de.keys=()=>[],de.resolve=de,de.id=8255,nt.exports=de},3018:(nt,de,z)=>{"use strict";z.d(de,{deG:()=>Md,tb:()=>I0,AFp:()=>E0,ip1:()=>Sv,CZH:()=>bd,hGG:()=>kT,z2F:()=>lp,sBO:()=>ID,Sil:()=>cp,_Vd:()=>Kl,EJc:()=>T0,SBq:()=>fu,qLn:()=>Ts,vpe:()=>du,gxx:()=>Zu,tBr:()=>Lo,XFs:()=>rt,OlP:()=>Tn,zs3:()=>Wt,ZZ4:()=>om,aQg:()=>sm,soG:()=>ym,YKP:()=>hw,v3s:()=>gT,h0i:()=>Ql,PXZ:()=>cT,R0b:()=>Yo,FiY:()=>Ni,Lbi:()=>D0,g9A:()=>C0,Qsj:()=>lD,FYo:()=>im,JOm:()=>Y,Tiy:()=>tv,q3G:()=>hn,tp0:()=>jo,EAV:()=>_T,Rgc:()=>Qh,dDg:()=>x0,DyG:()=>Oo,q4F:()=>nv,GfV:()=>sw,s_b:()=>cm,ifc:()=>Xe,eFA:()=>k0,G48:()=>nT,Gpc:()=>Ee,X6Q:()=>Fv,_c5:()=>MT,VLi:()=>tT,c2e:()=>A0,zSh:()=>Gc,wAp:()=>ut,vHH:()=>pe,EiD:()=>Ya,mCW:()=>Fu,qzn:()=>ca,JVY:()=>Vd,pB0:()=>vc,eBb:()=>Tf,L6k:()=>eo,LAX:()=>yc,cg1:()=>zy,Tjo:()=>TT,kL8:()=>Sb,yhl:()=>bl,dqk:()=>et,sIi:()=>iu,CqO:()=>Vy,QGY:()=>Ly,F4k:()=>k_,RDi:()=>Ci,AaK:()=>J,z3N:()=>xi,qOj:()=>xg,TTD:()=>Ur,_Bn:()=>tw,xp6:()=>Fp,uIk:()=>od,ekj:()=>Hy,Suo:()=>Xw,Xpm:()=>Ta,lG2:()=>Qo,Yz7:()=>Zt,cJS:()=>Rt,oAB:()=>Ko,Yjl:()=>Us,Y36:()=>zt,_UZ:()=>cd,qZA:()=>sn,TgZ:()=>Qr,EpF:()=>F_,n5z:()=>df,Ikx:()=>qy,LFG:()=>vn,$8M:()=>Mu,NdJ:()=>jy,CRH:()=>e0,oxw:()=>U_,ALo:()=>Zw,lcZ:()=>Yw,Q6J:()=>Lt,s9C:()=>By,MGl:()=>Yg,DdM:()=>Bw,VKq:()=>Hw,iGM:()=>Jw,MAs:()=>ad,CHM:()=>as,LSH:()=>Ec,kYT:()=>Ui,YNc:()=>Ug,W1O:()=>i0,_uU:()=>cb,Oqu:()=>$y,hij:()=>Qg});var g=z(9765),P=z(5319),Ne=z(7574),ve=z(6682),ne=z(2441);var Ae=z(1307);function le(){return new g.xQ}function B(e){for(let t in e)if(e[t]===B)return t;throw Error("Could not find renamed property on target object.")}function ie(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function J(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(J).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Z(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const we=B({__forward_ref__:B});function Ee(e){return e.__forward_ref__=Ee,e.toString=function(){return J(this())},e}function De(e){return Re(e)?e():e}function Re(e){return"function"==typeof e&&e.hasOwnProperty(we)&&e.__forward_ref__===Ee}class pe extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function We(e){return"string"==typeof e?e:null==e?"":String(e)}function _t(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():We(e)}function k(e,t){const n=t?` in ${t}`:"";throw new pe("201",`No provider for ${_t(e)} found${n}`)}function Ht(e,t){null==e&&function(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function Zt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Je(e){return Ot(e,Jt)||Ot(e,_r)}function Ot(e,t){return e.hasOwnProperty(t)?e[t]:null}function $n(e){return e&&(e.hasOwnProperty(On)||e.hasOwnProperty(Ls))?e[On]:null}const Jt=B({\u0275prov:B}),On=B({\u0275inj:B}),_r=B({ngInjectableDef:B}),Ls=B({ngInjectorDef:B});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Xt;function dt(e){const t=Xt;return Xt=e,t}function oe(e,t,n){const o=Je(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&rt.Optional?null:void 0!==t?t:void k(J(e),"Injector")}function re(e){return{toString:e}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Xe=(()=>((Xe=Xe||{})[Xe.Emulated=0]="Emulated",Xe[Xe.None=2]="None",Xe[Xe.ShadowDom=3]="ShadowDom",Xe))();const bt="undefined"!=typeof globalThis&&globalThis,ht="undefined"!=typeof window&&window,$e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rn="undefined"!=typeof global&&global,et=bt||Rn||ht||$e,rn={},St=[],Or=B({\u0275cmp:B}),bn=B({\u0275dir:B}),ji=B({\u0275pipe:B}),co=B({\u0275mod:B}),jr=B({\u0275loc:B}),cn=B({\u0275fac:B}),mi=B({__NG_ELEMENT_ID__:B});let lo=0;function Ta(e){return re(()=>{const n={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||St,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Xe.Emulated,id:"c",styles:e.styles||St,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,h=e.features,y=e.pipes;return o.id+=lo++,o.inputs=yi(e.inputs,n),o.outputs=yi(e.outputs),h&&h.forEach(b=>b(o)),o.directiveDefs=l?()=>("function"==typeof l?l():l).map(Yt):null,o.pipeDefs=y?()=>("function"==typeof y?y():y).map(Vs):null,o})}function Yt(e){return Mn(e)||function(e){return e[bn]||null}(e)}function Vs(e){return function(e){return e[ji]||null}(e)}const js={};function Ko(e){return re(()=>{const t={type:e.type,bootstrap:e.bootstrap||St,declarations:e.declarations||St,imports:e.imports||St,exports:e.exports||St,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(js[e.id]=e.type),t})}function Ui(e,t){return re(()=>{const n=qn(e,!0);n.declarations=t.declarations||St,n.imports=t.imports||St,n.exports=t.exports||St})}function yi(e,t){if(null==e)return rn;const n={};for(const o in e)if(e.hasOwnProperty(o)){let l=e[o],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),n[l]=o,t&&(t[l]=h)}return n}const Qo=Ta;function Us(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mn(e){return e[Or]||null}function qn(e,t){const n=e[co]||null;if(!n&&!0===t)throw new Error(`Type ${J(e)} does not have '\u0275mod' property.`);return n}function bi(e){return Array.isArray(e)&&"object"==typeof e[1]}function Pt(e){return Array.isArray(e)&&!0===e[1]}function po(e){return 0!=(8&e.flags)}function go(e){return 2==(2&e.flags)}function ni(e){return 1==(1&e.flags)}function Dn(e){return null!==e.template}function hu(e){return 0!=(512&e[2])}function vo(e,t){return e.hasOwnProperty(cn)?e[cn]:null}class _o{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ur(){return wi}function wi(e){return e.type.prototype.ngOnChanges&&(e.setInput=is),nc}function nc(){const e=qi(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===rn)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function is(e,t,n,o){const l=qi(e)||function(e,t){return e[rc]=t}(e,{previous:rn,current:null}),h=l.current||(l.current={}),y=l.previous,b=this.declaredInputs[n],E=y[b];h[b]=new _o(E&&E.currentValue,t,y===rn),e[o]=t}Ur.ngInherit=!0;const rc="__ngSimpleChanges__";function qi(e){return e[rc]||null}let or;function Ci(e){or=e}function wn(e){return!!e.listen}const xa={createRenderer:(e,t)=>void 0!==or?or:"undefined"!=typeof document?document:void 0};function Ut(e){for(;Array.isArray(e);)e=e[0];return e}function Eo(e,t){return Ut(t[e])}function Rr(e,t){return Ut(t[e.index])}function zi(e,t){return e.data[t]}function sr(e,t){return e[t]}function zn(e,t){const n=t[e];return bi(n)?n:n[0]}function In(e){return 4==(4&e[2])}function zs(e){return 128==(128&e[2])}function on(e,t){return null==t?null:e[t]}function Ws(e){e[18]=0}function Br(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const at={lFrame:To(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pr(){return at.bindingsEnabled}function xe(){return at.lFrame.lView}function Dt(){return at.lFrame.tView}function as(e){return at.lFrame.contextLView=e,e[8]}function fn(){let e=Wi();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wi(){return at.lFrame.currentTNode}function ar(e,t){const n=at.lFrame;n.currentTNode=e,n.isParent=t}function Do(){return at.lFrame.isParent}function Io(){return at.isInCheckNoChangesMode}function Ki(e){at.isInCheckNoChangesMode=e}function Zn(){const e=at.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ao(){return at.lFrame.bindingIndex++}function Ys(e,t){const n=at.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ai(t)}function Ai(e){at.lFrame.currentDirectiveIndex=e}function Dr(){return at.lFrame.currentQueryIndex}function ur(e){at.lFrame.currentQueryIndex=e}function Pa(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Fe(e,t,n){if(n&rt.SkipSelf){let l=t,h=e;for(;!(l=l.parent,null!==l||n&rt.Host||(l=Pa(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;t=l,e=h}const o=at.lFrame=Eu();return o.currentTNode=t,o.lView=e,!0}function $r(e){const t=Eu(),n=e[1];at.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Eu(){const e=at.lFrame,t=null===e?null:e.child;return null===t?To(e):t}function To(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function si(){const e=at.lFrame;return at.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Cu=si;function Du(){const e=si();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function I(){return at.lFrame.selectedIndex}function S(e){at.lFrame.selectedIndex=e}function V(){const e=at.lFrame;return zi(e.tView,e.selectedIndex)}function Xn(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const h=e.data[n].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:N}=h;y&&(e.contentHooks||(e.contentHooks=[])).push(-n,y),b&&((e.contentHooks||(e.contentHooks=[])).push(n,b),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,b)),E&&(e.viewHooks||(e.viewHooks=[])).push(-n,E),A&&((e.viewHooks||(e.viewHooks=[])).push(n,A),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,A)),null!=N&&(e.destroyHooks||(e.destroyHooks=[])).push(n,N)}}function cr(e,t,n){Mo(e,t,3,n)}function Ks(e,t,n,o){(3&e[2])===n&&Mo(e,t,n,o)}function So(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Mo(e,t,n,o){const h=null!=o?o:-1,y=t.length-1;let b=0;for(let E=void 0!==o?65535&e[18]:0;E<y;E++)if("number"==typeof t[E+1]){if(b=t[E],null!=o&&b>=o)break}else t[E]<0&&(e[18]+=65536),(b<h||-1==h)&&(Ir(e,n,t,E),e[18]=(4294901760&e[18])+E+2),E++}function Ir(e,t,n,o){const l=n[o]<0,h=n[o+1],b=e[l?-n[o]:n[o]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{h.call(b)}finally{}}}else try{h.call(b)}finally{}}class Fa{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function hs(e,t,n){const o=wn(e);let l=0;for(;l<n.length;){const h=n[l];if("number"==typeof h){if(0!==h)break;l++;const y=n[l++],b=n[l++],E=n[l++];o?e.setAttribute(t,b,E,y):t.setAttributeNS(y,b,E)}else{const y=h,b=n[++l];uf(y)?o&&e.setProperty(t,y,b):o?e.setAttribute(t,y,b):t.setAttribute(y,b),l++}}return l}function Au(e){return 3===e||4===e||6===e}function uf(e){return 64===e.charCodeAt(0)}function sc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?n=l:0===n||cf(e,n,l,null,-1===n||2===n?t[++o]:null)}}return e}function cf(e,t,n,o,l){let h=0,y=e.length;if(-1===t)y=-1;else for(;h<e.length;){const b=e[h++];if("number"==typeof b){if(b===t){y=-1;break}if(b>t){y=h-1;break}}}for(;h<e.length;){const b=e[h];if("number"==typeof b)break;if(b===n){if(null===o)return void(null!==l&&(e[h+1]=l));if(o===e[h+1])return void(e[h+2]=l)}h++,null!==o&&h++,null!==l&&h++}-1!==y&&(e.splice(y,0,t),h=y+1),e.splice(h++,0,n),null!==o&&e.splice(h++,0,o),null!==l&&e.splice(h++,0,l)}function ol(e){return-1!==e}function ka(e){return 32767&e}function La(e,t){let n=function(e){return e>>16}(e),o=t;for(;n>0;)o=o[15],n--;return o}let lf=!0;function ac(e){const t=lf;return lf=e,t}let kn=0;function Ti(e,t){const n=ai(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,Ln(o.data,e),Ln(t,null),Ln(o.blueprint,null));const l=Va(e,t),h=e.injectorIndex;if(ol(l)){const y=ka(l),b=La(l,t),E=b[1].data;for(let A=0;A<8;A++)t[h+A]=b[y+A]|E[y+A]}return t[h+8]=l,h}function Ln(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ai(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Va(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,l=t;for(;null!==l;){const h=l[1],y=h.type;if(o=2===y?h.declTNode:1===y?l[6]:null,null===o)return-1;if(n++,l=l[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return-1}function Tu(e,t,n){!function(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(mi)&&(o=n[mi]),null==o&&(o=n[mi]=kn++);const l=255&o;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function uc(e,t,n){if(n&rt.Optional)return e;k(t,"NodeInjector")}function ja(e,t,n,o){if(n&rt.Optional&&void 0===o&&(o=null),0==(n&(rt.Self|rt.Host))){const l=e[9],h=dt(void 0);try{return l?l.get(t,o,n&rt.Optional):oe(t,o,n&rt.Optional)}finally{dt(h)}}return uc(o,t,n)}function qr(e,t,n,o=rt.Default,l){if(null!==e){const h=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(mi)?e[mi]:void 0;return"number"==typeof t?t>=0?255&t:Su:t}(n);if("function"==typeof h){if(!Fe(t,e,o))return o&rt.Host?uc(l,n,o):ja(t,n,o,l);try{const y=h(o);if(null!=y||o&rt.Optional)return y;k(n)}finally{Cu()}}else if("number"==typeof h){let y=null,b=ai(e,t),E=-1,A=o&rt.Host?t[16][6]:null;for((-1===b||o&rt.SkipSelf)&&(E=-1===b?Va(e,t):t[b+8],-1!==E&&Ua(o,!1)?(y=t[1],b=ka(E),t=La(E,t)):b=-1);-1!==b;){const N=t[1];if(mr(h,b,N.data)){const j=ff(b,t,n,y,o,A);if(j!==Qs)return j}E=t[b+8],-1!==E&&Ua(o,t[1].data[b+8]===A)&&mr(h,b,t)?(y=N,b=ka(E),t=La(E,t)):b=-1}}}return ja(t,n,o,l)}const Qs={};function Su(){return new Xs(fn(),xe())}function ff(e,t,n,o,l,h){const y=t[1],b=y.data[e+8],N=cc(b,y,n,null==o?go(b)&&lf:o!=y&&0!=(3&b.type),l&rt.Host&&h===b);return null!==N?Js(t,y,N,b):Qs}function cc(e,t,n,o,l){const h=e.providerIndexes,y=t.data,b=1048575&h,E=e.directiveStart,N=h>>20,G=l?b+N:e.directiveEnd;for(let Q=o?b:b+N;Q<G;Q++){const se=y[Q];if(Q<E&&n===se||Q>=E&&se.type===n)return Q}if(l){const Q=y[E];if(Q&&Dn(Q)&&Q.type===n)return E}return null}function Js(e,t,n,o){let l=e[n];const h=t.data;if(function(e){return e instanceof Fa}(l)){const y=l;y.resolving&&function(e,t){throw new pe("200",`Circular dependency in DI detected for ${e}`)}(_t(h[n]));const b=ac(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?dt(y.injectImpl):null;Fe(e,o,rt.Default);try{l=e[n]=y.factory(void 0,h,e,o),t.firstCreatePass&&n>=o.directiveStart&&function(e,t,n){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:h}=t.type.prototype;if(o){const y=wi(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,y),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,y)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),h&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,h),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,h))}(n,h[n],t)}finally{null!==E&&dt(E),ac(b),y.resolving=!1,Cu()}}return l}function mr(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ua(e,t){return!(e&rt.Self||e&rt.Host&&t)}class Xs{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return qr(this._tNode,this._lView,t,void 0,n)}}function df(e){return re(()=>{const t=e.prototype.constructor,n=t[cn]||lc(t),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const h=l[cn]||lc(l);if(h&&h!==n)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function lc(e){return Re(e)?()=>{const t=lc(De(e));return t&&t()}:vo(e)}function Mu(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let l=0;for(;l<o;){const h=n[l];if(Au(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<o&&"string"==typeof n[l];)l++;else{if(h===t)return n[l+1];l+=2}}}return null}(fn(),e)}const No="__parameters__";function xo(e,t,n){return re(()=>{const o=function(e){return function(...n){if(e){const o=e(...n);for(const l in o)this[l]=o[l]}}}(t);function l(...h){if(this instanceof l)return o.apply(this,h),this;const y=new l(...h);return b.annotation=y,b;function b(E,A,N){const j=E.hasOwnProperty(No)?E[No]:Object.defineProperty(E,No,{value:[]})[No];for(;j.length<=N;)j.push(null);return(j[N]=j[N]||[]).push(y),E}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class Tn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Zt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Md=new Tn("AnalyzeForEntryComponents"),Oo=Function;function Zr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?(t===e&&(t=e.slice(0,n)),Zr(o,t)):t!==e&&t.push(o)}return t}function Vn(e,t){e.forEach(n=>Array.isArray(n)?Vn(n,t):t(n))}function ys(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ro(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Yr(e,t,n){let o=Mi(e,t);return o>=0?e[1|o]=n:(o=~o,function(e,t,n,o){let l=e.length;if(l==t)e.push(n,o);else if(1===l)e.push(o,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function Ba(e,t){const n=Mi(e,t);if(n>=0)return e[1|n]}function Mi(e,t){return function(e,t,n){let o=0,l=e.length>>n;for(;l!==o;){const h=o+(l-o>>1),y=e[h<<n];if(t===y)return h<<n;y>t?l=h:o=h+1}return~(l<<n)}(e,t,1)}const ci={},Ou="__NG_DI_FLAG__",Ha="ngTempTokenPath",yr=/\n/gm,fl="__source",Po=B({provide:String,useValue:B});let _s;function Fo(e){const t=_s;return _s=e,t}function Ru(e,t=rt.Default){if(void 0===_s)throw new Error("inject() must be called from an injection context");return null===_s?oe(e,void 0,t):_s.get(e,t&rt.Optional?null:void 0,t)}function vn(e,t=rt.Default){return(Xt||Ru)(De(e),t)}function ko(e){const t=[];for(let n=0;n<e.length;n++){const o=De(e[n]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let l,h=rt.Default;for(let y=0;y<o.length;y++){const b=o[y],E=_f(b);"number"==typeof E?-1===E?l=b.token:h|=E:l=b}t.push(vn(l,h))}else t.push(vn(o))}return t}function er(e,t){return e[Ou]=t,e.prototype[Ou]=t,e}function _f(e){return e[Ou]}function bf(e,t,n,o){const l=e[Ha];throw t[fl]&&l.unshift(t[fl]),e.message=function(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=J(t);if(Array.isArray(t))l=t.map(J).join(" -> ");else if("object"==typeof t){let h=[];for(let y in t)if(t.hasOwnProperty(y)){let b=t[y];h.push(y+":"+("string"==typeof b?JSON.stringify(b):J(b)))}l=`{${h.join(", ")}}`}return`${n}${o?"("+o+")":""}[${l}]: ${e.replace(yr,"\n  ")}`}("\n"+e.message,l,n,o),e.ngTokenPath=l,e[Ha]=null,e}const Lo=er(xo("Inject",e=>({token:e})),-1),Ni=er(xo("Optional"),8),jo=er(xo("SkipSelf"),4);let Pu;function qa(e){var t;return(null===(t=function(){if(void 0===Pu&&(Pu=null,et.trustedTypes))try{Pu=et.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Pu}())||void 0===t?void 0:t.createHTML(e))||e}class Bo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ws extends Bo{getTypeName(){return"HTML"}}class Tt extends Bo{getTypeName(){return"Style"}}class Ld extends Bo{getTypeName(){return"Script"}}class za extends Bo{getTypeName(){return"URL"}}class Af extends Bo{getTypeName(){return"ResourceURL"}}function xi(e){return e instanceof Bo?e.changingThisBreaksApplicationSecurity:e}function ca(e,t){const n=bl(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function bl(e){return e instanceof Bo&&e.getTypeName()||null}function Vd(e){return new ws(e)}function eo(e){return new Tt(e)}function Tf(e){return new Ld(e)}function yc(e){return new za(e)}function vc(e){return new Af(e)}class dr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(qa(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class to{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const o=this.inertDocument.createElement("body");n.appendChild(o)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=qa(t),n;const o=this.inertDocument.createElement("body");return o.innerHTML=qa(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(t){const n=t.attributes;for(let l=n.length-1;0<l;l--){const y=n.item(l).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&t.removeAttribute(y)}let o=t.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const Bd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fu(e){return(e=String(e)).match(Bd)||e.match(Sf)?e:"unsafe:"+e}function no(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Wa(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const _c=no("area,br,col,hr,img,wbr"),ku=no("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ro=no("rp,rt"),fi=Wa(_c,Wa(ku,no("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wa(ro,no("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wa(ro,ku)),Za=no("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fa=no("srcset"),Oi=Wa(Za,fa,no("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),no("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ho=no("script,style,template");class El{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=this.checkClobberedElement(n,n.nextSibling);if(l){n=l;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!fi.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ho.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let l=0;l<o.length;l++){const h=o.item(l),y=h.name,b=y.toLowerCase();if(!Oi.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let E=h.value;Za[b]&&(E=Fu(E)),fa[b]&&(e=E,E=(e=String(e)).split(",").map(t=>Fu(t.trim())).join(", ")),this.buf.push(" ",y,'="',wc(E),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();fi.hasOwnProperty(n)&&!_c.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(wc(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const bc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gd=/([^\#-~ |!])/g;function wc(e){return e.replace(/&/g,"&amp;").replace(bc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Gd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ha;function Ya(e,t){let n=null;try{ha=ha||function(e){const t=new to(e);return function(){try{return!!(new window.DOMParser).parseFromString(qa(""),"text/html")}catch(e){return!1}}()?new dr(t):t}(e);let o=t?String(t):"";n=ha.getInertBodyElement(o);let l=5,h=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=h,h=n.innerHTML,n=ha.getInertBodyElement(o)}while(o!==h);return qa((new El).sanitizeChildren(pa(n)||n))}finally{if(n){const o=pa(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function pa(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hn=(()=>((hn=hn||{})[hn.NONE=0]="NONE",hn[hn.HTML=1]="HTML",hn[hn.STYLE=2]="STYLE",hn[hn.SCRIPT=3]="SCRIPT",hn[hn.URL=4]="URL",hn[hn.RESOURCE_URL=5]="RESOURCE_URL",hn))();function Ec(e){const t=function(){const e=xe();return e&&e[12]}();return t?t.sanitize(hn.URL,e)||"":ca(e,"URL")?xi(e):Fu(We(e))}const oo="__ngContext__";function nr(e,t){e[oo]=t}function Ka(e){const t=function(e){return e[oo]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Uu(e){return e.ngOriginalError}function Nc(e,...t){e.error(...t)}class Ts{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),o=this._findContext(t),l=(e=t)&&e.ngErrorLogger||Nc;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n),o&&l(this._console,"ERROR CONTEXT",o)}_findContext(t){return t?t.ngDebugContext||this._findContext(Uu(t)):null}_findOriginalError(t){let n=t&&Uu(t);for(;n&&Uu(n);)n=Uu(n);return n||null}}const s=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(et))();function D(e){return e instanceof Function?e():e}var Y=(()=>((Y=Y||{})[Y.Important=1]="Important",Y[Y.DashCase=2]="DashCase",Y))();function be(e,t){return undefined(e,t)}function Be(e){const t=e[3];return Pt(t)?t[3]:t}function Et(e){return pn(e[13])}function kt(e){return pn(e[4])}function pn(e){for(;null!==e&&!Pt(e);)e=e[4];return e}function kr(e,t,n,o,l){if(null!=o){let h,y=!1;Pt(o)?h=o:bi(o)&&(y=!0,o=o[0]);const b=Ut(o);0===e&&null!==n?null==l?Ol(t,n,b):Hu(t,n,b,l||null,!0):1===e&&null!==n?Hu(t,n,b,l||null,!0):2===e?function(e,t,n){const o=Pf(e,t);o&&function(e,t,n,o){wn(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}(t,b,y):3===e&&t.destroyNode(b),null!=h&&function(e,t,n,o,l){const h=n[7];h!==Ut(n)&&kr(t,e,o,h,l);for(let b=10;b<n.length;b++){const E=n[b];Pl(E[1],E,e,t,o,h)}}(t,e,h,n,l)}}function qo(e,t,n){return wn(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function wp(e,t){const n=e[9],o=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,Br(l,-1)),n.splice(o,1)}function Zd(e,t){if(e.length<=10)return;const n=10+t,o=e[n];if(o){const l=o[17];null!==l&&l!==e&&wp(l,o),t>0&&(e[n-1][4]=o[4]);const h=Ro(e,10+t);!function(e,t){Pl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const y=h[19];null!==y&&y.detachView(h[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function Ep(e,t){if(!(256&t[2])){const n=t[11];wn(n)&&n.destroyNode&&Pl(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Nl(e[1],e);for(;t;){let n=null;if(bi(t))n=t[13];else{const o=t[10];o&&(n=o)}if(!n){for(;t&&!t[4]&&t!==e;)bi(t)&&Nl(t[1],t),t=t[3];null===t&&(t=e),bi(t)&&Nl(t[1],t),n=t&&t[4]}t=n}}(t)}}function Nl(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const l=t[n[o]];if(!(l instanceof Fa)){const h=n[o+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const b=l[h[y]],E=h[y+1];try{E.call(b)}finally{}}else try{h.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,o=t[7];let l=-1;if(null!==n)for(let h=0;h<n.length-1;h+=2)if("string"==typeof n[h]){const y=n[h+1],b="function"==typeof y?y(t):Ut(t[y]),E=o[l=n[h+2]],A=n[h+3];"boolean"==typeof A?b.removeEventListener(n[h],E,A):A>=0?o[l=A]():o[l=-A].unsubscribe(),h+=2}else{const y=o[l=n[h+1]];n[h].call(y)}if(null!==o){for(let h=l+1;h<o.length;h++)o[h]();t[7]=null}}(e,t),1===t[1].type&&wn(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Pt(t[3])){n!==t[3]&&wp(n,t);const o=t[19];null!==o&&o.detachView(e)}}}function xl(e,t,n){return function(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];if(2&o.flags){const l=e.data[o.directiveStart].encapsulation;if(l===Xe.None||l===Xe.Emulated)return null}return Rr(o,n)}(e,t.parent,n)}function Hu(e,t,n,o,l){wn(e)?e.insertBefore(t,n,o,l):t.insertBefore(n,o,l)}function Ol(e,t,n){wn(e)?e.appendChild(t,n):t.appendChild(n)}function Ip(e,t,n,o,l){null!==o?Hu(e,t,n,o,l):Ol(e,t,n)}function Pf(e,t){return wn(e)?e.parentNode(t):t.parentNode}let Tp=function(e,t,n){return 40&e.type?Rr(e,n):null};function Ff(e,t,n,o){const l=xl(e,o,t),h=t[11],b=function(e,t,n){return Tp(e,t,n)}(o.parent||t[6],o,t);if(null!=l)if(Array.isArray(n))for(let E=0;E<n.length;E++)Ip(h,l,n[E],b,!1);else Ip(h,l,n,b,!1)}function kf(e,t){if(null!==t){const n=t.type;if(3&n)return Rr(t,e);if(4&n)return Kd(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return kf(e,o);{const l=e[t.index];return Pt(l)?Kd(-1,l):Ut(l)}}if(32&n)return be(t,e)()||Ut(e[t.index]);{const o=Mp(e,t);return null!==o?Array.isArray(o)?o[0]:kf(Be(e[16]),o):kf(e,t.next)}}return null}function Mp(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Kd(e,t){const n=10+e+1;if(n<t.length){const o=t[n],l=o[1].firstChild;if(null!==l)return kf(o,l)}return t[7]}function Lf(e,t,n,o,l,h,y){for(;null!=n;){const b=o[n.index],E=n.type;if(y&&0===t&&(b&&nr(Ut(b),o),n.flags|=4),64!=(64&n.flags))if(8&E)Lf(e,t,n.child,o,l,h,!1),kr(t,e,l,b,h);else if(32&E){const A=be(n,o);let N;for(;N=A();)kr(t,e,l,N,h);kr(t,e,l,b,h)}else 16&E?xp(e,t,o,n,l,h):kr(t,e,l,b,h);n=y?n.projectionNext:n.next}}function Pl(e,t,n,o,l,h){Lf(n,o,e.firstChild,t,l,h,!1)}function xp(e,t,n,o,l,h){const y=n[16],E=y[6].projection[o.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)kr(t,e,l,E[A],h);else Lf(e,t,E,y[3],l,h,!0)}function Qd(e,t,n){wn(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Op(e,t,n){wn(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jd(e,t,n){let o=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const h=t.length;if(l+h===o||e.charCodeAt(l+h)<=32)return l}n=l+1}}const Xd="ng-template";function Rp(e,t,n){let o=0;for(;o<e.length;){let l=e[o++];if(n&&"class"===l){if(l=e[o],-1!==Jd(l.toLowerCase(),t,0))return!0}else if(1===l){for(;o<e.length&&"string"==typeof(l=e[o++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function Pp(e){return 4===e.type&&e.value!==Xd}function Fm(e,t,n){return t===(4!==e.type||n?e.value:Xd)}function km(e,t,n){let o=4;const l=e.attrs||[],h=function(e){for(let t=0;t<e.length;t++)if(Au(e[t]))return t;return e.length}(l);let y=!1;for(let b=0;b<t.length;b++){const E=t[b];if("number"!=typeof E){if(!y)if(4&o){if(o=2|1&o,""!==E&&!Fm(e,E,n)||""===E&&1===t.length){if(zo(o))return!1;y=!0}}else{const A=8&o?E:t[++b];if(8&o&&null!==e.attrs){if(!Rp(e.attrs,A,n)){if(zo(o))return!1;y=!0}continue}const j=Lm(8&o?"class":E,l,Pp(e),n);if(-1===j){if(zo(o))return!1;y=!0;continue}if(""!==A){let G;G=j>h?"":l[j+1].toLowerCase();const Q=8&o?G:null;if(Q&&-1!==Jd(Q,A,0)||2&o&&A!==G){if(zo(o))return!1;y=!0}}}}else{if(!y&&!zo(o)&&!zo(E))return!1;if(y&&zo(E))continue;y=!1,o=E|1&o}}return zo(o)||y}function zo(e){return 0==(1&e)}function Lm(e,t,n,o){if(null===t)return-1;let l=0;if(o||!n){let h=!1;for(;l<t.length;){const y=t[l];if(y===e)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let b=t[++l];for(;"string"==typeof b;)b=t[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Vf(e,t,n=!1){for(let o=0;o<t.length;o++)if(km(e,t[o],n))return!0;return!1}function th(e,t){return e?":not("+t.trim()+")":t}function Bm(e){let t=e[0],n=1,o=2,l="",h=!1;for(;n<e.length;){let y=e[n];if("string"==typeof y)if(2&o){const b=e[++n];l+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&o?l+="."+y:4&o&&(l+=" "+y);else""!==l&&!zo(y)&&(t+=th(h,l),l=""),o=y,h=h||!zo(o);n++}return""!==l&&(t+=th(h,l)),t}const vt={};function Fp(e){kp(Dt(),xe(),I()+e,Io())}function kp(e,t,n,o){if(!o)if(3==(3&t[2])){const h=e.preOrderCheckHooks;null!==h&&cr(t,h,n)}else{const h=e.preOrderHooks;null!==h&&Ks(t,h,0,n)}S(n)}function Fl(e,t){return e<<17|t<<2}function Wo(e){return e>>17&32767}function nh(e){return 2|e}function so(e){return(131068&e)>>2}function kl(e,t){return-131069&e|t<<2}function eu(e){return 1|e}function Wp(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const l=n[o],h=n[o+1];if(-1!==h){const y=e.data[h];ur(l),y.contentQueries(2,t[h],h)}}}function Gn(e,t,n,o,l,h,y,b,E,A){const N=t.blueprint.slice();return N[0]=l,N[2]=140|o,Ws(N),N[3]=N[15]=e,N[8]=n,N[10]=y||e&&e[10],N[11]=b||e&&e[11],N[12]=E||e&&e[12]||null,N[9]=A||e&&e[9]||null,N[6]=h,N[16]=2==t.type?e[16]:N,N}function jc(e,t,n,o,l){let h=e.data[t];if(null===h)h=function(e,t,n,o,l){const h=Wi(),y=Do(),E=e.data[t]=function(e,t,n,o,l,h){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,n,t,o,l);return null===e.firstChild&&(e.firstChild=E),null!==h&&(y?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(e,t,n,o,l),at.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=n,h.value=o,h.attrs=l;const y=function(){const e=at.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ar(h,!0),h}function Vl(e,t,n,o){if(0===n)return-1;const l=t.length;for(let h=0;h<n;h++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function jl(e,t,n){$r(t);try{const o=e.viewQuery;null!==o&&vr(1,o,n);const l=e.template;null!==l&&Zp(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Wp(e,t),e.staticViewQueries&&vr(2,e.viewQuery,n);const h=e.components;null!==h&&function(e,t){for(let n=0;n<t.length;n++)qu(e,t[n])}(t,h)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,Du()}}function Uc(e,t,n,o){const l=t[2];if(256==(256&l))return;$r(t);const h=Io();try{Ws(t),function(e){at.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Zp(e,t,n,2,o);const y=3==(3&l);if(!h)if(y){const A=e.preOrderCheckHooks;null!==A&&cr(t,A,null)}else{const A=e.preOrderHooks;null!==A&&Ks(t,A,0,null),So(t,0)}if(function(e){for(let t=Et(e);null!==t;t=kt(t)){if(!t[2])continue;const n=t[9];for(let o=0;o<n.length;o++){const l=n[o],h=l[3];0==(1024&l[2])&&Br(h,1),l[2]|=1024}}}(t),function(e){for(let t=Et(e);null!==t;t=kt(t))for(let n=10;n<t.length;n++){const o=t[n],l=o[1];zs(o)&&Uc(l,o,l.template,o[8])}}(t),null!==e.contentQueries&&Wp(e,t),!h)if(y){const A=e.contentCheckHooks;null!==A&&cr(t,A)}else{const A=e.contentHooks;null!==A&&Ks(t,A,1),So(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const l=n[o];if(l<0)S(~l);else{const h=l,y=n[++o],b=n[++o];Ys(y,h),b(2,t[h])}}}finally{S(-1)}}(e,t);const b=e.components;null!==b&&function(e,t){for(let n=0;n<t.length;n++)ay(e,t[n])}(t,b);const E=e.viewQuery;if(null!==E&&vr(2,E,o),!h)if(y){const A=e.viewCheckHooks;null!==A&&cr(t,A)}else{const A=e.viewHooks;null!==A&&Ks(t,A,2),So(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),h||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Br(t[3],-1))}finally{Du()}}function Qm(e,t,n,o){const l=t[10],h=!Io(),y=In(t);try{h&&!y&&l.begin&&l.begin(),y&&jl(e,t,o),Uc(e,t,n,o)}finally{h&&!y&&l.end&&l.end()}}function Zp(e,t,n,o,l){const h=I(),y=2&o;try{S(-1),y&&t.length>20&&kp(e,t,20,Io()),n(o,l)}finally{S(h)}}function Hf(e,t,n){!Pr()||(function(e,t,n,o){const l=n.directiveStart,h=n.directiveEnd;e.firstCreatePass||Ti(n,t),nr(o,t);const y=n.initialInputs;for(let b=l;b<h;b++){const E=e.data[b],A=Dn(E);A&&ry(t,n,E);const N=Js(t,e,b,n);nr(N,t),null!==y&&iy(0,b-l,N,E,0,y),A&&(zn(n.index,t)[8]=N)}}(e,t,n,Rr(n,t)),128==(128&n.flags)&&function(e,t,n){const o=n.directiveStart,l=n.directiveEnd,y=n.index,b=at.lFrame.currentDirectiveIndex;try{S(y);for(let E=o;E<l;E++){const A=e.data[E],N=t[E];Ai(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&$f(A,N)}}finally{S(-1),Ai(b)}}(e,t,n))}function fh(e,t,n=Rr){const o=t.localNames;if(null!==o){let l=t.index+1;for(let h=0;h<o.length;h+=2){const y=o[h+1],b=-1===y?n(t,e):e[y];e[l++]=b}}}function dh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Bc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Bc(e,t,n,o,l,h,y,b,E,A){const N=20+o,j=N+l,G=function(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:vt);return n}(N,j),Q="function"==typeof A?A():A;return G[1]={type:e,blueprint:G,template:n,queries:null,viewQuery:b,declTNode:t,data:G.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:Q,incompleteFirstPass:!1}}function Qp(e,t,n,o){const l=ly(t);null===n?l.push(o):(l.push(n),e.firstCreatePass&&Dh(e).push(o,l.length-1))}function Jp(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){const l=e[o];(n=null===n?{}:n).hasOwnProperty(o)?n[o].push(t,l):n[o]=[t,l]}return n}function Pi(e,t,n,o,l,h,y,b){const E=Rr(t,n);let N,A=t.inputs;!b&&null!=A&&(N=A[o])?(Th(e,n,N,o,l),go(t)&&function(e,t){const n=zn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(o=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=y?y(l,t.value||"",o):l,wn(h)?h.setProperty(E,o,l):uf(o)||(E.setProperty?E.setProperty(o,l):E[o]=l))}function mh(e,t,n,o){let l=!1;if(Pr()){const h=function(e,t,n){const o=e.directiveRegistry;let l=null;if(o)for(let h=0;h<o.length;h++){const y=o[h];Vf(n,y.selectors,!1)&&(l||(l=[]),Tu(Ti(n,t),e,y.type),Dn(y)?(_h(e,n),l.unshift(y)):l.push(y))}return l}(e,t,n),y=null===o?null:{"":-1};if(null!==h){l=!0,bh(n,e.data.length,h.length);for(let N=0;N<h.length;N++){const j=h[N];j.providersResolver&&j.providersResolver(j)}let b=!1,E=!1,A=Vl(e,t,h.length,null);for(let N=0;N<h.length;N++){const j=h[N];n.mergedAttrs=sc(n.mergedAttrs,j.hostAttrs),og(e,n,t,A,j),ig(A,j,y),null!==j.contentQueries&&(n.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(n.flags|=128);const G=j.type.prototype;!b&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),b=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),E=!0),A++}!function(e,t){const o=t.directiveEnd,l=e.data,h=t.attrs,y=[];let b=null,E=null;for(let A=t.directiveStart;A<o;A++){const N=l[A],j=N.inputs,G=null===h||Pp(t)?null:oy(j,h);y.push(G),b=Jp(j,A,b),E=Jp(N.outputs,A,E)}null!==b&&(b.hasOwnProperty("class")&&(t.flags|=16),b.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=y,t.inputs=b,t.outputs=E}(e,n)}y&&function(e,t,n){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const h=n[t[l+1]];if(null==h)throw new pe("301",`Export of name '${t[l+1]}' not found!`);o.push(t[l],h)}}}(n,o,y)}return n.mergedAttrs=sc(n.mergedAttrs,n.attrs),l}function yh(e,t,n,o,l,h){const y=h.hostBindings;if(y){let b=e.hostBindingOpCodes;null===b&&(b=e.hostBindingOpCodes=[]);const E=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(b)!=E&&b.push(E),b.push(o,l,y)}}function $f(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function _h(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ig(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Dn(t)&&(n[""]=e)}}function bh(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function og(e,t,n,o,l){e.data[o]=l;const h=l.factory||(l.factory=vo(l.type)),y=new Fa(h,Dn(l),null);e.blueprint[o]=y,n[o]=y,yh(e,t,0,o,Vl(e,n,l.hostVars,vt),l)}function ry(e,t,n){const o=Rr(t,e),l=dh(n),h=e[10],y=zf(e,Gn(e,l,null,n.onPush?64:16,o,t,h,h.createRenderer(o,n),null,null));e[t.index]=y}function Fi(e,t,n,o,l,h){const y=Rr(e,t);!function(e,t,n,o,l,h,y){if(null==h)wn(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const b=null==y?We(h):y(h,o||"",l);wn(e)?e.setAttribute(t,l,b,n):n?t.setAttributeNS(n,l,b):t.setAttribute(l,b)}}(t[11],y,h,e.value,n,o,l)}function iy(e,t,n,o,l,h){const y=h[t];if(null!==y){const b=o.setInput;for(let E=0;E<y.length;){const A=y[E++],N=y[E++],j=y[E++];null!==b?o.setInput(n,j,A,N):n[N]=j}}}function oy(e,t){let n=null,o=0;for(;o<t.length;){const l=t[o];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[o+1])),o+=2}else o+=2;else o+=4}return n}function sg(e,t,n,o){return new Array(e,!0,!1,t,null,0,o,n,null,null)}function ay(e,t){const n=zn(t,e);if(zs(n)){const o=n[1];80&n[2]?Uc(o,n,o.template,n[8]):n[5]>0&&qf(n)}}function qf(e){for(let o=Et(e);null!==o;o=kt(o))for(let l=10;l<o.length;l++){const h=o[l];if(1024&h[2]){const y=h[1];Uc(y,h,y.template,h[8])}else h[5]>0&&qf(h)}const n=e[1].components;if(null!==n)for(let o=0;o<n.length;o++){const l=zn(n[o],e);zs(l)&&l[5]>0&&qf(l)}}function qu(e,t){const n=zn(t,e),o=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(o,n),jl(o,n,n[8])}function zf(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Wf(e){for(;e;){e[2]|=64;const t=Be(e);if(hu(e)&&!t)return e;e=t}return null}function Ch(e,t,n){const o=t[10];o.begin&&o.begin();try{Uc(e,t,e.template,n)}catch(l){throw Ah(t,l),l}finally{o.end&&o.end()}}function Hc(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=Ka(n),l=o[1];Qm(l,o,l.template,n)}}(e[8])}function vr(e,t,n){ur(0),t(e,n)}const cy=(()=>Promise.resolve(null))();function ly(e){return e[7]||(e[7]=[])}function Dh(e){return e.cleanup||(e.cleanup=[])}function Ah(e,t){const n=e[9],o=n?n.get(Ts,null):null;o&&o.handleError(t)}function Th(e,t,n,o,l){for(let h=0;h<n.length;){const y=n[h++],b=n[h++],E=t[y],A=e.data[y];null!==A.setInput?A.setInput(E,l,o,b):E[b]=l}}function Os(e,t,n){const o=Eo(t,e);!function(e,t,n){wn(e)?e.setValue(t,n):t.textContent=n}(e[11],o,n)}function Ul(e,t,n){let o=n?e.styles:null,l=n?e.classes:null,h=0;if(null!==t)for(let y=0;y<t.length;y++){const b=t[y];"number"==typeof b?h=b:1==h?l=Z(l,b):2==h&&(o=Z(o,b+": "+t[++y]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=l:e.classesWithoutHost=l}const Zu=new Tn("INJECTOR",-1);class Sh{get(t,n=ci){if(n===ci){const o=new Error(`NullInjectorError: No provider for ${J(t)}!`);throw o.name="NullInjectorError",o}return n}}const Gc=new Tn("Set Injector scope."),$c={},fy={};let Zf;function Mh(){return void 0===Zf&&(Zf=new Sh),Zf}function xh(e,t=null,n=null,o){return new Oh(e,n,t||Mh(),o)}class Oh{constructor(t,n,o,l=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];n&&Vn(n,b=>this.processProvider(b,t,n)),Vn([t],b=>this.processInjectorType(b,[],h)),this.records.set(Zu,va(void 0,this));const y=this.records.get(Gc);this.scope=null!=y?y.value:null,this.source=l||("object"==typeof t?null:J(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=ci,o=rt.Default){this.assertNotDestroyed();const l=Fo(this),h=dt(void 0);try{if(!(o&rt.SkipSelf)){let b=this.records.get(t);if(void 0===b){const E=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Tn)&&Je(t);b=E&&this.injectableDefInScope(E)?va(Yf(t),$c):null,this.records.set(t,b)}if(null!=b)return this.hydrate(t,b)}return(o&rt.Self?Mh():this.parent).get(t,n=o&rt.Optional&&n===ci?null:n)}catch(y){if("NullInjectorError"===y.name){if((y[Ha]=y[Ha]||[]).unshift(J(t)),l)throw y;return bf(y,t,"R3InjectorError",this.source)}throw y}finally{dt(h),Fo(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((o,l)=>t.push(J(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,o){if(!(t=De(t)))return!1;let l=$n(t);const h=null==l&&t.ngModule||void 0,y=void 0===h?t:h,b=-1!==o.indexOf(y);if(void 0!==h&&(l=$n(h)),null==l)return!1;if(null!=l.imports&&!b){let N;o.push(y);try{Vn(l.imports,j=>{this.processInjectorType(j,n,o)&&(void 0===N&&(N=[]),N.push(j))})}finally{}if(void 0!==N)for(let j=0;j<N.length;j++){const{ngModule:G,providers:Q}=N[j];Vn(Q,se=>this.processProvider(se,G,Q||St))}}this.injectorDefTypes.add(y);const E=vo(y)||(()=>new y);this.records.set(y,va(E,$c));const A=l.providers;if(null!=A&&!b){const N=t;Vn(A,j=>this.processProvider(j,N,A))}return void 0!==h&&void 0!==t.providers}processProvider(t,n,o){let l=rr(t=De(t))?t:De(t&&t.provide);const h=Rh(e=t)?va(void 0,e.useValue):va(Kf(e),$c);var e;if(rr(t)||!0!==t.multi)this.records.get(l);else{let y=this.records.get(l);y||(y=va(void 0,$c,!0),y.factory=()=>ko(y.multi),this.records.set(l,y)),l=t,y.multi.push(t)}this.records.set(l,h)}hydrate(t,n){return n.value===$c&&(n.value=fy,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=De(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Yf(e){const t=Je(e),n=null!==t?t.factory:vo(e);if(null!==n)return n;if(e instanceof Tn)throw new Error(`Token ${J(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const o=function(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${J(e)}: (${o.join(", ")}).`)}const n=function(e){const t=e&&(e[Jt]||e[_r]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Kf(e,t,n){let o;if(rr(e)){const l=De(e);return vo(l)||Yf(l)}if(Rh(e))o=()=>De(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ko(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>vn(De(e.useExisting));else{const l=De(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return vo(l)||Yf(l);o=()=>new l(...ko(e.deps))}return o}function va(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Rh(e){return null!==e&&"object"==typeof e&&Po in e}function rr(e){return"function"==typeof e}const Qf=function(e,t,n){return function(e,t=null,n=null,o){const l=xh(e,t,n,o);return l._resolveInjectorDefTypes(),l}({name:n},t,e,n)};class Wt{static create(t,n){return Array.isArray(t)?Qf(t,n,""):Qf(t.providers,t.parent,t.name||"")}}function Vh(e,t){Xn(Ka(e)[1],fn())}function xg(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let l;if(Dn(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");l=t.\u0275dir}if(l){if(n){o.push(l);const y=e;y.inputs=Wc(e.inputs),y.declaredInputs=Wc(e.declaredInputs),y.outputs=Wc(e.outputs);const b=l.hostBindings;b&&I_(e,b);const E=l.viewQuery,A=l.contentQueries;if(E&&Og(e,E),A&&D_(e,A),ie(e.inputs,l.inputs),ie(e.declaredInputs,l.declaredInputs),ie(e.outputs,l.outputs),Dn(l)&&l.data.animation){const N=e.data;N.animation=(N.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const b=h[y];b&&b.ngInherit&&b(e),b===xg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=t+=l.hostVars,l.hostAttrs=sc(l.hostAttrs,n=sc(n,l.hostAttrs))}}(o)}function Wc(e){return e===rn?{}:e===St?[]:e}function Og(e,t){const n=e.viewQuery;e.viewQuery=n?(o,l)=>{t(o,l),n(o,l)}:t}function D_(e,t){const n=e.contentQueries;e.contentQueries=n?(o,l,h)=>{t(o,l,h),n(o,l,h)}:t}function I_(e,t){const n=e.hostBindings;e.hostBindings=n?(o,l)=>{t(o,l),n(o,l)}:t}Wt.THROW_IF_NOT_FOUND=ci,Wt.NULL=new Sh,Wt.\u0275prov=Zt({token:Wt,providedIn:"any",factory:()=>vn(Zu)}),Wt.__NG_ELEMENT_ID__=-1;let Wl=null;function Zc(){if(!Wl){const e=et.Symbol;if(e&&e.iterator)Wl=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const o=t[n];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Wl=o)}}}return Wl}class ao{constructor(t){this.wrapped=t}static wrap(t){return new ao(t)}static unwrap(t){return ao.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ao}}function iu(e){return!!rd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zc()in e)}function rd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rs(e,t,n){return e[t]=n}function Mr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function od(e,t,n,o){const l=xe();return Mr(l,Ao(),t)&&(Dt(),Fi(V(),l,e,t,n,o)),od}function Yc(e,t,n,o){return Mr(e,Ao(),n)?t+We(n)+o:vt}function Ug(e,t,n,o,l,h,y,b){const E=xe(),A=Dt(),N=e+20,j=A.firstCreatePass?function(e,t,n,o,l,h,y,b,E){const A=t.consts,N=jc(t,e,4,y||null,on(A,b));mh(t,n,N,on(A,E)),Xn(t,N);const j=N.tViews=Bc(2,N,o,l,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,A);return null!==t.queries&&(t.queries.template(t,N),j.queries=t.queries.embeddedTView(N)),N}(N,A,E,t,n,o,l,h,y):A.data[N];ar(j,!1);const G=E[11].createComment("");Ff(A,E,G,j),nr(G,E),zf(E,E[N]=sg(G,E,G,j)),ni(j)&&Hf(A,E,j),null!=y&&fh(E,j,b)}function ad(e){return sr(at.lFrame.contextLView,20+e)}function zt(e,t=rt.Default){const n=xe();return null===n?vn(e,t):qr(fn(),n,De(e),t)}function Lt(e,t,n){const o=xe();return Mr(o,Ao(),t)&&Pi(Dt(),V(),o,e,t,o[11],n,!1),Lt}function gn(e,t,n,o,l){const y=l?"class":"style";Th(e,n,t.inputs[y],y,o)}function Qr(e,t,n,o){const l=xe(),h=Dt(),y=20+e,b=l[11],E=l[y]=qo(b,t,at.lFrame.currentNamespace),A=h.firstCreatePass?function(e,t,n,o,l,h,y){const b=t.consts,A=jc(t,e,2,l,on(b,h));return mh(t,n,A,on(b,y)),null!==A.attrs&&Ul(A,A.attrs,!1),null!==A.mergedAttrs&&Ul(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(y,h,l,0,t,n,o):h.data[y];ar(A,!0);const N=A.mergedAttrs;null!==N&&hs(b,E,N);const j=A.classes;null!==j&&Op(b,E,j);const G=A.styles;null!==G&&Qd(b,E,G),64!=(64&A.flags)&&Ff(h,l,E,A),0===at.lFrame.elementDepthCount&&nr(E,l),at.lFrame.elementDepthCount++,ni(A)&&(Hf(h,l,A),function(e,t,n){if(po(t)){const l=t.directiveEnd;for(let h=t.directiveStart;h<l;h++){const y=e.data[h];y.contentQueries&&y.contentQueries(1,n[h],h)}}}(h,A,l)),null!==o&&fh(l,A)}function sn(){let e=fn();Do()?at.lFrame.isParent=!1:(e=e.parent,ar(e,!1));const t=e;at.lFrame.elementDepthCount--;const n=Dt();n.firstCreatePass&&(Xn(n,e),po(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&gn(n,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&gn(n,t,xe(),t.stylesWithoutHost,!1)}function cd(e,t,n,o){Qr(e,t,n,o),sn()}function F_(){return xe()}function Ly(e){return!!e&&"function"==typeof e.then}function k_(e){return!!e&&"function"==typeof e.subscribe}const Vy=k_;function jy(e,t,n,o){const l=xe(),h=Dt(),y=fn();return function(e,t,n,o,l,h,y,b){const E=ni(o),N=e.firstCreatePass&&Dh(e),j=t[8],G=ly(t);let Q=!0;if(3&o.type||b){const ge=Rr(o,t),Le=b?b(ge):ge,Oe=G.length,ot=b?yt=>b(Ut(yt[o.index])):o.index;if(wn(n)){let yt=null;if(!b&&E&&(yt=function(e,t,n,o){const l=e.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===n&&l[h+1]===o){const b=t[7],E=l[h+2];return b.length>E?b[E]:null}"string"==typeof y&&(h+=2)}return null}(e,t,l,o.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=h,yt.__ngLastListenerFn__=h,Q=!1;else{h=Uy(o,t,j,h,!1);const Bt=n.listen(Le,l,h);G.push(h,Bt),N&&N.push(l,ot,Oe,Oe+1)}}else h=Uy(o,t,j,h,!0),Le.addEventListener(l,h,y),G.push(h),N&&N.push(l,ot,Oe,y)}else h=Uy(o,t,j,h,!1);const se=o.outputs;let Ce;if(Q&&null!==se&&(Ce=se[l])){const ge=Ce.length;if(ge)for(let Le=0;Le<ge;Le+=2){const xr=t[Ce[Le]][Ce[Le+1]].subscribe(h),ks=G.length;G.push(h,xr),N&&N.push(l,o.index,ks,-(ks+1))}}}(h,l,l[11],y,e,t,!!n,o),jy}function j_(e,t,n,o){try{return!1!==n(o)}catch(l){return Ah(e,l),!1}}function Uy(e,t,n,o,l){return function h(y){if(y===Function)return o;const b=2&e.flags?zn(e.index,t):t;0==(32&t[2])&&Wf(b);let E=j_(t,0,o,y),A=h.__ngNextListenerFn__;for(;A;)E=j_(t,0,A,y)&&E,A=A.__ngNextListenerFn__;return l&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function U_(e=1){return function(e){return(at.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,at.lFrame.contextLView))[8]}(e)}function By(e,t,n){return Yg(e,"",t,"",n),By}function Yg(e,t,n,o,l){const h=xe(),y=Yc(h,t,n,o);return y!==vt&&Pi(Dt(),V(),h,e,y,h[11],l,!1),Yg}function Y_(e,t,n,o,l){const h=e[n+1],y=null===t;let b=o?Wo(h):so(h),E=!1;for(;0!==b&&(!1===E||y);){const N=e[b+1];IE(e[b],t)&&(E=!0,e[b+1]=o?eu(N):nh(N)),b=o?Wo(N):so(N)}E&&(e[n+1]=o?nh(h):eu(h))}function IE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Mi(e,t)>=0}function Hy(e,t){return function(e,t,n,o){const l=xe(),h=Dt(),y=function(e){const t=at.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);h.firstUpdatePass&&function(e,t,n,o){const l=e.data;if(null===l[n+1]){const h=l[I()],y=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(h,o)&&null===t&&!y&&(t=!1),t=function(e,t,n,o){const l=function(e){const t=at.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=o?t.residualClasses:t.residualStyles;if(null===l)0===(o?t.classBindings:t.styleBindings)&&(n=qh(n=Gy(null,e,t,n,o),t.attrs,o),h=null);else{const y=t.directiveStylingLast;if(-1===y||e[y]!==l)if(n=Gy(l,e,t,n,o),null===h){let E=function(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==so(o))return e[Wo(o)]}(e,t,o);void 0!==E&&Array.isArray(E)&&(E=Gy(null,e,t,E[1],o),E=qh(E,t.attrs,o),function(e,t,n,o){e[Wo(n?t.classBindings:t.styleBindings)]=o}(e,t,o,E))}else h=function(e,t,n){let o;const l=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<l;h++)o=qh(o,e[h].hostAttrs,n);return qh(o,t.attrs,n)}(e,t,o)}return void 0!==h&&(o?t.residualClasses=h:t.residualStyles=h),n}(l,h,t,o),function(e,t,n,o,l,h){let y=h?t.classBindings:t.styleBindings,b=Wo(y),E=so(y);e[o]=n;let N,A=!1;if(Array.isArray(n)){const j=n;N=j[1],(null===N||Mi(j,N)>0)&&(A=!0)}else N=n;if(l)if(0!==E){const G=Wo(e[b+1]);e[o+1]=Fl(G,b),0!==G&&(e[G+1]=kl(e[G+1],o)),e[b+1]=function(e,t){return 131071&e|t<<17}(e[b+1],o)}else e[o+1]=Fl(b,0),0!==b&&(e[b+1]=kl(e[b+1],o)),b=o;else e[o+1]=Fl(E,0),0===b?b=o:e[E+1]=kl(e[E+1],o),E=o;A&&(e[o+1]=nh(e[o+1])),Y_(e,N,o,!0),Y_(e,N,o,!1),function(e,t,n,o,l){const h=l?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Mi(h,t)>=0&&(n[o+1]=eu(n[o+1]))}(t,N,e,o,h),y=Fl(b,E),h?t.classBindings=y:t.styleBindings=y}(l,h,t,n,y,o)}}(h,e,y,o),t!==vt&&Mr(l,y,t)&&function(e,t,n,o,l,h,y,b){if(!(3&t.type))return;const E=e.data,A=E[b+1];Kg(function(e){return 1==(1&e)}(A)?ab(E,t,n,l,so(A),y):void 0)||(Kg(h)||function(e){return 2==(2&e)}(A)&&(h=ab(E,null,n,l,b,y)),function(e,t,n,o,l){const h=wn(e);if(t)l?h?e.addClass(n,o):n.classList.add(o):h?e.removeClass(n,o):n.classList.remove(o);else{let y=-1===o.indexOf("-")?void 0:Y.DashCase;if(null==l)h?e.removeStyle(n,o,y):n.style.removeProperty(o);else{const b="string"==typeof l&&l.endsWith("!important");b&&(l=l.slice(0,-10),y|=Y.Important),h?e.setStyle(n,o,l,y):n.style.setProperty(o,l,b?"important":"")}}}(o,y,Eo(I(),n),l,h))}(h,h.data[I()],l,l[11],e,l[y+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=J(xi(e)))),e}(t,n),o,y)}(e,t,null,!0),Hy}function Gy(e,t,n,o,l){let h=null;const y=n.directiveEnd;let b=n.directiveStylingLast;for(-1===b?b=n.directiveStart:b++;b<y&&(h=t[b],o=qh(o,h.hostAttrs,l),h!==e);)b++;return null!==e&&(n.directiveStylingLast=b),o}function qh(e,t,n){const o=n?1:2;let l=-1;if(null!==t)for(let h=0;h<t.length;h++){const y=t[h];"number"==typeof y?l=y:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yr(e,y,!!n||t[++h]))}return void 0===e?null:e}function ab(e,t,n,o,l,h){const y=null===t;let b;for(;l>0;){const E=e[l],A=Array.isArray(E),N=A?E[1]:E,j=null===N;let G=n[l+1];G===vt&&(G=j?St:void 0);let Q=j?Ba(G,o):N===o?G:void 0;if(A&&!Kg(Q)&&(Q=Ba(E,o)),Kg(Q)&&(b=Q,y))return b;const se=e[l+1];l=y?Wo(se):so(se)}if(null!==t){let E=h?t.residualClasses:t.residualStyles;null!=E&&(b=Ba(E,o))}return b}function Kg(e){return void 0!==e}function cb(e,t=""){const n=xe(),o=Dt(),l=e+20,h=o.firstCreatePass?jc(o,l,1,t,null):o.data[l],y=n[l]=function(e,t){return wn(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Ff(o,n,y,h),ar(h,!1)}function $y(e){return Qg("",e,""),$y}function Qg(e,t,n){const o=xe(),l=Yc(o,e,t,n);return l!==vt&&Os(o,I(),l),Qg}function qy(e,t,n){const o=xe();return Mr(o,Ao(),t)&&Pi(Dt(),V(),o,e,t,o[11],n,!0),qy}const Yl=void 0;var sC=["en",[["a","p"],["AM","PM"],Yl],[["AM","PM"],Yl,Yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yl,"{1} 'at' {0}",Yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let fd={};function zy(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Mb(t);if(n)return n;const o=t.split("-")[0];if(n=Mb(o),n)return n;if("en"===o)return sC;throw new Error(`Missing locale data for the locale "${e}".`)}function Sb(e){return zy(e)[ut.PluralCase]}function Mb(e){return e in fd||(fd[e]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[e]),fd[e]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const Jg="en-US";let Nb=Jg;function Wy(e){Ht(e,"Expected localeId to be defined"),"string"==typeof e&&(Nb=e.toLowerCase().replace(/_/g,"-"))}function Ky(e,t,n,o,l){if(e=De(e),Array.isArray(e))for(let h=0;h<e.length;h++)Ky(e[h],t,n,o,l);else{const h=Dt(),y=xe();let b=rr(e)?e:De(e.provide),E=Kf(e);const A=fn(),N=1048575&A.providerIndexes,j=A.directiveStart,G=A.providerIndexes>>20;if(rr(e)||!e.multi){const Q=new Fa(E,l,zt),se=Jy(b,t,l?N:N+G,j);-1===se?(Tu(Ti(A,y),h,b),Qy(h,e,t.length),t.push(b),A.directiveStart++,A.directiveEnd++,l&&(A.providerIndexes+=1048576),n.push(Q),y.push(Q)):(n[se]=Q,y[se]=Q)}else{const Q=Jy(b,t,N+G,j),se=Jy(b,t,N,N+G),Ce=Q>=0&&n[Q],ge=se>=0&&n[se];if(l&&!ge||!l&&!Ce){Tu(Ti(A,y),h,b);const Le=function(e,t,n,o,l){const h=new Fa(e,n,zt);return h.multi=[],h.index=t,h.componentProviders=0,ew(h,l,o&&!n),h}(l?rD:nD,n.length,l,o,E);!l&&ge&&(n[se].providerFactory=Le),Qy(h,e,t.length,0),t.push(b),A.directiveStart++,A.directiveEnd++,l&&(A.providerIndexes+=1048576),n.push(Le),y.push(Le)}else Qy(h,e,Q>-1?Q:se,ew(n[l?se:Q],E,!l&&o));!l&&o&&ge&&n[se].componentProviders++}}}function Qy(e,t,n,o){const l=rr(t);if(l||function(e){return!!e.useClass}(t)){const y=(t.useClass||t).prototype.ngOnDestroy;if(y){const b=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const E=b.indexOf(n);-1===E?b.push(n,[o,y]):b[E+1].push(o,y)}else b.push(n,y)}}}function ew(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Jy(e,t,n,o){for(let l=n;l<o;l++)if(t[l]===e)return l;return-1}function nD(e,t,n,o){return Xy(this.multi,[])}function rD(e,t,n,o){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Js(n,n[1],this.providerFactory.index,o);h=b.slice(0,y),Xy(l,h);for(let E=y;E<b.length;E++)h.push(b[E])}else h=[],Xy(l,h);return h}function Xy(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function tw(e,t=[]){return n=>{n.providersResolver=(o,l)=>function(e,t,n){const o=Dt();if(o.firstCreatePass){const l=Dn(e);Ky(n,o.data,o.blueprint,l,!0),Ky(t,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,t)}}class nw{}const iw="ngComponent";class sD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${J(e)}. Did you add it to @NgModule.entryComponents?`);return t[iw]=e,t}(t)}}class Kl{}function rm(...e){}function hd(e,t){return new fu(Rr(e,t))}Kl.NULL=new sD;const cD=function(){return hd(fn(),xe())};let fu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=cD,e})();function ow(e){return e instanceof fu?e.nativeElement:e}class im{}let lD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>dD(),e})();const dD=function(){const e=xe(),n=zn(fn().index,e);return function(e){return e[11]}(bi(n)?n:e)};let tv=(()=>{class e{}return e.\u0275prov=Zt({token:e,providedIn:"root",factory:()=>null}),e})();class sw{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nv=new sw("12.2.4");class aw{constructor(){}supports(t){return iu(t)}create(t){return new mD(t)}}const gD=(e,t)=>t;class mD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,l=0,h=null;for(;n||o;){const y=!o||n&&n.currentIndex<cw(o,l,h)?n:o,b=cw(y,l,h),E=y.currentIndex;if(y===o)l--,o=o._nextRemoved;else if(n=n._next,null==y.previousIndex)l++;else{h||(h=[]);const A=b-l,N=E-l;if(A!=N){for(let G=0;G<A;G++){const Q=G<h.length?h[G]:h[G]=0,se=Q+G;N<=se&&se<A&&(h[G]=Q+1)}h[y.previousIndex]=N-A}}b!==E&&t(y,b,E)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!iu(t))throw new Error(`Error trying to diff '${J(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,h,y,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let b=0;b<this.length;b++)h=t[b],y=this._trackByFn(b,h),null!==n&&Object.is(n.trackById,y)?(o&&(n=this._verifyReinsertion(n,h,y,b)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,y,b),o=!0),n=n._next}else l=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Zc()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,b=>{y=this._trackByFn(l,b),null!==n&&Object.is(n.trackById,y)?(o&&(n=this._verifyReinsertion(n,b,y,l)),Object.is(n.item,b)||this._addIdentityChange(n,b)):(n=this._mismatch(n,b,y,l),o=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,l){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,h,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,h,l)):t=this._addAfter(new yD(n,o),h,l),t}_verifyReinsertion(t,n,o,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?t=this._reinsertAfter(h,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,h=t._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new uw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class uw{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new vD,this.map.set(n,o)),o.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cw(e,t,n){const o=e.previousIndex;if(null===o)return o;let l=0;return n&&o<n.length&&(l=n[o]),o+t+l}class lw{constructor(){}supports(t){return t instanceof Map||rd(t)}create(){return new _D}}class _D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||rd(t)))throw new Error(`Error trying to diff '${J(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const h=this._getOrCreateRecordForKey(l,o);n=this._insertBeforeOrAppend(n,h)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const o=new bD(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class bD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fw(){return new om([new aw])}let om=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(null!=o){const l=o.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||fw()),deps:[[e,new jo,new Ni]]}}find(n){const o=this.factories.find(l=>l.supports(n));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Zt({token:e,providedIn:"root",factory:fw}),e})();function dw(){return new sm([new lw])}let sm=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(o){const l=o.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||dw()),deps:[[e,new jo,new Ni]]}}find(n){const o=this.factories.find(l=>l.supports(n));if(o)return o;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Zt({token:e,providedIn:"root",factory:dw}),e})();function am(e,t,n,o,l=!1){for(;null!==n;){const h=t[n.index];if(null!==h&&o.push(Ut(h)),Pt(h))for(let b=10;b<h.length;b++){const E=h[b],A=E[1].firstChild;null!==A&&am(E[1],E,A,o)}const y=n.type;if(8&y)am(e,t,n.child,o);else if(32&y){const b=be(n,t);let E;for(;E=b();)o.push(E)}else if(16&y){const b=Mp(t,n);if(Array.isArray(b))o.push(...b);else{const E=Be(t[16]);am(E[1],E,b,o,!0)}}n=l?n.projectionNext:n.next}return o}class Kh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return am(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Pt(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(Zd(t,o),Ro(n,o))}this._attachedToViewContainer=!1}Ep(this._lView[1],this._lView)}onDestroy(t){Qp(this._lView[1],this._lView,null,t)}markForCheck(){Wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ch(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ki(!0);try{Ch(e,t,n)}finally{Ki(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Pl(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ED extends Kh{constructor(t){super(t),this._view=t}detectChanges(){Hc(this._view)}checkNoChanges(){!function(e){Ki(!0);try{Hc(e)}finally{Ki(!1)}}(this._view)}get context(){return null}}const DD=function(e){return function(e,t,n){if(go(e)&&!n){const o=zn(e.index,t);return new Kh(o,o)}return 47&e.type?new Kh(t[16],t):null}(fn(),xe(),16==(16&e))};let ID=(()=>{class e{}return e.__NG_ELEMENT_ID__=DD,e})();const SD=[new lw],ND=new om([new aw]),xD=new sm(SD),RD=function(){return um(fn(),xe())};let Qh=(()=>{class e{}return e.__NG_ELEMENT_ID__=RD,e})();const PD=Qh,FD=class extends PD{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}createEmbeddedView(t){const n=this._declarationTContainer.tViews,o=Gn(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(o[19]=h.createEmbeddedView(n)),jl(n,o,t),new Kh(o)}};function um(e,t){return 4&e.type?new FD(t,e,hd(e,t)):null}class Ql{}class hw{}const VD=function(){return mw(fn(),xe())};let cm=(()=>{class e{}return e.__NG_ELEMENT_ID__=VD,e})();const UD=cm,pw=class extends UD{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Va(this._hostTNode,this._hostLView);if(ol(t)){const n=La(t,this._hostLView),o=ka(t);return new Xs(n[1].data[o+8],n)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=gw(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,o){const l=t.createEmbeddedView(n||{});return this.insert(l,o),l}createComponent(t,n,o,l,h){const y=o||this.parentInjector;if(!h&&null==t.ngModule&&y){const E=y.get(Ql,null);E&&(h=E)}const b=t.create(y,l,void 0,h);return this.insert(b.hostView,n),b}insert(t,n){const o=t._lView,l=o[1];if(Pt(o[3])){const N=this.indexOf(t);if(-1!==N)this.detach(N);else{const j=o[3],G=new pw(j,j[6],j[3]);G.detach(G.indexOf(t))}}const h=this._adjustIndex(n),y=this._lContainer;!function(e,t,n,o){const l=10+o,h=n.length;o>0&&(n[l-1][4]=t),o<h-10?(t[4]=n[l],ys(n,10+o,t)):(n.push(t),t[4]=null),t[3]=n;const y=t[17];null!==y&&n!==y&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(y,t);const b=t[19];null!==b&&b.insertView(e),t[2]|=128}(l,o,y,h);const b=Kd(h,y),E=o[11],A=Pf(E,y[7]);return null!==A&&function(e,t,n,o,l,h){o[0]=l,o[6]=t,Pl(e,o,n,1,l,h)}(l,y[6],E,o,A,b),t.attachToViewContainerRef(),ys(rv(y),h,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=gw(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=Zd(this._lContainer,n);o&&(Ro(rv(this._lContainer),n),Ep(o[1],o))}detach(t){const n=this._adjustIndex(t,-1),o=Zd(this._lContainer,n);return o&&null!=Ro(rv(this._lContainer),n)?new Kh(o):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function gw(e){return e[8]}function rv(e){return e[8]||(e[8]=[])}function mw(e,t){let n;const o=t[e.index];if(Pt(o))n=o;else{let l;if(8&e.type)l=Ut(o);else{const h=t[11];l=h.createComment("");const y=Rr(e,t);Hu(h,Pf(h,y),l,function(e,t){return wn(e)?e.nextSibling(t):t.nextSibling}(h,y),!1)}t[e.index]=n=sg(o,t,l,e),zf(t,n)}return new pw(n,e,t)}const yd={};class kw extends Kl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mn(t);return new Vw(n,this.ngModule)}}function Lw(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const kI=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>s});class Vw extends nw{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(Bm).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Lw(this.componentDef.inputs)}get outputs(){return Lw(this.componentDef.outputs)}create(t,n,o,l){const h=(l=l||this.ngModule)?function(e,t){return{get:(n,o,l)=>{const h=e.get(n,yd,l);return h!==yd||o===yd?h:t.get(n,o,l)}}}(t,l.injector):t,y=h.get(im,xa),b=h.get(tv,null),E=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=o?function(e,t,n){if(wn(e))return e.selectRootElement(t,n===Xe.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(E,o,this.componentDef.encapsulation):qo(y.createRenderer(null,this.componentDef),A,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(A)),j=this.componentDef.onPush?576:528,G=function(e,t){return{components:[],scheduler:e||s,clean:cy,playerHandler:t||null,flags:0}}(),Q=Bc(0,null,null,1,0,null,null,null,null,null),se=Gn(null,Q,G,j,null,null,y,E,b,h);let Ce,ge;$r(se);try{const Le=function(e,t,n,o,l,h){const y=n[1];n[20]=e;const E=jc(y,20,2,"#host",null),A=E.mergedAttrs=t.hostAttrs;null!==A&&(Ul(E,A,!0),null!==e&&(hs(l,e,A),null!==E.classes&&Op(l,e,E.classes),null!==E.styles&&Qd(l,e,E.styles)));const N=o.createRenderer(e,t),j=Gn(n,dh(t),null,t.onPush?64:16,n[20],E,o,N,h||null,null);return y.firstCreatePass&&(Tu(Ti(E,n),y,t.type),_h(y,E),bh(E,n.length,1)),zf(n,j),n[20]=j}(N,this.componentDef,se,y,E);if(N)if(o)hs(E,N,["ng-version",nv.full]);else{const{attrs:Oe,classes:ot}=function(e){const t=[],n=[];let o=1,l=2;for(;o<e.length;){let h=e[o];if("string"==typeof h)2===l?""!==h&&t.push(h,e[++o]):8===l&&n.push(h);else{if(!zo(l))break;l=h}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Oe&&hs(E,N,Oe),ot&&ot.length>0&&Op(E,N,ot.join(" "))}if(ge=zi(Q,20),void 0!==n){const Oe=ge.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const yt=n[ot];Oe.push(null!=yt?Array.from(yt):null)}}Ce=function(e,t,n,o,l){const h=n[1],y=function(e,t,n){const o=fn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),og(e,o,t,Vl(e,t,1,null),n));const l=Js(t,e,o.directiveStart,o);nr(l,t);const h=Rr(o,t);return h&&nr(h,t),l}(h,n,t);if(o.components.push(y),e[8]=y,l&&l.forEach(E=>E(y,t)),t.contentQueries){const E=fn();t.contentQueries(1,y,E.directiveStart)}const b=fn();return!h.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(S(b.index),yh(n[1],b,0,b.directiveStart,b.directiveEnd,t),$f(t,y)),y}(Le,this.componentDef,se,G,[Vh]),jl(Q,se,null)}finally{Du()}return new jI(this.componentType,Ce,hd(ge,se),se,ge)}}class jI extends class{}{constructor(t,n,o,l,h){super(),this.location=o,this._rootLView=l,this._tNode=h,this.instance=n,this.hostView=this.changeDetectorRef=new ED(l),this.componentType=t}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const vd=new Map;class HI extends Ql{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kw(this);const o=qn(t),l=t[jr]||null;l&&Wy(l),this._bootstrapComponents=D(o.bootstrap),this._r3Injector=xh(t,n,[{provide:Ql,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],J(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Wt.THROW_IF_NOT_FOUND,o=rt.Default){return t===Wt||t===Ql||t===Zu?this:this._r3Injector.get(t,n,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mv extends hw{constructor(t){super(),this.moduleType=t,null!==qn(t)&&function(e){const t=new Set;!function n(o){const l=qn(o,!0),h=l.id;null!==h&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${J(t)} vs ${J(t.name)}`)}(h,vd.get(h),o),vd.set(h,o));const y=D(l.imports);for(const b of y)t.has(b)||(t.add(b),n(b))}(e)}(t)}create(t){return new HI(this.moduleType,t)}}function Bw(e,t,n){const o=Zn()+e,l=xe();return l[o]===vt?Rs(l,o,n?t.call(n):t()):function(e,t){return e[t]}(l,o)}function Hw(e,t,n,o){return Gw(xe(),Zn(),e,t,n,o)}function Gw(e,t,n,o,l,h){const y=t+n;return Mr(e,y,l)?Rs(e,y+1,h?o.call(h,l):o(l)):function(e,t){const n=e[t];return n===vt?void 0:n}(e,y+1)}function Zw(e,t){const n=Dt();let o;const l=e+20;n.firstCreatePass?(o=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}throw new pe("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[l]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(l,o.onDestroy)):o=n.data[l];const h=o.factory||(o.factory=vo(o.type)),y=dt(zt);try{const b=ac(!1),E=h();return ac(b),function(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,xe(),l,E),E}finally{dt(y)}}function Yw(e,t,n){const o=e+20,l=xe(),h=sr(l,o);return function(e,t){ao.isWrapped(t)&&(t=ao.unwrap(t),e[at.lFrame.bindingIndex]=vt);return t}(l,function(e,t){return e[1].data[t].pure}(l,o)?Gw(l,Zn(),t,h.transform,n,h):h.transform(n))}function yv(e){return t=>{setTimeout(e,void 0,t)}}const du=class extends g.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,o){var l,h,y;let b=t,E=n||(()=>null),A=o;if(t&&"object"==typeof t){const j=t;b=null===(l=j.next)||void 0===l?void 0:l.bind(j),E=null===(h=j.error)||void 0===h?void 0:h.bind(j),A=null===(y=j.complete)||void 0===y?void 0:y.bind(j)}this.__isAsync&&(E=yv(E),b&&(b=yv(b)),A&&(A=yv(A)));const N=super.subscribe({next:b,error:E,complete:A});return t instanceof P.w&&t.add(N),N}};function rA(){return this._results[Zc()]()}class pm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Zc(),o=pm.prototype;o[n]||(o[n]=rA)}get changes(){return this._changes||(this._changes=new du)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const o=this;o.dirty=!1;const l=Zr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],h=t[o];if(n&&(l=n(l),h=n(h)),h!==l)return!1}return!0}(o._results,l,n))&&(o._results=l,o.length=l.length,o.last=l[this.length-1],o.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class vv{constructor(t){this.queryList=t,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _v{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let h=0;h<o;h++){const y=n.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new _v(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==r0(t,n).matches&&this.queries[n].setDirty()}}class Kw{constructor(t,n,o=null){this.predicate=t,this.flags=n,this.read=o}}class bv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const l=null!==n?n.length:0,h=this.getByIndex(o).embeddedTView(t,l);h&&(h.indexInDeclarationView=o,null!==n?n.push(h):n=[h])}return null!==n?new bv(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new wv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const h=o[l];this.matchTNodeWithReadOption(t,n,sA(n,h)),this.matchTNodeWithReadOption(t,n,cc(n,t,h,!1,!1))}else o===Qh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,cc(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===fu||l===cm||l===Qh&&4&n.type)this.addMatch(n.index,-2);else{const h=cc(n,t,l,!1,!1);null!==h&&this.addMatch(n.index,h)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function sA(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function uA(e,t,n,o){return-1===n?function(e,t){return 11&e.type?hd(e,t):4&e.type?um(e,t):null}(t,e):-2===n?function(e,t,n){return n===fu?hd(t,e):n===Qh?um(t,e):n===cm?mw(t,e):void 0}(e,t,o):Js(e,e[1],n,t)}function Qw(e,t,n,o){const l=t[19].queries[o];if(null===l.matches){const h=e.data,y=n.matches,b=[];for(let E=0;E<y.length;E+=2){const A=y[E];b.push(A<0?null:uA(t,h[A],y[E+1],n.metadata.read))}l.matches=b}return l.matches}function Ev(e,t,n,o){const l=e.queries.getByIndex(n),h=l.matches;if(null!==h){const y=Qw(e,t,l,n);for(let b=0;b<h.length;b+=2){const E=h[b];if(E>0)o.push(y[b/2]);else{const A=h[b+1],N=t[-E];for(let j=10;j<N.length;j++){const G=N[j];G[17]===G[3]&&Ev(G[1],G,A,o)}if(null!==N[9]){const j=N[9];for(let G=0;G<j.length;G++){const Q=j[G];Ev(Q[1],Q,A,o)}}}}}return o}function Jw(e){const t=xe(),n=Dt(),o=Dr();ur(o+1);const l=r0(n,o);if(e.dirty&&In(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const h=l.crossesNgTemplate?Ev(n,t,o,[]):Qw(n,t,l,o);e.reset(h,ow),e.notifyOnChanges()}return!0}return!1}function Xw(e,t,n,o){const l=Dt();if(l.firstCreatePass){const h=fn();(function(e,t,n){null===e.queries&&(e.queries=new bv),e.queries.track(new wv(t,n))})(l,new Kw(t,n,o),h.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}!function(e,t,n){const o=new pm(4==(4&n));Qp(e,t,o,o.destroy),null===t[19]&&(t[19]=new _v),t[19].queries.push(new vv(o))}(l,xe(),n)}function e0(){return e=xe(),t=Dr(),e[19].queries[t].queryList;var e,t}function r0(e,t){return e.queries.getByIndex(t)}function i0(e,t){return um(e,t)}const Sv=new Tn("Application Initializer");let bd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=rm,this.reject=rm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Ly(h))n.push(h);else if(Vy(h)){const y=new Promise((b,E)=>{h.subscribe({complete:b,error:E})});n.push(y)}}Promise.all(n).then(()=>{o()}).catch(l=>{this.reject(l)}),0===n.length&&o(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(vn(Sv,8))},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();const E0=new Tn("AppId"),jA={provide:E0,useFactory:function(){return`${Mv()}${Mv()}${Mv()}`},deps:[]};function Mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const C0=new Tn("Platform Initializer"),D0=new Tn("Platform ID"),I0=new Tn("appBootstrapListener");let A0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();const ym=new Tn("LocaleId"),T0=new Tn("DefaultCurrencyCode");class BA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Nv=function(e){return new mv(e)},HA=Nv,GA=function(e){return Promise.resolve(Nv(e))},S0=function(e){const t=Nv(e),o=D(qn(e).declarations).reduce((l,h)=>{const y=Mn(h);return y&&l.push(new Vw(y)),l},[]);return new BA(t,o)},$A=S0,qA=function(e){return Promise.resolve(S0(e))};let cp=(()=>{class e{constructor(){this.compileModuleSync=HA,this.compileModuleAsync=GA,this.compileModuleAndAllComponentsSync=$A,this.compileModuleAndAllComponentsAsync=qA}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();const ZA=(()=>Promise.resolve(0))();function xv(e){"undefined"==typeof Zone?ZA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Yo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new du(!1),this.onMicrotaskEmpty=new du(!1),this.onStable=new du(!1),this.onError=new du(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&n,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=et.requestAnimationFrame,t=et.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(et,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rv(e),e.isCheckStableRunning=!0,Ov(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,l,h,y,b)=>{try{return M0(e),n.invokeTask(l,h,y,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),N0(e)}},onInvoke:(n,o,l,h,y,b,E)=>{try{return M0(e),n.invoke(l,h,y,b,E)}finally{e.shouldCoalesceRunChangeDetection&&t(),N0(e)}},onHasTask:(n,o,l,h)=>{n.hasTask(l,h),o===l&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,Rv(e),Ov(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(n,o,l,h)=>(n.handleError(l,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,t,KA,rm,rm);try{return h.runTask(y,n,o)}finally{h.cancelTask(y)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const KA={};function Ov(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function M0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function N0(e){e._nesting--,Ov(e)}class XA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new du,this.onMicrotaskEmpty=new du,this.onStable=new du,this.onError=new du}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,l){return t.apply(n,o)}}let x0=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yo.assertNotInAngularZone(),xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,l){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:h,updateCb:l})}whenStable(n,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,o,l){return[]}}return e.\u0275fac=function(n){return new(n||e)(vn(Yo))},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})(),O0=(()=>{class e{constructor(){this._applications=new Map,Pv.addToWindow(this)}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Pv.findTestabilityInTree(this,n,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();class eT{addToWindow(t){}findTestabilityInTree(t,n,o){return null}}function tT(e){Pv=e}let Pv=new eT,R0=!0,P0=!1;function Fv(){return P0=!0,R0}function nT(){if(P0)throw new Error("Cannot enable prod mode after platform setup.");R0=!1}let Da;const F0=new Tn("AllowMultipleToken");class cT{constructor(t,n){this.name=t,this.token=n}}function k0(e,t,n=[]){const o=`Platform: ${t}`,l=new Tn(o);return(h=[])=>{let y=L0();if(!y||y.injector.get(F0,!1))if(e)e(n.concat(h).concat({provide:l,useValue:!0}));else{const b=n.concat(h).concat({provide:l,useValue:!0},{provide:Gc,useValue:"platform"});!function(e){if(Da&&!Da.destroyed&&!Da.injector.get(F0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Da=e.get(V0);const t=e.get(C0,null);t&&t.forEach(n=>n())}(Wt.create({providers:b,name:o}))}return function(e){const t=L0();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function L0(){return Da&&!Da.destroyed?Da:null}let V0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const b=function(e,t){let n;return n="noop"===e?new XA:("zone.js"===e?void 0:e)||new Yo({enableLongStackTrace:Fv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),E=[{provide:Yo,useValue:b}];return b.run(()=>{const A=Wt.create({providers:E,parent:this.injector,name:n.moduleType.name}),N=n.create(A),j=N.injector.get(Ts,null);if(!j)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const G=b.onError.subscribe({next:Q=>{j.handleError(Q)}});N.onDestroy(()=>{kv(this._modules,N),G.unsubscribe()})}),function(e,t,n){try{const o=n();return Ly(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(j,b,()=>{const G=N.injector.get(bd);return G.runInitializers(),G.donePromise.then(()=>(Wy(N.injector.get(ym,Jg)||Jg),this._moduleDoBootstrap(N),N))})})}bootstrapModule(n,o=[]){const l=j0({},o);return function(e,t,n){const o=new mv(n);return Promise.resolve(o)}(0,0,n).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(n){const o=n.injector.get(lp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>o.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${J(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(vn(Wt))},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();function j0(e,t){return Array.isArray(t)?t.reduce(j0,e):Object.assign(Object.assign({},e),t)}let lp=(()=>{class e{constructor(n,o,l,h,y){this._zone=n,this._injector=o,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new Ne.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),E=new Ne.y(A=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Yo.assertNotInAngularZone(),xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Yo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{N.unsubscribe(),j.unsubscribe()}});this.isStable=(0,ve.T)(b,E.pipe(e=>(0,Ae.x)()(function(e,t){return function(o){let l;l="function"==typeof e?e:function(){return e};const h=Object.create(o,ne.N);return h.source=o,h.subjectFactory=l,h}}(le)(e))))}bootstrap(n,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=n instanceof nw?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(l.componentType);const h=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Ql),b=l.create(Wt.NULL,[],o||l.selector,h),E=b.location.nativeElement,A=b.injector.get(x0,null),N=A&&b.injector.get(O0);return A&&N&&N.registerApplication(E,A),b.onDestroy(()=>{this.detachView(b.hostView),kv(this.components,b),N&&N.unregisterApplication(E)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;kv(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(I0,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(vn(Yo),vn(Wt),vn(Ts),vn(Kl),vn(bd))},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();function kv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class gT{}class yT{}const vT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _T=(()=>{class e{constructor(n,o){this._compiler=n,this._config=o||vT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[o,l]=n.split("#");return void 0===l&&(l="default"),z(8255)(o).then(h=>h[l]).then(h=>G0(h,o,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(n){let[o,l]=n.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),z(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(y=>y[l+h]).then(y=>G0(y,o,l))}}return e.\u0275fac=function(n){return new(n||e)(vn(cp),vn(yT,8))},e.\u0275prov=Zt({token:e,factory:e.\u0275fac}),e})();function G0(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const TT=function(e){return null},MT=k0(null,"core",[{provide:D0,useValue:"unknown"},{provide:V0,deps:[Wt]},{provide:O0,deps:[]},{provide:A0,deps:[]}]),PT=[{provide:lp,useClass:lp,deps:[Yo,Wt,Ts,Kl,bd]},{provide:kI,deps:[Yo],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:bd,useClass:bd,deps:[[new Ni,Sv]]},{provide:cp,useClass:cp,deps:[]},jA,{provide:om,useFactory:function(){return ND},deps:[]},{provide:sm,useFactory:function(){return xD},deps:[]},{provide:ym,useFactory:function(e){return Wy(e=e||"undefined"!=typeof $localize&&$localize.locale||Jg),e},deps:[[new Lo(ym),new Ni,new jo]]},{provide:T0,useValue:"USD"}];let kT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(vn(lp))},e.\u0275mod=Ko({type:e}),e.\u0275inj=Rt({providers:PT}),e})()},57:(nt,de,z)=>{"use strict";z.d(de,{hO:()=>L,xv:()=>Re,Dh:()=>De,HU:()=>ie,GT:()=>Ee,sI:()=>x,on:()=>ze,ss:()=>J,pX:()=>we,yq:()=>tt});var g=z(7771),P=z(3637),Ne=z(3342),ve=z(3101),ne=z(309),he=z(3018),me=z(4395),Ae=z.n(me);function le(){}nt=z.hmd(nt);class R{constructor(q,O=g.N){this.zone=q,this.delegate=O}now(){return this.delegate.now()}schedule(q,O,te){const ue=this.zone;return this.delegate.schedule(function(ce){ue.runGuarded(()=>{q.apply(this,[ce])})},O,te)}}class B{constructor(q){this.zone=q,this.task=null}call(q,O){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)),O.pipe((0,Ne.b)({next:te,complete:te,error:te})).subscribe(q).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ie{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new R(Zone.current)),this.insideAngular=q.run(()=>new R(Zone.current,P.z))}}function J(k){return function(O){return(O=O.lift(new B(k.ngZone))).pipe((0,ve.R)(k.outsideAngular),(0,ne.QV)(k.insideAngular))}}const Z=["ngOnDestroy"],we=(k,q,O,te={})=>new Proxy(k,{get:(ue,Ve)=>O.runOutsideAngular(()=>{var ce;if(k[Ve])return(null===(ce=null==te?void 0:te.spy)||void 0===ce?void 0:ce.get)&&te.spy.get(Ve,k[Ve]),k[Ve];if(Z.indexOf(Ve)>-1)return()=>{};const Ue=q.toPromise().then(He=>{const Te=He&&He[Ve];return"function"==typeof Te?Te.bind(He):Te&&Te.then?Te.then(Ye=>O.run(()=>Ye)):O.run(()=>Te)});return new Proxy(()=>{},{get:(He,Te)=>Ue[Te],apply:(He,Te,Ye)=>Ue.then(It=>{var Cn;const an=It&&It(...Ye);return(null===(Cn=null==te?void 0:te.spy)||void 0===Cn?void 0:Cn.apply)&&te.spy.apply(Ve,Ye,an),an})})})}),Ee=(k,q)=>{q.forEach(O=>{Object.getOwnPropertyNames(O.prototype||O).forEach(te=>{Object.defineProperty(k.prototype,te,Object.getOwnPropertyDescriptor(O.prototype||O,te))})})},De=new he.OlP("angularfire2.app.options"),Re=new he.OlP("angularfire2.app.nameOrConfig"),pe=new he.GfV("6.1.5");function ze(k,q,O){const ue="object"==typeof O&&O||{};ue.name=ue.name||"string"==typeof O&&O||"[DEFAULT]";const ce=Ae().apps.filter(Ue=>Ue&&Ue.name===ue.name)[0]||q.runOutsideAngular(()=>Ae().initializeApp(k,ue));try{JSON.stringify(k)!==JSON.stringify(ce.options)&&We("error",`${ce.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return ce}const tt=()=>{We("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},We=(k,...q)=>{(0,he.X6Q)()&&"undefined"!=typeof console&&console[k](...q)};function x(k,q,O,te,ue){const[Ve,...ce]=globalThis.\u0275AngularfireInstanceCache.get(k)||[];if(Ve){try{ue.some((Ue,He)=>{const Te=ce[He];return Ue&&"object"==typeof Ue?JSON.stringify(Ue)!==JSON.stringify(Te):Ue!==Te})&&We("error",`${q} was already initialized on the ${O.name} Firebase App instance with different settings.${nt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ue){}return Ve}{const Ue=te();return globalThis.\u0275AngularfireInstanceCache.set(k,[Ue,...ue]),Ue}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const H={provide:class{},useFactory:ze,deps:[De,he.R0b,[new he.FiY,Re]]};let L=(()=>{class k{constructor(O){Ae().registerVersion("angularfire",pe.full,O.toString()),Ae().registerVersion("angular",he.q4F.full)}static initializeApp(O,te){return{ngModule:k,providers:[{provide:De,useValue:O},{provide:Re,useValue:te}]}}}return k.\u0275fac=function(O){return new(O||k)(he.LFG(he.Lbi))},k.\u0275mod=he.oAB({type:k}),k.\u0275inj=he.cJS({providers:[H]}),k})()},6279:(nt,de,z)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var ne,ze,g=z(7796),P=z(1704),Ne=z(1100),ve=z(300),he=((ne={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ne["bad-app-name"]="Illegal App name: '{$appName}",ne["duplicate-app"]="Firebase App named '{$appName}' already exists",ne["app-deleted"]="Firebase App named '{$appName}' already deleted",ne["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ne["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ne),me=new P.ErrorFactory("app","Firebase",he),Ae="@firebase/app",tt="[DEFAULT]",We=((ze={})[Ae]="fire-core",ze["@firebase/analytics"]="fire-analytics",ze["@firebase/auth"]="fire-auth",ze["@firebase/database"]="fire-rtdb",ze["@firebase/functions"]="fire-fn",ze["@firebase/installations"]="fire-iid",ze["@firebase/messaging"]="fire-fcm",ze["@firebase/performance"]="fire-perf",ze["@firebase/remote-config"]="fire-rc",ze["@firebase/storage"]="fire-gcs",ze["@firebase/firestore"]="fire-fst",ze["fire-js"]="fire-js",ze["firebase-wrapper"]="fire-js-all",ze),_t=new ve.Logger("@firebase/app"),x=function(){function He(Te,Ye,It){var Cn,an,Ht=this;this.firebase_=It,this.isDeleted_=!1,this.name_=Ye.name,this.automaticDataCollectionEnabled_=Ye.automaticDataCollectionEnabled||!1,this.options_=P.deepCopy(Te),this.container=new Ne.ComponentContainer(Ye.name),this._addComponent(new Ne.Component("app",function(){return Ht},"PUBLIC"));try{for(var ft=g.__values(this.firebase_.INTERNAL.components.values()),Gt=ft.next();!Gt.done;Gt=ft.next())this._addComponent(Gt.value)}catch(gi){Cn={error:gi}}finally{try{Gt&&!Gt.done&&(an=ft.return)&&an.call(ft)}finally{if(Cn)throw Cn.error}}}return Object.defineProperty(He.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Te){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Te},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),He.prototype.delete=function(){var Te=this;return new Promise(function(Ye){Te.checkDestroyed_(),Ye()}).then(function(){return Te.firebase_.INTERNAL.removeApp(Te.name_),Promise.all(Te.container.getProviders().map(function(Ye){return Ye.delete()}))}).then(function(){Te.isDeleted_=!0})},He.prototype._getService=function(Te,Ye){return void 0===Ye&&(Ye=tt),this.checkDestroyed_(),this.container.getProvider(Te).getImmediate({identifier:Ye})},He.prototype._removeServiceInstance=function(Te,Ye){void 0===Ye&&(Ye=tt),this.container.getProvider(Te).clearInstance(Ye)},He.prototype._addComponent=function(Te){try{this.container.addComponent(Te)}catch(Ye){_t.debug("Component "+Te.name+" failed to register with FirebaseApp "+this.name,Ye)}},He.prototype._addOrOverwriteComponent=function(Te){this.container.addOrOverwriteComponent(Te)},He.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw me.create("app-deleted",{appName:this.name_})},He}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var q=function k(){var He=function(He){var Te={},Ye=new Map,It={__esModule:!0,initializeApp:function(Nt,Rt){void 0===Rt&&(Rt={}),("object"!=typeof Rt||null===Rt)&&(Rt={name:Rt});var Ot=Rt;void 0===Ot.name&&(Ot.name=tt);var un=Ot.name;if("string"!=typeof un||!un)throw me.create("bad-app-name",{appName:String(un)});if(P.contains(Te,un))throw me.create("duplicate-app",{appName:un});var Vt=new He(Nt,Ot,It);return Te[un]=Vt,Vt},app:an,registerVersion:function(Nt,Rt,Je){var Ot,un=null!==(Ot=We[Nt])&&void 0!==Ot?Ot:Nt;Je&&(un+="-"+Je);var Vt=un.match(/\s|\//),$n=Rt.match(/\s|\//);if(Vt||$n){var Jt=['Unable to register library "'+un+'" with version "'+Rt+'":'];return Vt&&Jt.push('library name "'+un+'" contains illegal characters (whitespace or "/")'),Vt&&$n&&Jt.push("and"),$n&&Jt.push('version name "'+Rt+'" contains illegal characters (whitespace or "/")'),void _t.warn(Jt.join(" "))}Gt(new Ne.Component(un+"-version",function(){return{library:un,version:Rt}},"VERSION"))},setLogLevel:ve.setLogLevel,onLog:function(Nt,Rt){if(null!==Nt&&"function"!=typeof Nt)throw me.create("invalid-log-argument",{appName:name});ve.setUserLogHandler(Nt,Rt)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Gt,removeApp:function(Nt){delete Te[Nt]},components:Ye,useAsService:function(Nt,Rt){return"serverAuth"===Rt?null:Rt}}};function an(Nt){if(!P.contains(Te,Nt=Nt||tt))throw me.create("no-app",{appName:Nt});return Te[Nt]}function Gt(Nt){var Rt,Je,Ot=Nt.name;if(Ye.has(Ot))return _t.debug("There were multiple attempts to register component "+Ot+"."),"PUBLIC"===Nt.type?It[Ot]:null;if(Ye.set(Ot,Nt),"PUBLIC"===Nt.type){var un=function(On){if(void 0===On&&(On=an()),"function"!=typeof On[Ot])throw me.create("invalid-app-argument",{appName:Ot});return On[Ot]()};void 0!==Nt.serviceProps&&P.deepExtend(un,Nt.serviceProps),It[Ot]=un,He.prototype[Ot]=function(){for(var On=[],_r=0;_r<arguments.length;_r++)On[_r]=arguments[_r];return this._getService.bind(this,Ot).apply(this,Nt.multipleInstances?On:[])}}try{for(var Vt=g.__values(Object.keys(Te)),$n=Vt.next();!$n.done;$n=Vt.next())Te[$n.value]._addComponent(Nt)}catch(On){Rt={error:On}}finally{try{$n&&!$n.done&&(Je=Vt.return)&&Je.call(Vt)}finally{if(Rt)throw Rt.error}}return"PUBLIC"===Nt.type?It[Ot]:null}return It.default=It,Object.defineProperty(It,"apps",{get:function(){return Object.keys(Te).map(function(Nt){return Te[Nt]})}}),an.App=He,It}(x);return He.INTERNAL=g.__assign(g.__assign({},He.INTERNAL),{createFirebaseNamespace:k,extendNamespace:function(Ye){P.deepExtend(He,Ye)},createSubscribe:P.createSubscribe,ErrorFactory:P.ErrorFactory,deepExtend:P.deepExtend}),He}(),O=function(){function He(Te){this.container=Te}return He.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Ye){if(function(He){var Te=He.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(Ye)){var It=Ye.getImmediate();return It.library+"/"+It.version}return null}).filter(function(Ye){return Ye}).join(" ")},He}();if(P.isBrowser()&&void 0!==self.firebase){_t.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&_t.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ce=q.initializeApp;q.initializeApp=function(){for(var He=[],Te=0;Te<arguments.length;Te++)He[Te]=arguments[Te];return P.isNode()&&_t.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),ce.apply(void 0,He)};var He,Ue=q;(He=Ue).INTERNAL.registerComponent(new Ne.Component("platform-logger",function(Ye){return new O(Ye)},"PRIVATE")),He.registerVersion(Ae,"0.6.11",undefined),He.registerVersion("fire-js",""),de.default=Ue,de.firebase=Ue},1100:(nt,de,z)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var g=z(5385),P=z(1704),Ne=function(){function le(R,B,ie){this.name=R,this.instanceFactory=B,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return le.prototype.setInstantiationMode=function(R){return this.instantiationMode=R,this},le.prototype.setMultipleInstances=function(R){return this.multipleInstances=R,this},le.prototype.setServiceProps=function(R){return this.serviceProps=R,this},le}(),ve="[DEFAULT]",ne=function(){function le(R,B){this.name=R,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return le.prototype.get=function(R){void 0===R&&(R=ve);var B=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(B)){var ie=new P.Deferred;this.instancesDeferred.set(B,ie);try{var J=this.getOrInitializeService(B);J&&ie.resolve(J)}catch(Z){}}return this.instancesDeferred.get(B).promise},le.prototype.getImmediate=function(R){var B=g.__assign({identifier:ve,optional:!1},R),J=B.optional,Z=this.normalizeInstanceIdentifier(B.identifier);try{var we=this.getOrInitializeService(Z);if(!we){if(J)return null;throw Error("Service "+this.name+" is not available")}return we}catch(Ee){if(J)return null;throw Ee}},le.prototype.getComponent=function(){return this.component},le.prototype.setComponent=function(R){var B,ie;if(R.name!==this.name)throw Error("Mismatching Component "+R.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=R,function(le){return"EAGER"===le.instantiationMode}(R))try{this.getOrInitializeService(ve)}catch(pe){}try{for(var J=g.__values(this.instancesDeferred.entries()),Z=J.next();!Z.done;Z=J.next()){var we=g.__read(Z.value,2),De=we[1],Re=this.normalizeInstanceIdentifier(we[0]);try{var Ie=this.getOrInitializeService(Re);De.resolve(Ie)}catch(pe){}}}catch(pe){B={error:pe}}finally{try{Z&&!Z.done&&(ie=J.return)&&ie.call(J)}finally{if(B)throw B.error}}},le.prototype.clearInstance=function(R){void 0===R&&(R=ve),this.instancesDeferred.delete(R),this.instances.delete(R)},le.prototype.delete=function(){return g.__awaiter(this,void 0,void 0,function(){var R;return g.__generator(this,function(B){switch(B.label){case 0:return R=Array.from(this.instances.values()),[4,Promise.all(g.__spread(R.filter(function(ie){return"INTERNAL"in ie}).map(function(ie){return ie.INTERNAL.delete()}),R.filter(function(ie){return"_delete"in ie}).map(function(ie){return ie._delete()})))];case 1:return B.sent(),[2]}})})},le.prototype.isComponentSet=function(){return null!=this.component},le.prototype.getOrInitializeService=function(R){var B=this.instances.get(R);return!B&&this.component&&(B=this.component.instanceFactory(this.container,function(le){return le===ve?void 0:le}(R)),this.instances.set(R,B)),B||null},le.prototype.normalizeInstanceIdentifier=function(R){return this.component?this.component.multipleInstances?R:ve:R},le}(),Ae=function(){function le(R){this.name=R,this.providers=new Map}return le.prototype.addComponent=function(R){var B=this.getProvider(R.name);if(B.isComponentSet())throw new Error("Component "+R.name+" has already been registered with "+this.name);B.setComponent(R)},le.prototype.addOrOverwriteComponent=function(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)},le.prototype.getProvider=function(R){if(this.providers.has(R))return this.providers.get(R);var B=new ne(R,this);return this.providers.set(R,B),B},le.prototype.getProviders=function(){return Array.from(this.providers.values())},le}();de.Component=Ne,de.ComponentContainer=Ae,de.Provider=ne},5910:(nt,de,z)=>{"use strict";var u,P=z(5704),Ne=z(6279),ve=z(300),ne=z(1704),he=z(2870),me=z(1100),le=(u=Ne)&&"object"==typeof u&&"default"in u?u:{default:u},R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=function(u){function r(s,f){var p=this;return(p=u.call(this,f)||this).code=s,p.message=f,p.name="FirebaseError",p.toString=function(){return p.name+": [code="+p.code+"]: "+p.message},p}return P.__extends(r,u),r}(Error),ie=new ve.Logger("@firebase/firestore");function J(){return ie.logLevel}function Z(u){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(ie.logLevel<=ve.LogLevel.DEBUG){var f=r.map(De);ie.debug.apply(ie,P.__spreadArrays(["Firestore (7.24.0): "+u],f))}}function we(u){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(ie.logLevel<=ve.LogLevel.ERROR){var f=r.map(De);ie.error.apply(ie,P.__spreadArrays(["Firestore (7.24.0): "+u],f))}}function Ee(u){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(ie.logLevel<=ve.LogLevel.WARN){var f=r.map(De);ie.warn.apply(ie,P.__spreadArrays(["Firestore (7.24.0): "+u],f))}}function De(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(s){return u}}function Re(u){void 0===u&&(u="Unexpected state");var r="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+u;throw we(r),new Error(r)}function Ie(u,r){u||Re()}function pe(u,r){return u}function ze(u){var r=0;for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&r++;return r}function tt(u,r){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&r(s,u[s])}function We(u){for(var r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}var _t=function(){function u(r,s,f){void 0===s?s=0:s>r.length&&Re(),void 0===f?f=r.length-s:f>r.length-s&&Re(),this.segments=r,this.offset=s,this.t=f}return Object.defineProperty(u.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(r){return 0===u.i(this,r)},u.prototype.child=function(r){var s=this.segments.slice(this.offset,this.limit());return r instanceof u?r.forEach(function(f){s.push(f)}):s.push(r),this.o(s)},u.prototype.limit=function(){return this.offset+this.length},u.prototype.u=function(r){return this.o(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)},u.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},u.prototype.l=function(){return this.segments[this.offset]},u.prototype._=function(){return this.get(this.length-1)},u.prototype.get=function(r){return this.segments[this.offset+r]},u.prototype.m=function(){return 0===this.length},u.prototype.T=function(r){if(r.length<this.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==r.get(s))return!1;return!0},u.prototype.I=function(r){if(this.length+1!==r.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==r.get(s))return!1;return!0},u.prototype.forEach=function(r){for(var s=this.offset,f=this.limit();s<f;s++)r(this.segments[s])},u.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},u.i=function(r,s){for(var f=Math.min(r.length,s.length),p=0;p<f;p++){var v=r.get(p),w=s.get(p);if(v<w)return-1;if(v>w)return 1}return r.length<s.length?-1:r.length>s.length?1:0},u}(),x=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.o=function(s,f,p){return new r(s,f,p)},r.prototype.R=function(){return this.A().join("/")},r.prototype.toString=function(){return this.R()},r.g=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];for(var p=[],v=0,w=s;v<w.length;v++){var D=w[v];if(D.indexOf("//")>=0)throw new B(R.INVALID_ARGUMENT,"Invalid segment ("+D+"). Paths must not contain // in them.");p.push.apply(p,D.split("/").filter(function(T){return T.length>0}))}return new r(p)},r.P=function(){return new r([])},r}(_t),H=/^[_a-zA-Z][_a-zA-Z0-9]*$/,L=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.o=function(s,f,p){return new r(s,f,p)},r.V=function(s){return H.test(s)},r.prototype.R=function(){return this.A().map(function(s){return s=s.replace("\\","\\\\").replace("`","\\`"),r.V(s)||(s="`"+s+"`"),s}).join(".")},r.prototype.toString=function(){return this.R()},r.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},r.v=function(){return new r(["__name__"])},r.S=function(s){for(var f=[],p="",v=0,w=function(){if(0===p.length)throw new B(R.INVALID_ARGUMENT,"Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");f.push(p),p=""},D=!1;v<s.length;){var T=s[v];if("\\"===T){if(v+1===s.length)throw new B(R.INVALID_ARGUMENT,"Path has trailing escape character: "+s);var F=s[v+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new B(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);p+=F,v+=2}else"`"===T?(D=!D,v++):"."!==T||D?(p+=T,v++):(w(),v++)}if(w(),D)throw new B(R.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new r(f)},r.P=function(){return new r([])},r}(_t),k=function(){function u(r){this.path=r}return u.D=function(r){return new u(x.g(r))},u.C=function(r){return new u(x.g(r).u(5))},u.prototype.N=function(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r},u.prototype.isEqual=function(r){return null!==r&&0===x.i(this.path,r.path)},u.prototype.toString=function(){return this.path.toString()},u.i=function(r,s){return x.i(r.path,s.path)},u.F=function(r){return r.length%2==0},u.$=function(r){return new u(new x(r.slice()))},u}();function q(u,r){if(0!==r.length)throw new B(R.INVALID_ARGUMENT,"Function "+u+"() does not support arguments, but was called with "+Zt(r.length,"argument")+".")}function O(u,r,s){if(r.length!==s)throw new B(R.INVALID_ARGUMENT,"Function "+u+"() requires "+Zt(s,"argument")+", but was called with "+Zt(r.length,"argument")+".")}function te(u,r,s){if(r.length<s)throw new B(R.INVALID_ARGUMENT,"Function "+u+"() requires at least "+Zt(s,"argument")+", but was called with "+Zt(r.length,"argument")+".")}function ue(u,r,s,f){if(r.length<s||r.length>f)throw new B(R.INVALID_ARGUMENT,"Function "+u+"() requires between "+s+" and "+f+" arguments, but was called with "+Zt(r.length,"argument")+".")}function Ve(u,r,s,f){It(u,r,gi(s)+" argument",f)}function ce(u,r,s,f){void 0!==f&&Ve(u,r,s,f)}function Ue(u,r,s,f){It(u,r,s+" option",f)}function He(u,r,s,f){void 0!==f&&Ue(u,r,s,f)}function Te(u,r,s,f,p){void 0!==f&&function(v,w,D,T,F){for(var $=[],K=0,Y=F;K<Y.length;K++){var ae=Y[K];if(ae===T)return;$.push(an(ae))}var be=an(T);throw new B(R.INVALID_ARGUMENT,"Invalid value "+be+" provided to function "+v+'() for option "'+D+'". Acceptable values: '+$.join(", "))}(u,0,s,f,p)}function Ye(u,r,s,f){if(!r.some(function(p){return p===f}))throw new B(R.INVALID_ARGUMENT,"Invalid value "+an(f)+" provided to function "+u+"() for its "+gi(s)+" argument. Acceptable values: "+r.join(", "));return f}function It(u,r,s,f){if(!("object"===r?Cn(f):"non-empty string"===r?"string"==typeof f&&""!==f:typeof f===r)){var p=an(f);throw new B(R.INVALID_ARGUMENT,"Function "+u+"() requires its "+s+" to be of type "+r+", but it was: "+p)}}function Cn(u){return"object"==typeof u&&null!==u&&(Object.getPrototypeOf(u)===Object.prototype||null===Object.getPrototypeOf(u))}function an(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=u.substring(0,20)+"..."),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";var r=function(s){if(s.constructor){var f=/function\s+([^\s(]+)\s*\(/.exec(s.constructor.toString());if(f&&f.length>1)return f[1]}return null}(u);return r?"a custom "+r+" object":"an object"}return"function"==typeof u?"a function":Re()}function Ht(u,r,s){if(void 0===s)throw new B(R.INVALID_ARGUMENT,"Function "+u+"() requires a valid "+gi(r)+" argument, but it was undefined.")}function ft(u,r,s){tt(r,function(f,p){if(s.indexOf(f)<0)throw new B(R.INVALID_ARGUMENT,"Unknown option '"+f+"' passed to function "+u+"(). Available options: "+s.join(", "))})}function Gt(u,r,s,f){var p=an(f);return new B(R.INVALID_ARGUMENT,"Function "+u+"() requires its "+gi(s)+" argument to be a "+r+", but it was: "+p)}function Jr(u,r,s){if(s<=0)throw new B(R.INVALID_ARGUMENT,"Function "+u+"() requires its "+gi(r)+" argument to be a positive number, but it was: "+s+".")}function gi(u){switch(u){case 1:return"first";case 2:return"second";case 3:return"third";default:return u+"th"}}function Zt(u,r){return u+" "+r+(1===u?"":"s")}function Nt(u){var r="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(s);else for(var f=0;f<u;f++)s[f]=Math.floor(256*Math.random());return s}var Rt=function(){function u(){}return u.k=function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/r.length)*r.length,f="";f.length<20;)for(var p=Nt(40),v=0;v<p.length;++v)f.length<20&&p[v]<s&&(f+=r.charAt(p[v]%r.length));return f},u}();function Je(u,r){return u<r?-1:u>r?1:0}function Ot(u,r,s){return u.length===r.length&&u.every(function(f,p){return s(f,r[p])})}function un(u){return u+"\0"}var Vt=function(){function u(r){this.M=r}return u.fromBase64String=function(r){return new u(atob(r))},u.fromUint8Array=function(r){return new u(function(s){for(var f="",p=0;p<s.length;++p)f+=String.fromCharCode(s[p]);return f}(r))},u.prototype.toBase64=function(){return btoa(this.M)},u.prototype.toUint8Array=function(){return function(r){for(var s=new Uint8Array(r.length),f=0;f<r.length;f++)s[f]=r.charCodeAt(f);return s}(this.M)},u.prototype.O=function(){return 2*this.M.length},u.prototype.L=function(r){return Je(this.M,r.M)},u.prototype.isEqual=function(r){return this.M===r.M},u}();Vt.B=new Vt("");var $n=function(){function u(r){this.q=r}return u.fromBase64String=function(r){try{return new u(Vt.fromBase64String(r))}catch(s){throw new B(R.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+s)}},u.fromUint8Array=function(r){return new u(Vt.fromUint8Array(r))},u.prototype.toBase64=function(){return this.q.toBase64()},u.prototype.toUint8Array=function(){return this.q.toUint8Array()},u.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},u.prototype.isEqual=function(r){return this.q.isEqual(r.q)},u}();function Jt(){if("undefined"==typeof Uint8Array)throw new B(R.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function On(){if("undefined"==typeof atob)throw new B(R.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _r=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.fromBase64String=function(s){O("Blob.fromBase64String",arguments,1),Ve("Blob.fromBase64String","string",1,s),On();try{return new r(Vt.fromBase64String(s))}catch(f){throw new B(R.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+f)}},r.fromUint8Array=function(s){if(O("Blob.fromUint8Array",arguments,1),Jt(),!(s instanceof Uint8Array))throw Gt("Blob.fromUint8Array","Uint8Array",1,s);return new r(Vt.fromUint8Array(s))},r.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),On(),u.prototype.toBase64.call(this)},r.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),Jt(),u.prototype.toUint8Array.call(this)},r.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},r}($n),Ls=function(u,r,s,f,p,v){this.U=u,this.persistenceKey=r,this.host=s,this.ssl=f,this.forceLongPolling=p,this.W=v},rt=function(){function u(r,s){this.projectId=r,this.database=s||"(default)"}return Object.defineProperty(u.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(r){return r instanceof u&&r.projectId===this.projectId&&r.database===this.database},u.prototype.L=function(r){return Je(this.projectId,r.projectId)||Je(this.database,r.database)},u}(),Xt=function(){function u(r,s){this.K=r,this.G=s,this.H={}}return u.prototype.get=function(r){var s=this.K(r),f=this.H[s];if(void 0!==f)for(var p=0,v=f;p<v.length;p++){var w=v[p],T=w[1];if(this.G(w[0],r))return T}},u.prototype.has=function(r){return void 0!==this.get(r)},u.prototype.set=function(r,s){var f=this.K(r),p=this.H[f];if(void 0!==p){for(var v=0;v<p.length;v++)if(this.G(p[v][0],r))return void(p[v]=[r,s]);p.push([r,s])}else this.H[f]=[[r,s]]},u.prototype.delete=function(r){var s=this.K(r),f=this.H[s];if(void 0===f)return!1;for(var p=0;p<f.length;p++)if(this.G(f[p][0],r))return 1===f.length?delete this.H[s]:f.splice(p,1),!0;return!1},u.prototype.forEach=function(r){tt(this.H,function(s,f){for(var p=0,v=f;p<v.length;p++){var w=v[p];r(w[0],w[1])}})},u.prototype.m=function(){return We(this.H)},u}(),nn=function(){function u(r,s){if(this.seconds=r,this.nanoseconds=s,s<0)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(r<-62135596800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}return u.now=function(){return u.fromMillis(Date.now())},u.fromDate=function(r){return u.fromMillis(r.getTime())},u.fromMillis=function(r){var s=Math.floor(r/1e3);return new u(s,1e6*(r-1e3*s))},u.prototype.toDate=function(){return new Date(this.toMillis())},u.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},u.prototype.Y=function(r){return this.seconds===r.seconds?Je(this.nanoseconds,r.nanoseconds):Je(this.seconds,r.seconds)},u.prototype.isEqual=function(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds},u.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},u.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},u.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},u}(),dt=function(){function u(r){this.timestamp=r}return u.J=function(r){return new u(r)},u.min=function(){return new u(new nn(0,0))},u.prototype.L=function(r){return this.timestamp.Y(r.timestamp)},u.prototype.isEqual=function(r){return this.timestamp.isEqual(r.timestamp)},u.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},u.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},u.prototype.Z=function(){return this.timestamp},u}();function oe(u){return null==u}function W(u){return 0===u&&1/u==-1/0}function re(u){return"number"==typeof u&&Number.isInteger(u)&&!W(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}var ye=function(u,r,s,f,p,v,w){void 0===r&&(r=null),void 0===s&&(s=[]),void 0===f&&(f=[]),void 0===p&&(p=null),void 0===v&&(v=null),void 0===w&&(w=null),this.path=u,this.collectionGroup=r,this.orderBy=s,this.filters=f,this.limit=p,this.startAt=v,this.endAt=w,this.tt=null};function fe(u,r,s,f,p,v,w){return void 0===r&&(r=null),void 0===s&&(s=[]),void 0===f&&(f=[]),void 0===p&&(p=null),void 0===v&&(v=null),void 0===w&&(w=null),new ye(u,r,s,f,p,v,w)}function Ze(u){var r=pe(u);if(null===r.tt){var s=r.path.R();null!==r.collectionGroup&&(s+="|cg:"+r.collectionGroup),s+="|f:",s+=r.filters.map(function(f){return(p=f).field.R()+p.op.toString()+ct(p.value);var p}).join(","),s+="|ob:",s+=r.orderBy.map(function(f){return(p=f).field.R()+p.dir;var p}).join(","),oe(r.limit)||(s+="|l:",s+=r.limit),r.startAt&&(s+="|lb:",s+=cs(r.startAt)),r.endAt&&(s+="|ub:",s+=cs(r.endAt)),r.tt=s}return r.tt}function Xe(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(var s=0;s<u.orderBy.length;s++)if(!Dr(u.orderBy[s],r.orderBy[s]))return!1;if(u.filters.length!==r.filters.length)return!1;for(var f=0;f<u.filters.length;f++)if((p=u.filters[f]).op!==(v=r.filters[f]).op||!p.field.isEqual(v.field)||!Fn(p.value,v.value))return!1;var p,v;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!Ra(u.startAt,r.startAt)&&Ra(u.endAt,r.endAt)}function bt(u){return k.F(u.path)&&null===u.collectionGroup&&0===u.filters.length}var ht,$e,Rn=function(){function u(r,s,f,p,v,w,D){void 0===v&&(v=dt.min()),void 0===w&&(w=dt.min()),void 0===D&&(D=Vt.B),this.target=r,this.targetId=s,this.et=f,this.sequenceNumber=p,this.nt=v,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=D}return u.prototype.st=function(r){return new u(this.target,this.targetId,this.et,r,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},u.prototype.it=function(r,s){return new u(this.target,this.targetId,this.et,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,r)},u.prototype.rt=function(r){return new u(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,r,this.resumeToken)},u}(),et=function(u){this.count=u};function Pn(u){switch(u){case R.OK:return Re();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return Re()}}function Xr(u){if(void 0===u)return we("GRPC error has no .code"),R.UNKNOWN;switch(u){case ht.OK:return R.OK;case ht.CANCELLED:return R.CANCELLED;case ht.UNKNOWN:return R.UNKNOWN;case ht.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case ht.INTERNAL:return R.INTERNAL;case ht.UNAVAILABLE:return R.UNAVAILABLE;case ht.UNAUTHENTICATED:return R.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case ht.NOT_FOUND:return R.NOT_FOUND;case ht.ALREADY_EXISTS:return R.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return R.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case ht.ABORTED:return R.ABORTED;case ht.OUT_OF_RANGE:return R.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return R.UNIMPLEMENTED;case ht.DATA_LOSS:return R.DATA_LOSS;default:return Re()}}($e=ht||(ht={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";var rn=function(){function u(r,s){this.i=r,this.root=s||Or.EMPTY}return u.prototype.ot=function(r,s){return new u(this.i,this.root.ot(r,s,this.i).copy(null,null,Or.at,null,null))},u.prototype.remove=function(r){return new u(this.i,this.root.remove(r,this.i).copy(null,null,Or.at,null,null))},u.prototype.get=function(r){for(var s=this.root;!s.m();){var f=this.i(r,s.key);if(0===f)return s.value;f<0?s=s.left:f>0&&(s=s.right)}return null},u.prototype.indexOf=function(r){for(var s=0,f=this.root;!f.m();){var p=this.i(r,f.key);if(0===p)return s+f.left.size;p<0?f=f.left:(s+=f.left.size+1,f=f.right)}return-1},u.prototype.m=function(){return this.root.m()},Object.defineProperty(u.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),u.prototype.ct=function(){return this.root.ct()},u.prototype.ut=function(){return this.root.ut()},u.prototype.ht=function(r){return this.root.ht(r)},u.prototype.forEach=function(r){this.ht(function(s,f){return r(s,f),!1})},u.prototype.toString=function(){var r=[];return this.ht(function(s,f){return r.push(s+":"+f),!1}),"{"+r.join(", ")+"}"},u.prototype.lt=function(r){return this.root.lt(r)},u.prototype._t=function(){return new St(this.root,null,this.i,!1)},u.prototype.ft=function(r){return new St(this.root,r,this.i,!1)},u.prototype.dt=function(){return new St(this.root,null,this.i,!0)},u.prototype.wt=function(r){return new St(this.root,r,this.i,!0)},u}(),St=function(){function u(r,s,f,p){this.Tt=p,this.Et=[];for(var v=1;!r.m();)if(v=s?f(r.key,s):1,p&&(v*=-1),v<0)r=this.Tt?r.left:r.right;else{if(0===v){this.Et.push(r);break}this.Et.push(r),r=this.Tt?r.right:r.left}}return u.prototype.It=function(){var r=this.Et.pop(),s={key:r.key,value:r.value};if(this.Tt)for(r=r.left;!r.m();)this.Et.push(r),r=r.right;else for(r=r.right;!r.m();)this.Et.push(r),r=r.left;return s},u.prototype.At=function(){return this.Et.length>0},u.prototype.Rt=function(){if(0===this.Et.length)return null;var r=this.Et[this.Et.length-1];return{key:r.key,value:r.value}},u}(),Or=function(){function u(r,s,f,p,v){this.key=r,this.value=s,this.color=null!=f?f:u.RED,this.left=null!=p?p:u.EMPTY,this.right=null!=v?v:u.EMPTY,this.size=this.left.size+1+this.right.size}return u.prototype.copy=function(r,s,f,p,v){return new u(null!=r?r:this.key,null!=s?s:this.value,null!=f?f:this.color,null!=p?p:this.left,null!=v?v:this.right)},u.prototype.m=function(){return!1},u.prototype.ht=function(r){return this.left.ht(r)||r(this.key,this.value)||this.right.ht(r)},u.prototype.lt=function(r){return this.right.lt(r)||r(this.key,this.value)||this.left.lt(r)},u.prototype.min=function(){return this.left.m()?this:this.left.min()},u.prototype.ct=function(){return this.min().key},u.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},u.prototype.ot=function(r,s,f){var p=this,v=f(r,p.key);return(p=v<0?p.copy(null,null,null,p.left.ot(r,s,f),null):0===v?p.copy(null,s,null,null,null):p.copy(null,null,null,null,p.right.ot(r,s,f))).gt()},u.prototype.Pt=function(){if(this.left.m())return u.EMPTY;var r=this;return r.left.yt()||r.left.left.yt()||(r=r.Vt()),(r=r.copy(null,null,null,r.left.Pt(),null)).gt()},u.prototype.remove=function(r,s){var f,p=this;if(s(r,p.key)<0)p.left.m()||p.left.yt()||p.left.left.yt()||(p=p.Vt()),p=p.copy(null,null,null,p.left.remove(r,s),null);else{if(p.left.yt()&&(p=p.bt()),p.right.m()||p.right.yt()||p.right.left.yt()||(p=p.vt()),0===s(r,p.key)){if(p.right.m())return u.EMPTY;f=p.right.min(),p=p.copy(f.key,f.value,null,null,p.right.Pt())}p=p.copy(null,null,null,null,p.right.remove(r,s))}return p.gt()},u.prototype.yt=function(){return this.color},u.prototype.gt=function(){var r=this;return r.right.yt()&&!r.left.yt()&&(r=r.St()),r.left.yt()&&r.left.left.yt()&&(r=r.bt()),r.left.yt()&&r.right.yt()&&(r=r.Dt()),r},u.prototype.Vt=function(){var r=this.Dt();return r.right.left.yt()&&(r=(r=(r=r.copy(null,null,null,null,r.right.bt())).St()).Dt()),r},u.prototype.vt=function(){var r=this.Dt();return r.left.left.yt()&&(r=(r=r.bt()).Dt()),r},u.prototype.St=function(){var r=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)},u.prototype.bt=function(){var r=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)},u.prototype.Dt=function(){var r=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,s)},u.prototype.Ct=function(){var r=this.Nt();return Math.pow(2,r)<=this.size+1},u.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var r=this.left.Nt();if(r!==this.right.Nt())throw Re();return r+(this.yt()?0:1)},u}();Or.EMPTY=null,Or.RED=!0,Or.at=!1,Or.EMPTY=new(function(){function u(){this.size=0}return Object.defineProperty(u.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),u.prototype.copy=function(r,s,f,p,v){return this},u.prototype.ot=function(r,s,f){return new Or(r,s)},u.prototype.remove=function(r,s){return this},u.prototype.m=function(){return!0},u.prototype.ht=function(r){return!1},u.prototype.lt=function(r){return!1},u.prototype.ct=function(){return null},u.prototype.ut=function(){return null},u.prototype.yt=function(){return!1},u.prototype.Ct=function(){return!0},u.prototype.Nt=function(){return 0},u}());var bn=function(){function u(r){this.i=r,this.data=new rn(this.i)}return u.prototype.has=function(r){return null!==this.data.get(r)},u.prototype.first=function(){return this.data.ct()},u.prototype.last=function(){return this.data.ut()},Object.defineProperty(u.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),u.prototype.indexOf=function(r){return this.data.indexOf(r)},u.prototype.forEach=function(r){this.data.ht(function(s,f){return r(s),!1})},u.prototype.Ft=function(r,s){for(var f=this.data.ft(r[0]);f.At();){var p=f.It();if(this.i(p.key,r[1])>=0)return;s(p.key)}},u.prototype.xt=function(r,s){var f;for(f=void 0!==s?this.data.ft(s):this.data._t();f.At();)if(!r(f.It().key))return},u.prototype.$t=function(r){var s=this.data.ft(r);return s.At()?s.It().key:null},u.prototype._t=function(){return new ji(this.data._t())},u.prototype.ft=function(r){return new ji(this.data.ft(r))},u.prototype.add=function(r){return this.copy(this.data.remove(r).ot(r,!0))},u.prototype.delete=function(r){return this.has(r)?this.copy(this.data.remove(r)):this},u.prototype.m=function(){return this.data.m()},u.prototype.kt=function(r){var s=this;return s.size<r.size&&(s=r,r=this),r.forEach(function(f){s=s.add(f)}),s},u.prototype.isEqual=function(r){if(!(r instanceof u)||this.size!==r.size)return!1;for(var s=this.data._t(),f=r.data._t();s.At();){var p=s.It().key,v=f.It().key;if(0!==this.i(p,v))return!1}return!0},u.prototype.A=function(){var r=[];return this.forEach(function(s){r.push(s)}),r},u.prototype.toString=function(){var r=[];return this.forEach(function(s){return r.push(s)}),"SortedSet("+r.toString()+")"},u.prototype.copy=function(r){var s=new u(this.i);return s.data=r,s},u}(),ji=function(){function u(r){this.Mt=r}return u.prototype.It=function(){return this.Mt.It().key},u.prototype.At=function(){return this.Mt.At()},u}(),co=new rn(k.i);function jr(){return co}function cn(){return jr()}var mi=new rn(k.i);function lo(){return mi}var Ta=new rn(k.i),ec=new bn(k.i);function Yt(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];for(var s=ec,f=0,p=u;f<p.length;f++){var v=p[f];s=s.add(v)}return s}var Vs=new bn(Je);function js(){return Vs}var Ko=function(){function u(r){this.i=r?function(s,f){return r(s,f)||k.i(s.key,f.key)}:function(s,f){return k.i(s.key,f.key)},this.Ot=lo(),this.Lt=new rn(this.i)}return u.Bt=function(r){return new u(r.i)},u.prototype.has=function(r){return null!=this.Ot.get(r)},u.prototype.get=function(r){return this.Ot.get(r)},u.prototype.first=function(){return this.Lt.ct()},u.prototype.last=function(){return this.Lt.ut()},u.prototype.m=function(){return this.Lt.m()},u.prototype.indexOf=function(r){var s=this.Ot.get(r);return s?this.Lt.indexOf(s):-1},Object.defineProperty(u.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),u.prototype.forEach=function(r){this.Lt.ht(function(s,f){return r(s),!1})},u.prototype.add=function(r){var s=this.delete(r.key);return s.copy(s.Ot.ot(r.key,r),s.Lt.ot(r,null))},u.prototype.delete=function(r){var s=this.get(r);return s?this.copy(this.Ot.remove(r),this.Lt.remove(s)):this},u.prototype.isEqual=function(r){if(!(r instanceof u)||this.size!==r.size)return!1;for(var s=this.Lt._t(),f=r.Lt._t();s.At();){var p=s.It().key,v=f.It().key;if(!p.isEqual(v))return!1}return!0},u.prototype.toString=function(){var r=[];return this.forEach(function(s){r.push(s.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"},u.prototype.copy=function(r,s){var f=new u;return f.i=this.i,f.Ot=r,f.Lt=s,f},u}(),Ui=function(){function u(){this.qt=new rn(k.i)}return u.prototype.track=function(r){var s=r.doc.key,f=this.qt.get(s);f?0!==r.type&&3===f.type?this.qt=this.qt.ot(s,r):3===r.type&&1!==f.type?this.qt=this.qt.ot(s,{type:f.type,doc:r.doc}):2===r.type&&2===f.type?this.qt=this.qt.ot(s,{type:2,doc:r.doc}):2===r.type&&0===f.type?this.qt=this.qt.ot(s,{type:0,doc:r.doc}):1===r.type&&0===f.type?this.qt=this.qt.remove(s):1===r.type&&2===f.type?this.qt=this.qt.ot(s,{type:1,doc:f.doc}):0===r.type&&1===f.type?this.qt=this.qt.ot(s,{type:2,doc:r.doc}):Re():this.qt=this.qt.ot(s,r)},u.prototype.Ut=function(){var r=[];return this.qt.ht(function(s,f){r.push(f)}),r},u}(),yi=function(){function u(r,s,f,p,v,w,D,T){this.query=r,this.docs=s,this.Qt=f,this.docChanges=p,this.Wt=v,this.fromCache=w,this.jt=D,this.Kt=T}return u.Gt=function(r,s,f,p){var v=[];return s.forEach(function(w){v.push({type:0,doc:w})}),new u(r,s,Ko.Bt(s),v,f,p,!0,!1)},Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(r){if(!(this.fromCache===r.fromCache&&this.jt===r.jt&&this.Wt.isEqual(r.Wt)&&Wi(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.Qt.isEqual(r.Qt)))return!1;var s=this.docChanges,f=r.docChanges;if(s.length!==f.length)return!1;for(var p=0;p<s.length;p++)if(s[p].type!==f[p].type||!s[p].doc.isEqual(f[p].doc))return!1;return!0},u}(),Qo=function(){function u(r,s,f,p,v){this.nt=r,this.zt=s,this.Ht=f,this.Yt=p,this.Jt=v}return u.Xt=function(r,s){var f=new Map;return f.set(r,Us.Zt(r,s)),new u(dt.min(),f,js(),jr(),Yt())},u}(),Us=function(){function u(r,s,f,p,v){this.resumeToken=r,this.te=s,this.ee=f,this.ne=p,this.se=v}return u.Zt=function(r,s){return new u(Vt.B,s,Yt(),Yt(),Yt())},u}(),Mn=function(u,r,s,f){this.ie=u,this.removedTargetIds=r,this.key=s,this.re=f},br=function(u,r){this.targetId=u,this.oe=r},ei=function(u,r,s,f){void 0===s&&(s=Vt.B),void 0===f&&(f=null),this.state=u,this.targetIds=r,this.resumeToken=s,this.cause=f},qn=function(){function u(){this.ae=0,this.ce=qe(),this.ue=Vt.B,this.he=!1,this.le=!0}return Object.defineProperty(u.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),u.prototype.de=function(r){r.O()>0&&(this.le=!0,this.ue=r)},u.prototype.we=function(){var r=Yt(),s=Yt(),f=Yt();return this.ce.forEach(function(p,v){switch(v){case 0:r=r.add(p);break;case 2:s=s.add(p);break;case 1:f=f.add(p);break;default:Re()}}),new Us(this.ue,this.he,r,s,f)},u.prototype.me=function(){this.le=!1,this.ce=qe()},u.prototype.Te=function(r,s){this.le=!0,this.ce=this.ce.ot(r,s)},u.prototype.Ee=function(r){this.le=!0,this.ce=this.ce.remove(r)},u.prototype.Ie=function(){this.ae+=1},u.prototype.Ae=function(){this.ae-=1},u.prototype.Re=function(){this.le=!0,this.he=!0},u}(),tc=function(){function u(r){this.ge=r,this.Pe=new Map,this.ye=jr(),this.Ve=wr(),this.pe=new bn(Je)}return u.prototype.be=function(r){for(var s=0,f=r.ie;s<f.length;s++){var p=f[s];r.re instanceof Ft?this.ve(p,r.re):r.re instanceof on&&this.Se(p,r.key,r.re)}for(var v=0,w=r.removedTargetIds;v<w.length;v++)this.Se(w[v],r.key,r.re)},u.prototype.De=function(r){var s=this;this.Ce(r,function(f){var p=s.Ne(f);switch(r.state){case 0:s.Fe(f)&&p.de(r.resumeToken);break;case 1:p.Ae(),p._e||p.me(),p.de(r.resumeToken);break;case 2:p.Ae(),p._e||s.removeTarget(f);break;case 3:s.Fe(f)&&(p.Re(),p.de(r.resumeToken));break;case 4:s.Fe(f)&&(s.xe(f),p.de(r.resumeToken));break;default:Re()}})},u.prototype.Ce=function(r,s){var f=this;r.targetIds.length>0?r.targetIds.forEach(s):this.Pe.forEach(function(p,v){f.Fe(v)&&s(v)})},u.prototype.$e=function(r){var s=r.targetId,f=r.oe.count,p=this.ke(s);if(p){var v=p.target;if(bt(v))if(0===f){var w=new k(v.path);this.Se(s,w,new on(w,dt.min()))}else Ie(1===f);else this.Me(s)!==f&&(this.xe(s),this.pe=this.pe.add(s))}},u.prototype.Oe=function(r){var s=this,f=new Map;this.Pe.forEach(function(w,D){var T=s.ke(D);if(T){if(w.te&&bt(T.target)){var F=new k(T.target.path);null!==s.ye.get(F)||s.Le(D,F)||s.Se(D,F,new on(F,r))}w.fe&&(f.set(D,w.we()),w.me())}});var p=Yt();this.Ve.forEach(function(w,D){var T=!0;D.xt(function(F){var $=s.ke(F);return!$||2===$.et||(T=!1,!1)}),T&&(p=p.add(w))});var v=new Qo(r,f,this.pe,this.ye,p);return this.ye=jr(),this.Ve=wr(),this.pe=new bn(Je),v},u.prototype.ve=function(r,s){if(this.Fe(r)){var f=this.Le(r,s.key)?2:0;this.Ne(r).Te(s.key,f),this.ye=this.ye.ot(s.key,s),this.Ve=this.Ve.ot(s.key,this.Be(s.key).add(r))}},u.prototype.Se=function(r,s,f){if(this.Fe(r)){var p=this.Ne(r);this.Le(r,s)?p.Te(s,1):p.Ee(s),this.Ve=this.Ve.ot(s,this.Be(s).delete(r)),f&&(this.ye=this.ye.ot(s,f))}},u.prototype.removeTarget=function(r){this.Pe.delete(r)},u.prototype.Me=function(r){var s=this.Ne(r).we();return this.ge.qe(r).size+s.ee.size-s.se.size},u.prototype.Ie=function(r){this.Ne(r).Ie()},u.prototype.Ne=function(r){var s=this.Pe.get(r);return s||(s=new qn,this.Pe.set(r,s)),s},u.prototype.Be=function(r){var s=this.Ve.get(r);return s||(s=new bn(Je),this.Ve=this.Ve.ot(r,s)),s},u.prototype.Fe=function(r){var s=null!==this.ke(r);return s||Z("WatchChangeAggregator","Detected inactive target",r),s},u.prototype.ke=function(r){var s=this.Pe.get(r);return s&&s._e?null:this.ge.Ue(r)},u.prototype.xe=function(r){var s=this;this.Pe.set(r,new qn),this.ge.qe(r).forEach(function(f){s.Se(r,f,null)})},u.prototype.Le=function(r,s){return this.ge.qe(r).has(s)},u}();function wr(){return new rn(k.i)}function qe(){return new rn(k.i)}function gt(u){var r,s;return"server_timestamp"===(null===(s=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function en(u){var r=u.mapValue.fields.__previous_value__;return gt(r)?en(r):r}function jn(u){var r=hr(u.mapValue.fields.__local_write_time__.timestampValue);return new nn(r.seconds,r.nanos)}var vi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kt(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?gt(u)?4:10:Re()}function Fn(u,r){var p,s=Kt(u);if(s!==Kt(r))return!1;switch(s){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return jn(u).isEqual(jn(r));case 3:return function(f,p){if("string"==typeof f.timestampValue&&"string"==typeof p.timestampValue&&f.timestampValue.length===p.timestampValue.length)return f.timestampValue===p.timestampValue;var v=hr(f.timestampValue),w=hr(p.timestampValue);return v.seconds===w.seconds&&v.nanos===w.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return p=r,pr(u.bytesValue).isEqual(pr(p.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(f,p){return tn(f.geoPointValue.latitude)===tn(p.geoPointValue.latitude)&&tn(f.geoPointValue.longitude)===tn(p.geoPointValue.longitude)}(u,r);case 2:return function(f,p){if("integerValue"in f&&"integerValue"in p)return tn(f.integerValue)===tn(p.integerValue);if("doubleValue"in f&&"doubleValue"in p){var v=tn(f.doubleValue),w=tn(p.doubleValue);return v===w?W(v)===W(w):isNaN(v)&&isNaN(w)}return!1}(u,r);case 9:return Ot(u.arrayValue.values||[],r.arrayValue.values||[],Fn);case 10:return function(f,p){var v=f.mapValue.fields||{},w=p.mapValue.fields||{};if(ze(v)!==ze(w))return!1;for(var D in v)if(v.hasOwnProperty(D)&&(void 0===w[D]||!Fn(v[D],w[D])))return!1;return!0}(u,r);default:return Re()}}function jt(u,r){return void 0!==(u.values||[]).find(function(s){return Fn(s,r)})}function ti(u,r){var p,v,w,D,s=Kt(u),f=Kt(r);if(s!==f)return Je(s,f);switch(s){case 0:return 0;case 1:return Je(u.booleanValue,r.booleanValue);case 2:return v=r,(w=tn((p=u).integerValue||p.doubleValue))<(D=tn(v.integerValue||v.doubleValue))?-1:w>D?1:w===D?0:isNaN(w)?isNaN(D)?0:-1:1;case 3:return Jo(u.timestampValue,r.timestampValue);case 4:return Jo(jn(u),jn(r));case 5:return Je(u.stringValue,r.stringValue);case 6:return function(p,v){var w=pr(p),D=pr(v);return w.L(D)}(u.bytesValue,r.bytesValue);case 7:return function(p,v){for(var w=p.split("/"),D=v.split("/"),T=0;T<w.length&&T<D.length;T++){var F=Je(w[T],D[T]);if(0!==F)return F}return Je(w.length,D.length)}(u.referenceValue,r.referenceValue);case 8:return function(p,v){var w=Je(tn(p.latitude),tn(v.latitude));return 0!==w?w:Je(tn(p.longitude),tn(v.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(p,v){for(var w=p.values||[],D=v.values||[],T=0;T<w.length&&T<D.length;++T){var F=ti(w[T],D[T]);if(F)return F}return Je(w.length,D.length)}(u.arrayValue,r.arrayValue);case 10:return function(p,v){var w=p.fields||{},D=Object.keys(w),T=v.fields||{},F=Object.keys(T);D.sort(),F.sort();for(var $=0;$<D.length&&$<F.length;++$){var K=Je(D[$],F[$]);if(0!==K)return K;var Y=ti(w[D[$]],T[F[$]]);if(0!==Y)return Y}return Je(D.length,F.length)}(u.mapValue,r.mapValue);default:throw Re()}}function Jo(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return Je(u,r);var s=hr(u),f=hr(r),p=Je(s.seconds,f.seconds);return 0!==p?p:Je(s.nanos,f.nanos)}function ct(u){return Bi(u)}function Bi(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?"time("+(p=hr(u.timestampValue)).seconds+","+p.nanos+")":"stringValue"in u?u.stringValue:"bytesValue"in u?pr(u.bytesValue).toBase64():"referenceValue"in u?k.C(u.referenceValue).toString():"geoPointValue"in u?"geo("+(r=u.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in u?function(f){for(var p="[",v=!0,w=0,D=f.values||[];w<D.length;w++)v?v=!1:p+=",",p+=Bi(D[w]);return p+"]"}(u.arrayValue):"mapValue"in u?function(f){for(var p="{",v=!0,w=0,D=Object.keys(f.fields||{}).sort();w<D.length;w++){var T=D[w];v?v=!1:p+=",",p+=T+":"+Bi(f.fields[T])}return p+"}"}(u.mapValue):Re();var p,r}function hr(u){if(Ie(!!u),"string"==typeof u){var r=0,s=vi.exec(u);if(Ie(!!s),s[1]){var f=s[1];f=(f+"000000000").substr(0,9),r=Number(f)}var p=new Date(u);return{seconds:Math.floor(p.getTime()/1e3),nanos:r}}return{seconds:tn(u.seconds),nanos:tn(u.nanos)}}function tn(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function pr(u){return"string"==typeof u?Vt.fromBase64String(u):Vt.fromUint8Array(u)}function $t(u,r){return{referenceValue:"projects/"+u.projectId+"/databases/"+u.database+"/documents/"+r.path.R()}}function Hi(u){return!!u&&"integerValue"in u}function gr(u){return!!u&&"arrayValue"in u}function Qn(u){return!!u&&"nullValue"in u}function qt(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Xo(u){return!!u&&"mapValue"in u}var Sa={asc:"ASCENDING",desc:"DESCENDING"},Bs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fo=function(u,r){this.U=u,this.Qe=r};function ho(u){return{integerValue:""+u}}function Gi(u,r){if(u.Qe){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W(r)?"-0":r}}function _i(u,r){return re(r)?ho(r):Gi(u,r)}function Nn(u,r){return u.Qe?new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+r.nanoseconds).slice(-9)+"Z":{seconds:""+r.seconds,nanos:r.nanoseconds}}function es(u,r){return u.Qe?r.toBase64():r.toUint8Array()}function bi(u,r){return Nn(u,r.Z())}function Pt(u){return Ie(!!u),dt.J((s=hr(u),new nn(s.seconds,s.nanos)));var s}function po(u,r){return(s=u,new x(["projects",s.projectId,"databases",s.database])).child("documents").child(r).R();var s}function go(u){var r=x.g(u);return Ie(ln(r)),r}function ni(u,r){return po(u.U,r.path)}function Dn(u,r){var s=go(r);return Ie(s.get(1)===u.U.projectId),Ie(!s.get(3)&&!u.U.database||s.get(3)===u.U.database),new k(Gs(s))}function hu(u,r){return po(u.U,r)}function Hs(u){var r=go(u);return 4===r.length?x.P():Gs(r)}function ts(u){return new x(["projects",u.U.projectId,"databases",u.U.database]).R()}function Gs(u){return Ie(u.length>4&&"documents"===u.get(4)),u.u(5)}function Ma(u,r,s){return{name:ni(u,r),fields:s.proto.mapValue.fields}}function $i(u,r){var s,p;if(r instanceof bo)s={update:Ma(u,r.key,r.value)};else if(r instanceof Oa)s={delete:ni(u,r.key)};else if(r instanceof Ut)s={update:Ma(u,r.key,r.data),updateMask:vu(r.We)};else if(r instanceof wo)s={transform:{document:ni(u,r.key),fieldTransforms:r.fieldTransforms.map(function(f){return function(p,v){var w=v.transform;if(w instanceof Ur)return{fieldPath:v.field.R(),setToServerValue:"REQUEST_TIME"};if(w instanceof wi)return{fieldPath:v.field.R(),appendMissingElements:{values:w.elements}};if(w instanceof is)return{fieldPath:v.field.R(),removeAllFromArray:{values:w.elements}};if(w instanceof qi)return{fieldPath:v.field.R(),increment:w.je};throw Re()}(0,f)})}};else{if(!(r instanceof zi))return Re();s={verify:ni(u,r.key)}}return r.Ge.Ke||(s.currentDocument=void 0!==(p=r.Ge).updateTime?{updateTime:bi(u,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Re()),s}function pu(u,r){var $,s=r.currentDocument?void 0!==($=r.currentDocument).updateTime?Un.updateTime(Pt($.updateTime)):void 0!==$.exists?Un.exists($.exists):Un.ze():Un.ze();if(r.update){var f=Dn(u,r.update.name),p=new sr({mapValue:{fields:r.update.fields}});if(r.updateMask){var v=function($){return new Cr(($.fieldPaths||[]).map(function(Y){return L.S(Y)}))}(r.updateMask);return new Ut(f,p,v,s)}return new bo(f,p,s)}if(r.delete){var w=Dn(u,r.delete);return new Oa(w,s)}if(r.transform){var D=Dn(u,r.transform.document),T=r.transform.fieldTransforms.map(function($){return function(K,Y){var ae=null;"setToServerValue"in Y?(Ie("REQUEST_TIME"===Y.setToServerValue),ae=new Ur):"appendMissingElements"in Y?ae=new wi(Y.appendMissingElements.values||[]):"removeAllFromArray"in Y?ae=new is(Y.removeAllFromArray.values||[]):"increment"in Y?ae=new qi(K,Y.increment):Re();var Ke=L.S(Y.fieldPath);return new Jn(Ke,ae)}(u,$)});return Ie(!0===s.exists),new wo(D,T)}if(r.verify){var F=Dn(u,r.verify);return new zi(F,s)}return Re()}function nl(u,r){return{documents:[hu(u,r.path)]}}function gu(u,r){var s={structuredQuery:{}},f=r.path;null!==r.collectionGroup?(s.parent=hu(u,f),s.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(s.parent=hu(u,f.h()),s.structuredQuery.from=[{collectionId:f._()}]);var p=function(D){if(0!==D.length){var T=D.map(function(F){return function($){if("=="===$.op){if(qt($.value))return{unaryFilter:{field:Er($.field),op:"IS_NAN"}};if(Qn($.value))return{unaryFilter:{field:Er($.field),op:"IS_NULL"}}}else if("!="===$.op){if(qt($.value))return{unaryFilter:{field:Er($.field),op:"IS_NOT_NAN"}};if(Qn($.value))return{unaryFilter:{field:Er($.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er($.field),op:rs($.op),value:$.value}}}(F)});return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}}(r.filters);p&&(s.structuredQuery.where=p);var v=function(D){if(0!==D.length)return D.map(function(T){return{field:Er((F=T).field),direction:nf(F.dir)};var F})}(r.orderBy);v&&(s.structuredQuery.orderBy=v);var T,w=(T=r.limit,u.Qe||oe(T)?T:{value:T});return null!==w&&(s.structuredQuery.limit=w),r.startAt&&(s.structuredQuery.startAt=mo(r.startAt)),r.endAt&&(s.structuredQuery.endAt=mo(r.endAt)),s}function ns(u){var r=Hs(u.parent),s=u.structuredQuery,f=s.from?s.from.length:0,p=null;if(f>0){Ie(1===f);var v=s.from[0];v.allDescendants?p=v.collectionId:r=r.child(v.collectionId)}var w=[];s.where&&(w=mu(s.where));var D=[];s.orderBy&&(D=s.orderBy.map(function(K){return new Ai(ri((Y=K).field),function(ae){switch(ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction));var Y}));var K,Y,T=null;s.limit&&(T=oe(Y="object"==typeof(K=s.limit)?K.value:K)?null:Y);var F=null;s.startAt&&(F=yu(s.startAt));var $=null;return s.endAt&&($=yu(s.endAt)),xe(at(r,p,D,w,T,"F",F,$))}function mu(u){return u?void 0!==u.unaryFilter?[qs(u)]:void 0!==u.fieldFilter?[$s(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(function(r){return mu(r)}).reduce(function(r,s){return r.concat(s)}):Re():[]}function mo(u){return{before:u.before,values:u.position}}function yu(u){return new Gr(u.values||[],!!u.before)}function nf(u){return Sa[u]}function rs(u){return Bs[u]}function Er(u){return{fieldPath:u.R()}}function ri(u){return L.S(u.fieldPath)}function $s(u){return Wn.create(ri(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Re()}}(u.fieldFilter.op),u.fieldFilter.value)}function qs(u){switch(u.unaryFilter.op){case"IS_NAN":var r=ri(u.unaryFilter.field);return Wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":var s=ri(u.unaryFilter.field);return Wn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var f=ri(u.unaryFilter.field);return Wn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var p=ri(u.unaryFilter.field);return Wn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Re()}}function vu(u){var r=[];return u.fields.forEach(function(s){return r.push(s.R())}),{fieldPaths:r}}function ln(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}var yo=function(){this.He=void 0};function rf(u,r,s){return u instanceof Ur?(v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(f=s).seconds,nanos:f.nanoseconds}}}},(p=r)&&(v.fields.__previous_value__=p),{mapValue:v}):u instanceof wi?nc(u,r):u instanceof is?rc(u,r):function(f,p){var v=_o(f,p),w=ic(v)+ic(f.je);return Hi(v)&&Hi(f.je)?ho(w):Gi(f.serializer,w)}(u,r);var f,p,v}function vo(u,r,s){return u instanceof wi?nc(u,r):u instanceof is?rc(u,r):s}function _o(u,r){return u instanceof qi?Hi(s=r)||(f=s)&&"doubleValue"in f?r:{integerValue:0}:null;var f,s}var Ur=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r}(yo),wi=function(u){function r(s){var f=this;return(f=u.call(this)||this).elements=s,f}return P.__extends(r,u),r}(yo);function nc(u,r){for(var s=Ei(r),f=function(w){s.some(function(D){return Fn(D,w)})||s.push(w)},p=0,v=u.elements;p<v.length;p++)f(v[p]);return{arrayValue:{values:s}}}var is=function(u){function r(s){var f=this;return(f=u.call(this)||this).elements=s,f}return P.__extends(r,u),r}(yo);function rc(u,r){for(var s=Ei(r),f=function(w){s=s.filter(function(D){return!Fn(D,w)})},p=0,v=u.elements;p<v.length;p++)f(v[p]);return{arrayValue:{values:s}}}var qi=function(u){function r(s,f){var p=this;return(p=u.call(this)||this).serializer=s,p.je=f,p}return P.__extends(r,u),r}(yo);function ic(u){return tn(u.integerValue||u.doubleValue)}function Ei(u){return gr(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}var Cr=function(){function u(r){this.fields=r,r.sort(L.i)}return u.prototype.Ye=function(r){for(var s=0,f=this.fields;s<f.length;s++)if(f[s].T(r))return!0;return!1},u.prototype.isEqual=function(r){return Ot(this.fields,r.fields,function(s,f){return s.isEqual(f)})},u}(),Jn=function(u,r){this.field=u,this.transform=r},Na=function(u,r){this.version=u,this.transformResults=r},Un=function(){function u(r,s){this.updateTime=r,this.exists=s}return u.ze=function(){return new u},u.exists=function(r){return new u(void 0,r)},u.updateTime=function(r){return new u(r)},Object.defineProperty(u.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)},u}();function or(u,r){return void 0!==u.updateTime?r instanceof Ft&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r instanceof Ft}var Ci=function(){};function _u(u,r,s){return u instanceof bo?new Ft((f=u).key,s.version,f.value,{hasCommittedMutations:!0}):u instanceof Ut?function(f,p,v){if(!or(f.Ge,p))return new Ws(f.key,v.version);var w=wu(f,p);return new Ft(f.key,v.version,w,{hasCommittedMutations:!0})}(u,r,s):u instanceof wo?function(f,p,v){if(Ie(null!=v.transformResults),!or(f.Ge,p))return new Ws(f.key,v.version);var w=Eo(0,p),D=function($,K,Y){var ae=[];Ie($.length===Y.length);for(var be=0;be<Y.length;be++){var Se=$[be],Ke=Se.transform,Be=null;K instanceof Ft&&(Be=K.field(Se.field)),ae.push(vo(Ke,Be,Y[be]))}return ae}(f.fieldTransforms,p,v.transformResults),T=v.version,F=Rr(f,w.data(),D);return new Ft(f.key,T,F,{hasCommittedMutations:!0})}(u,r,s):function(f,p,v){return new on(f.key,v.version,{hasCommittedMutations:!0})}(u,0,s);var f}function os(u,r,s,f){return u instanceof bo?function(p,v){if(!or(p.Ge,v))return v;var w=xa(v);return new Ft(p.key,w,p.value,{Je:!0})}(u,r):u instanceof Ut?function(p,v){if(!or(p.Ge,v))return v;var w=xa(v),D=wu(p,v);return new Ft(p.key,w,D,{Je:!0})}(u,r):u instanceof wo?function(p,v,w,D){if(!or(p.Ge,v))return v;var T=Eo(0,v),F=function(K,Y,ae,be){for(var Se=[],Ke=0,Be=K;Ke<Be.length;Ke++){var it=Be[Ke],pt=it.transform,Et=null;ae instanceof Ft&&(Et=ae.field(it.field)),null===Et&&be instanceof Ft&&(Et=be.field(it.field)),Se.push(rf(pt,Et,Y))}return Se}(p.fieldTransforms,w,v,D),$=Rr(p,T.data(),F);return new Ft(p.key,T.version,$,{Je:!0})}(u,r,f,s):or((p=u).Ge,v=r)?new on(p.key,dt.min()):v;var p,v}function wn(u,r){return u instanceof wo?function(s,f){for(var p=null,v=0,w=s.fieldTransforms;v<w.length;v++){var D=w[v],T=f instanceof Ft?f.field(D.field):void 0,F=_o(D.transform,T||null);null!=F&&(p=null==p?(new zn).set(D.field,F):p.set(D.field,F))}return p?p.Xe():null}(u,r):null}function bu(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.Ge.isEqual(r.Ge)&&(0===u.type?u.value.isEqual(r.value):1===u.type?u.data.isEqual(r.data)&&u.We.isEqual(r.We):2!==u.type||Ot(u.fieldTransforms,u.fieldTransforms,function(s,f){return(p=s).field.isEqual((v=f).field)&&(D=v.transform,(w=p.transform)instanceof wi&&D instanceof wi||w instanceof is&&D instanceof is?Ot(w.elements,D.elements,Fn):w instanceof qi&&D instanceof qi?Fn(w.je,D.je):w instanceof Ur&&D instanceof Ur);var p,v,w,D}))}function xa(u){return u instanceof Ft?u.version:dt.min()}var bo=function(u){function r(s,f,p){var v=this;return(v=u.call(this)||this).key=s,v.value=f,v.Ge=p,v.type=0,v}return P.__extends(r,u),r}(Ci),Ut=function(u){function r(s,f,p,v){var w=this;return(w=u.call(this)||this).key=s,w.data=f,w.We=p,w.Ge=v,w.type=1,w}return P.__extends(r,u),r}(Ci);function wu(u,r){return s=u,f=r instanceof Ft?r.data():sr.empty(),p=new zn(f),s.We.fields.forEach(function(v){if(!v.m()){var w=s.data.field(v);null!==w?p.set(v,w):p.delete(v)}}),p.Xe();var s,f,p}var wo=function(u){function r(s,f){var p=this;return(p=u.call(this)||this).key=s,p.fieldTransforms=f,p.type=2,p.Ge=Un.exists(!0),p}return P.__extends(r,u),r}(Ci);function Eo(u,r){return r}function Rr(u,r,s){for(var f=new zn(r),p=0;p<u.fieldTransforms.length;p++)f.set(u.fieldTransforms[p].field,s[p]);return f.Xe()}var Oa=function(u){function r(s,f){var p=this;return(p=u.call(this)||this).key=s,p.Ge=f,p.type=3,p}return P.__extends(r,u),r}(Ci),zi=function(u){function r(s,f){var p=this;return(p=u.call(this)||this).key=s,p.Ge=f,p.type=4,p}return P.__extends(r,u),r}(Ci),sr=function(){function u(r){this.proto=r}return u.empty=function(){return new u({mapValue:{}})},u.prototype.field=function(r){if(r.m())return this.proto;for(var s=this.proto,f=0;f<r.length-1;++f)if(!s.mapValue.fields||!Xo(s=s.mapValue.fields[r.get(f)]))return null;return(s=(s.mapValue.fields||{})[r._()])||null},u.prototype.isEqual=function(r){return Fn(this.proto,r.proto)},u}(),zn=function(){function u(r){void 0===r&&(r=sr.empty()),this.Ze=r,this.tn=new Map}return u.prototype.set=function(r,s){return this.en(r,s),this},u.prototype.delete=function(r){return this.en(r,null),this},u.prototype.en=function(r,s){for(var f=this.tn,p=0;p<r.length-1;++p){var v=r.get(p),w=f.get(v);w instanceof Map?f=w:w&&10===Kt(w)?(w=new Map(Object.entries(w.mapValue.fields||{})),f.set(v,w),f=w):(w=new Map,f.set(v,w),f=w)}f.set(r._(),s)},u.prototype.Xe=function(){var r=this.nn(L.P(),this.tn);return null!=r?new sr(r):this.Ze},u.prototype.nn=function(r,s){var f=this,p=!1,v=this.Ze.field(r),w=Xo(v)?Object.assign({},v.mapValue.fields):{};return s.forEach(function(D,T){if(D instanceof Map){var F=f.nn(r.child(T),D);null!=F&&(w[T]=F,p=!0)}else null!==D?(w[T]=D,p=!0):w.hasOwnProperty(T)&&(delete w[T],p=!0)}),p?{mapValue:{fields:w}}:null},u}();function In(u){var r=[];return tt(u.fields||{},function(s,f){var p=new L([s]);if(Xo(f)){var v=In(f.mapValue).fields;if(0===v.length)r.push(p);else for(var w=0,D=v;w<D.length;w++)r.push(p.child(D[w]))}else r.push(p)}),new Cr(r)}var zs=function(u,r){this.key=u,this.version=r},Ft=function(u){function r(s,f,p,v){var w=this;return(w=u.call(this,s,f)||this).sn=p,w.Je=!!v.Je,w.hasCommittedMutations=!!v.hasCommittedMutations,w}return P.__extends(r,u),r.prototype.field=function(s){return this.sn.field(s)},r.prototype.data=function(){return this.sn},r.prototype.rn=function(){return this.sn.proto},r.prototype.isEqual=function(s){return s instanceof r&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.Je===s.Je&&this.hasCommittedMutations===s.hasCommittedMutations&&this.sn.isEqual(s.sn)},r.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),r}(zs),on=function(u){function r(s,f,p){var v=this;return(v=u.call(this,s,f)||this).hasCommittedMutations=!(!p||!p.hasCommittedMutations),v}return P.__extends(r,u),r.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(s){return s instanceof r&&s.hasCommittedMutations===this.hasCommittedMutations&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},r}(zs),Ws=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(s){return s instanceof r&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},r}(zs),Br=function(u,r,s,f,p,v,w,D){void 0===r&&(r=null),void 0===s&&(s=[]),void 0===f&&(f=[]),void 0===p&&(p=null),void 0===v&&(v="F"),void 0===w&&(w=null),void 0===D&&(D=null),this.path=u,this.collectionGroup=r,this.on=s,this.filters=f,this.limit=p,this.an=v,this.startAt=w,this.endAt=D,this.cn=null,this.un=null};function at(u,r,s,f,p,v,w,D){return new Br(u,r,s,f,p,v,w,D)}function Zs(u){return new Br(u)}function Di(u){return!oe(u.limit)&&"F"===u.an}function ii(u){return!oe(u.limit)&&"L"===u.an}function ss(u){return u.on.length>0?u.on[0].field:null}function Pr(u){for(var r=0,s=u.filters;r<s.length;r++){var f=s[r];if(f.hn())return f.field}return null}function Co(u){return null!==u.collectionGroup}function Ii(u){var r=pe(u);if(null===r.cn){r.cn=[];var s=Pr(r),f=ss(r);if(null!==s&&null===f)s.p()||r.cn.push(new Ai(s)),r.cn.push(new Ai(L.v(),"asc"));else{for(var p=!1,v=0,w=r.on;v<w.length;v++){var D=w[v];r.cn.push(D),D.field.p()&&(p=!0)}if(!p){var T=r.on.length>0?r.on[r.on.length-1].dir:"asc";r.cn.push(new Ai(L.v(),T))}}}return r.cn}function xe(u){var r=pe(u);if(!r.un)if("F"===r.an)r.un=fe(r.path,r.collectionGroup,Ii(r),r.filters,r.limit,r.startAt,r.endAt);else{for(var s=[],f=0,p=Ii(r);f<p.length;f++){var v=p[f];s.push(new Ai(v.field,"desc"===v.dir?"asc":"desc"))}var D=r.endAt?new Gr(r.endAt.position,!r.endAt.before):null,T=r.startAt?new Gr(r.startAt.position,!r.startAt.before):null;r.un=fe(r.path,r.collectionGroup,s,r.filters,r.limit,D,T)}return r.un}function Dt(u,r,s){return new Br(u.path,u.collectionGroup,u.on.slice(),u.filters.slice(),r,s,u.startAt,u.endAt)}function as(u,r){return new Br(u.path,u.collectionGroup,u.on.slice(),u.filters.slice(),u.limit,u.an,r,u.endAt)}function fn(u,r){return new Br(u.path,u.collectionGroup,u.on.slice(),u.filters.slice(),u.limit,u.an,u.startAt,r)}function Wi(u,r){return Xe(xe(u),xe(r))&&u.an===r.an}function Zi(u){return Ze(xe(u))+"|lt:"+u.an}function ar(u){return"Query(target="+(s=(r=xe(u)).path.R(),null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=", filters: ["+r.filters.map(function(f){return(p=f).field.R()+" "+p.op+" "+ct(p.value);var p}).join(", ")+"]"),oe(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=", orderBy: ["+r.orderBy.map(function(f){return(p=f).field.R()+" ("+p.dir+")";var p}).join(", ")+"]"),r.startAt&&(s+=", startAt: "+cs(r.startAt)),r.endAt&&(s+=", endAt: "+cs(r.endAt)),"Target("+s+"); limitType=")+u.an+")";var r,s}function Do(u,r){return p=(f=r).key.path,(null!==(s=u).collectionGroup?f.key.N(s.collectionGroup)&&s.path.T(p):k.F(s.path)?s.path.isEqual(p):s.path.I(p))&&function(s,f){for(var p=0,v=s.on;p<v.length;p++){var w=v[p];if(!w.field.p()&&null===f.field(w.field))return!1}return!0}(u,r)&&function(s,f){for(var p=0,v=s.filters;p<v.length;p++)if(!v[p].matches(f))return!1;return!0}(u,r)&&function(s,f){return!(s.startAt&&!Ys(s.startAt,Ii(s),f)||s.endAt&&Ys(s.endAt,Ii(s),f))}(u,r);var s,f,p}function Yi(u){return function(r,s){for(var f=!1,p=0,v=Ii(u);p<v.length;p++){var w=v[p],D=ls(w,r,s);if(0!==D)return D;f=f||w.field.p()}return 0}}var Wn=function(u){function r(s,f,p){var v=this;return(v=u.call(this)||this).field=s,v.op=f,v.value=p,v}return P.__extends(r,u),r.create=function(s,f,p){if(s.p())return"in"===f||"not-in"===f?this.ln(s,f,p):new rl(s,f,p);if(Qn(p)){if("=="!==f&&"!="!==f)throw new B(R.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new r(s,f,p)}if(qt(p)){if("=="!==f&&"!="!==f)throw new B(R.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new r(s,f,p)}return"array-contains"===f?new Hr(s,p):"in"===f?new us(s,p):"not-in"===f?new Ao(s,p):"array-contains-any"===f?new oi(s,p):new r(s,f,p)},r.ln=function(s,f,p){return"in"===f?new Io(s,p):new Ki(s,p)},r.prototype.matches=function(s){var f=s.field(this.field);return"!="===this.op?null!==f&&this._n(ti(f,this.value)):null!==f&&Kt(this.value)===Kt(f)&&this._n(ti(f,this.value))},r.prototype._n=function(s){switch(this.op){case"<":return s<0;case"<=":return s<=0;case"==":return 0===s;case"!=":return 0!==s;case">":return s>0;case">=":return s>=0;default:return Re()}},r.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},r}(function(){}),rl=function(u){function r(s,f,p){var v=this;return(v=u.call(this,s,f,p)||this).key=k.C(p.referenceValue),v}return P.__extends(r,u),r.prototype.matches=function(s){var f=k.i(s.key,this.key);return this._n(f)},r}(Wn),Io=function(u){function r(s,f){var p=this;return(p=u.call(this,s,"in",f)||this).keys=Zn(0,f),p}return P.__extends(r,u),r.prototype.matches=function(s){return this.keys.some(function(f){return f.isEqual(s.key)})},r}(Wn),Ki=function(u){function r(s,f){var p=this;return(p=u.call(this,s,"not-in",f)||this).keys=Zn(0,f),p}return P.__extends(r,u),r.prototype.matches=function(s){return!this.keys.some(function(f){return f.isEqual(s.key)})},r}(Wn);function Zn(u,r){var s;return((null===(s=r.arrayValue)||void 0===s?void 0:s.values)||[]).map(function(f){return k.C(f.referenceValue)})}var Hr=function(u){function r(s,f){return u.call(this,s,"array-contains",f)||this}return P.__extends(r,u),r.prototype.matches=function(s){var f=s.field(this.field);return gr(f)&&jt(f.arrayValue,this.value)},r}(Wn),us=function(u){function r(s,f){return u.call(this,s,"in",f)||this}return P.__extends(r,u),r.prototype.matches=function(s){var f=s.field(this.field);return null!==f&&jt(this.value.arrayValue,f)},r}(Wn),Ao=function(u){function r(s,f){return u.call(this,s,"not-in",f)||this}return P.__extends(r,u),r.prototype.matches=function(s){if(jt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var f=s.field(this.field);return null!==f&&!jt(this.value.arrayValue,f)},r}(Wn),oi=function(u){function r(s,f){return u.call(this,s,"array-contains-any",f)||this}return P.__extends(r,u),r.prototype.matches=function(s){var f=this,p=s.field(this.field);return!(!gr(p)||!p.arrayValue.values)&&p.arrayValue.values.some(function(v){return jt(f.value.arrayValue,v)})},r}(Wn),Gr=function(u,r){this.position=u,this.before=r};function cs(u){return(u.before?"b":"a")+":"+u.position.map(function(r){return ct(r)}).join(",")}function Ys(u,r,s){for(var f=0,p=0;p<u.position.length;p++){var v=r[p],w=u.position[p];if(f=v.field.p()?k.i(k.C(w.referenceValue),s.key):ti(w,s.field(v.field)),"desc"===v.dir&&(f*=-1),0!==f)break}return u.before?f<=0:f<0}function Ra(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(var s=0;s<u.position.length;s++)if(!Fn(u.position[s],r.position[s]))return!1;return!0}var Ai=function(u,r){void 0===r&&(r="asc"),this.field=u,this.dir=r};function ls(u,r,s){var p,w,D,T,f=u.field.p()?k.i(r.key,s.key):(w=s,D=r.field(p=u.field),T=w.field(p),null!==D&&null!==T?ti(D,T):Re());switch(u.dir){case"asc":return f;case"desc":return-1*f;default:return Re()}}function Dr(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}var ur=function(){var u=this;this.promise=new Promise(function(r,s){u.resolve=r,u.reject=s})},Pa=function(){function u(r,s,f,p,v){void 0===f&&(f=1e3),void 0===p&&(p=1.5),void 0===v&&(v=6e4),this.fn=r,this.dn=s,this.wn=f,this.mn=p,this.Tn=v,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return u.prototype.reset=function(){this.En=0},u.prototype.Rn=function(){this.En=this.Tn},u.prototype.gn=function(r){var s=this;this.cancel();var f=Math.floor(this.En+this.Pn()),p=Math.max(0,Date.now()-this.An),v=Math.max(0,f-p);v>0&&Z("ExponentialBackoff","Backing off for "+v+" ms (base delay: "+this.En+" ms, delay with jitter: "+f+" ms, last attempt: "+p+" ms ago)"),this.In=this.fn.yn(this.dn,v,function(){return s.An=Date.now(),r()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},u.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},u.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},u.prototype.Pn=function(){return(Math.random()-.5)*this.En},u}(),Fe=function(){function u(r){var s=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,r(function(f){s.Sn=!0,s.result=f,s.bn&&s.bn(f)},function(f){s.Sn=!0,s.error=f,s.vn&&s.vn(f)})}return u.prototype.catch=function(r){return this.next(void 0,r)},u.prototype.next=function(r,s){var f=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(s,this.error):this.Nn(r,this.result):new u(function(p,v){f.bn=function(w){f.Nn(r,w).next(p,v)},f.vn=function(w){f.Cn(s,w).next(p,v)}})},u.prototype.Fn=function(){var r=this;return new Promise(function(s,f){r.next(s,f)})},u.prototype.xn=function(r){try{var s=r();return s instanceof u?s:u.resolve(s)}catch(f){return u.reject(f)}},u.prototype.Nn=function(r,s){return r?this.xn(function(){return r(s)}):u.resolve(s)},u.prototype.Cn=function(r,s){return r?this.xn(function(){return r(s)}):u.reject(s)},u.resolve=function(r){return new u(function(s,f){s(r)})},u.reject=function(r){return new u(function(s,f){f(r)})},u.$n=function(r){return new u(function(s,f){var p=0,v=0,w=!1;r.forEach(function(D){++p,D.next(function(){++v,w&&v===p&&s()},function(T){return f(T)})}),w=!0,v===p&&s()})},u.kn=function(r){for(var s=u.resolve(!1),f=function(w){s=s.next(function(D){return D?u.resolve(D):w()})},p=0,v=r;p<v.length;p++)f(v[p]);return s},u.forEach=function(r,s){var f=this,p=[];return r.forEach(function(v,w){p.push(s.call(f,v,w))}),this.$n(p)},u}(),$r=function(){function u(r,s,f){this.name=r,this.version=s,this.Mn=f,12.2===u.On(ne.getUA())&&we("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return u.delete=function(r){return Z("SimpleDb","Removing database:",r),fs(window.indexedDB.deleteDatabase(r)).Fn()},u.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(u.Bn())return!0;var r=ne.getUA(),s=u.On(r),f=0<s&&s<10,p=u.qn(r),v=0<p&&p<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||f||v)},u.Bn=function(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Un)},u.Qn=function(r,s){return r.store(s)},u.On=function(r){var s=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),f=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(f)},u.qn=function(r){var s=r.match(/Android ([\d.]+)/i),f=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(f)},u.prototype.Wn=function(r){return P.__awaiter(this,void 0,void 0,function(){var s,f=this;return P.__generator(this,function(p){switch(p.label){case 0:return this.db?[3,2]:(Z("SimpleDb","Opening database:",this.name),s=this,[4,new Promise(function(v,w){var D=indexedDB.open(f.name,f.version);D.onsuccess=function(T){v(T.target.result)},D.onblocked=function(){w(new To(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},D.onerror=function(T){var F=T.target.error;w("VersionError"===F.name?new B(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new To(r,F))},D.onupgradeneeded=function(T){Z("SimpleDb",'Database "'+f.name+'" requires upgrade from version:',T.oldVersion),f.Mn.createOrUpgrade(T.target.result,D.transaction,T.oldVersion,f.version).next(function(){Z("SimpleDb","Database upgrade to version "+f.version+" complete")})}})]);case 1:s.db=p.sent(),p.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(v){return f.jn(v)}),this.db)]}})})},u.prototype.Kn=function(r){this.jn=r,this.db&&(this.db.onversionchange=function(s){return r(s)})},u.prototype.runTransaction=function(r,s,f,p){return P.__awaiter(this,void 0,void 0,function(){var v,w,D,T,F;return P.__generator(this,function($){switch($.label){case 0:v="readonly"===s,w=0,D=function(){var K,Y,ae,be,Se;return P.__generator(this,function(Ke){switch(Ke.label){case 0:++w,Ke.label=1;case 1:return Ke.trys.push([1,4,,5]),[4,T.Wn(r)];case 2:return T.db=Ke.sent(),K=Cu.open(T.db,r,v?"readonly":"readwrite",f),Y=p(K).catch(function(Be){return K.abort(Be),Fe.reject(Be)}).Fn(),ae={},Y.catch(function(){}),[4,K.Gn];case 3:return[2,(ae.value=(Ke.sent(),Y),ae)];case 4:return Z("SimpleDb","Transaction failed with error:",(be=Ke.sent()).message,"Retrying:",Se="FirebaseError"!==be.name&&w<3),T.close(),Se?[3,5]:[2,{value:Promise.reject(be)}];case 5:return[2]}})},T=this,$.label=1;case 1:return[5,D()];case 2:if("object"==typeof(F=$.sent()))return[2,F.value];$.label=3;case 3:return[3,1];case 4:return[2]}})})},u.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},u}(),Eu=function(){function u(r){this.zn=r,this.Hn=!1,this.Yn=null}return Object.defineProperty(u.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cursor",{set:function(r){this.zn=r},enumerable:!1,configurable:!0}),u.prototype.done=function(){this.Hn=!0},u.prototype.Xn=function(r){this.Yn=r},u.prototype.delete=function(){return fs(this.zn.delete())},u}(),To=function(u){function r(s,f){var p=this;return(p=u.call(this,R.UNAVAILABLE,"IndexedDB transaction '"+s+"' failed: "+f)||this).name="IndexedDbTransactionError",p}return P.__extends(r,u),r}(B);function si(u){return"IndexedDbTransactionError"===u.name}var Cu=function(){function u(r,s){var f=this;this.action=r,this.transaction=s,this.aborted=!1,this.Zn=new ur,this.transaction.oncomplete=function(){f.Zn.resolve()},this.transaction.onabort=function(){s.error?f.Zn.reject(new To(r,s.error)):f.Zn.resolve()},this.transaction.onerror=function(p){var v=I(p.target.error);f.Zn.reject(new To(r,v))}}return u.open=function(r,s,f,p){try{return new u(s,r.transaction(p,f))}catch(v){throw new To(s,v)}},Object.defineProperty(u.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),u.prototype.abort=function(r){r&&this.Zn.reject(r),this.aborted||(Z("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},u.prototype.store=function(r){var s=this.transaction.objectStore(r);return new Du(s)},u}(),Du=function(){function u(r){this.store=r}return u.prototype.put=function(r,s){var f;return void 0!==s?(Z("SimpleDb","PUT",this.store.name,r,s),f=this.store.put(s,r)):(Z("SimpleDb","PUT",this.store.name,"<auto-key>",r),f=this.store.put(r)),fs(f)},u.prototype.add=function(r){return Z("SimpleDb","ADD",this.store.name,r,r),fs(this.store.add(r))},u.prototype.get=function(r){var s=this;return fs(this.store.get(r)).next(function(f){return void 0===f&&(f=null),Z("SimpleDb","GET",s.store.name,r,f),f})},u.prototype.delete=function(r){return Z("SimpleDb","DELETE",this.store.name,r),fs(this.store.delete(r))},u.prototype.count=function(){return Z("SimpleDb","COUNT",this.store.name),fs(this.store.count())},u.prototype.ts=function(r,s){var f=this.cursor(this.options(r,s)),p=[];return this.es(f,function(v,w){p.push(w)}).next(function(){return p})},u.prototype.ns=function(r,s){Z("SimpleDb","DELETE ALL",this.store.name);var f=this.options(r,s);f.ss=!1;var p=this.cursor(f);return this.es(p,function(v,w,D){return D.delete()})},u.prototype.rs=function(r,s){var f;s?f=r:(f={},s=r);var p=this.cursor(f);return this.es(p,s)},u.prototype.os=function(r){var s=this.cursor({});return new Fe(function(f,p){s.onerror=function(v){var w=I(v.target.error);p(w)},s.onsuccess=function(v){var w=v.target.result;w?r(w.primaryKey,w.value).next(function(D){D?w.continue():f()}):f()}})},u.prototype.es=function(r,s){var f=[];return new Fe(function(p,v){r.onerror=function(w){v(w.target.error)},r.onsuccess=function(w){var D=w.target.result;if(D){var T=new Eu(D),F=s(D.primaryKey,D.value,T);if(F instanceof Fe){var $=F.catch(function(K){return T.done(),Fe.reject(K)});f.push($)}T.Sn?p():null===T.Jn?D.continue():D.continue(T.Jn)}else p()}}).next(function(){return Fe.$n(f)})},u.prototype.options=function(r,s){var f=void 0;return void 0!==r&&("string"==typeof r?f=r:s=r),{index:f,range:s}},u.prototype.cursor=function(r){var s="next";if(r.reverse&&(s="prev"),r.index){var f=this.store.index(r.index);return r.ss?f.openKeyCursor(r.range,s):f.openCursor(r.range,s)}return this.store.openCursor(r.range,s)},u}();function fs(u){return new Fe(function(r,s){u.onsuccess=function(f){r(f.target.result)},u.onerror=function(f){var p=I(f.target.error);s(p)}})}var m=!1;function I(u){var r=$r.On(ne.getUA());if(r>=12.2&&r<13){var s="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(s)>=0){var f=new B("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+s+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return m||(m=!0,setTimeout(function(){throw f},0)),f}}return u}function S(){return"undefined"!=typeof window?window:null}function V(){return"undefined"!=typeof document?document:null}var X=function(){function u(r,s,f,p,v){this.cs=r,this.dn=s,this.us=f,this.op=p,this.hs=v,this.ls=new ur,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(w){})}return u._s=function(r,s,f,p,v){var w=new u(r,s,Date.now()+f,p,v);return w.start(f),w},u.prototype.start=function(r){var s=this;this.fs=setTimeout(function(){return s.ds()},r)},u.prototype.pn=function(){return this.ds()},u.prototype.cancel=function(r){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new B(R.CANCELLED,"Operation cancelled"+(r?": "+r:""))))},u.prototype.ds=function(){var r=this;this.cs.ws(function(){return null!==r.fs?(r.clearTimeout(),r.op().then(function(s){return r.ls.resolve(s)})):Promise.resolve()})},u.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},u}(),_e=function(){function u(){var r=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Pa(this,"async_queue_retry"),this.Vs=function(){var f=V();f&&Z("AsyncQueue","Visibility state changed to  ",f.visibilityState),r.ys.Vn()};var s=V();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(u.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),u.prototype.ws=function(r){this.enqueue(r)},u.prototype.bs=function(r){this.vs(),this.Ss(r)},u.prototype.Ds=function(){if(!this.Is){this.Is=!0;var r=V();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vs)}},u.prototype.enqueue=function(r){return this.vs(),this.Is?new Promise(function(s){}):this.Ss(r)},u.prototype.Cs=function(r){var s=this;this.ws(function(){return s.Es.push(r),s.Ns()})},u.prototype.Ns=function(){return P.__awaiter(this,void 0,void 0,function(){var r,s=this;return P.__generator(this,function(f){switch(f.label){case 0:if(0===this.Es.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return f.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!si(r=f.sent()))throw r;return Z("AsyncQueue","Operation failed with retryable error: "+r),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return s.Ns()}),f.label=5;case 5:return[2]}})})},u.prototype.Ss=function(r){var s=this,f=this.Ts.then(function(){return s.gs=!0,r().catch(function(p){throw s.Rs=p,s.gs=!1,we("INTERNAL UNHANDLED ERROR: ",(w=(v=p).message||"",v.stack&&(w=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),w)),p;var v,w}).then(function(p){return s.gs=!1,p})});return this.Ts=f,f},u.prototype.yn=function(r,s,f){var p=this;this.vs(),this.Ps.indexOf(r)>-1&&(s=0);var v=X._s(this,r,s,f,function(w){return p.Fs(w)});return this.As.push(v),v},u.prototype.vs=function(){this.Rs&&Re()},u.prototype.xs=function(){},u.prototype.$s=function(){return P.__awaiter(this,void 0,void 0,function(){var r;return P.__generator(this,function(s){switch(s.label){case 0:return[4,r=this.Ts];case 1:s.sent(),s.label=2;case 2:if(r!==this.Ts)return[3,0];s.label=3;case 3:return[2]}})})},u.prototype.ks=function(r){for(var s=0,f=this.As;s<f.length;s++)if(f[s].dn===r)return!0;return!1},u.prototype.Ms=function(r){var s=this;return this.$s().then(function(){s.As.sort(function(w,D){return w.us-D.us});for(var f=0,p=s.As;f<p.length;f++){var v=p[f];if(v.pn(),"all"!==r&&v.dn===r)break}return s.$s()})},u.prototype.Os=function(r){this.Ps.push(r)},u.prototype.Fs=function(r){var s=this.As.indexOf(r);this.As.splice(s,1)},u}();function Ge(u,r){if(we("AsyncQueue",r+": "+u),si(u))return new B(R.UNAVAILABLE,r+": "+u);throw u}var Mt=function(){this.Ls=void 0,this.listeners=[]},At=function(){this.Bs=new Xt(function(u){return Zi(u)},Wi),this.onlineState="Unknown",this.qs=new Set};function Bn(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f,p,v,w,D,T;return P.__generator(this,function(F){switch(F.label){case 0:if(s=pe(u),p=!1,(v=s.Bs.get(f=r.query))||(p=!0,v=new Mt),!p)return[3,4];F.label=1;case 1:return F.trys.push([1,3,,4]),w=v,[4,s.Us(f)];case 2:return w.Ls=F.sent(),[3,4];case 3:return D=F.sent(),T=Ge(D,"Initialization of query '"+ar(r.query)+"' failed"),[2,void r.onError(T)];case 4:return s.Bs.set(f,v),v.listeners.push(r),r.Qs(s.onlineState),v.Ls&&r.Ws(v.Ls)&&So(s),[2]}})})}function Xn(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f,p,v,w;return P.__generator(this,function(D){return s=pe(u),p=!1,(v=s.Bs.get(f=r.query))&&(w=v.listeners.indexOf(r))>=0&&(v.listeners.splice(w,1),p=0===v.listeners.length),p?[2,(s.Bs.delete(f),s.js(f))]:[2]})})}function cr(u,r){for(var s=pe(u),f=!1,p=0,v=r;p<v.length;p++){var w=v[p],T=s.Bs.get(w.query);if(T){for(var F=0,$=T.listeners;F<$.length;F++)$[F].Ws(w)&&(f=!0);T.Ls=w}}f&&So(s)}function Ks(u,r,s){var f=pe(u),p=f.Bs.get(r);if(p)for(var v=0,w=p.listeners;v<w.length;v++)w[v].onError(s);f.Bs.delete(r)}function So(u){u.qs.forEach(function(r){r.next()})}var Mo=function(){function u(r,s,f){this.query=r,this.Ks=s,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=f||{}}return u.prototype.Ws=function(r){if(!this.options.includeMetadataChanges){for(var s=[],f=0,p=r.docChanges;f<p.length;f++){var v=p[f];3!==v.type&&s.push(v)}r=new yi(r.query,r.docs,r.Qt,s,r.Wt,r.fromCache,r.jt,!0)}var w=!1;return this.Gs?this.Hs(r)&&(this.Ks.next(r),w=!0):this.Ys(r,this.onlineState)&&(this.Js(r),w=!0),this.zs=r,w},u.prototype.onError=function(r){this.Ks.error(r)},u.prototype.Qs=function(r){this.onlineState=r;var s=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,r)&&(this.Js(this.zs),s=!0),s},u.prototype.Ys=function(r,s){return!r.fromCache||!(this.options.Xs&&"Offline"!==s||r.docs.m()&&"Offline"!==s)},u.prototype.Hs=function(r){return r.docChanges.length>0||!!(r.jt||this.zs&&this.zs.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges},u.prototype.Js=function(r){r=yi.Gt(r.query,r.docs,r.Wt,r.fromCache),this.Gs=!0,this.Ks.next(r)},u}(),Ir=function(){function u(r){this.uid=r}return u.prototype.Zs=function(){return null!=this.uid},u.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},u.prototype.isEqual=function(r){return r.uid===this.uid},u}();Ir.UNAUTHENTICATED=new Ir(null),Ir.ei=new Ir("google-credentials-uid"),Ir.ni=new Ir("first-party-uid");var An=function(){function u(r,s){var f=this;this.previousValue=r,s&&(s.si=function(p){return f.ii(p)},this.ri=function(p){return s.oi(p)})}return u.prototype.ii=function(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue},u.prototype.next=function(){var r=++this.previousValue;return this.ri&&this.ri(r),r},u}();function Fa(u,r){return"firestore_clients_"+u+"_"+r}function Ad(u,r,s){var f="firestore_mutations_"+u+"_"+s;return r.Zs()&&(f+="_"+r.uid),f}function il(u,r){return"firestore_targets_"+u+"_"+r}An.ai=-1;var Iu=function(){function u(r,s,f,p){this.user=r,this.batchId=s,this.state=f,this.error=p}return u.ci=function(r,s,f){var p=JSON.parse(f),v="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error),w=void 0;return v&&p.error&&(v="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(w=new B(p.error.code,p.error.message)),v?new u(r,s,p.state,w):(we("SharedClientState","Failed to parse mutation state for ID '"+s+"': "+f),null)},u.prototype.ui=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},u}(),oc=function(){function u(r,s,f){this.targetId=r,this.state=s,this.error=f}return u.ci=function(r,s){var f=JSON.parse(s),p="object"==typeof f&&-1!==["not-current","current","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error),v=void 0;return p&&f.error&&(p="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(v=new B(f.error.code,f.error.message)),p?new u(r,f.state,v):(we("SharedClientState","Failed to parse target state for ID '"+r+"': "+s),null)},u.prototype.ui=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},u}(),of=function(){function u(r,s){this.clientId=r,this.activeTargetIds=s}return u.ci=function(r,s){for(var f=JSON.parse(s),p="object"==typeof f&&f.activeTargetIds instanceof Array,v=js(),w=0;p&&w<f.activeTargetIds.length;++w)p=re(f.activeTargetIds[w]),v=v.add(f.activeTargetIds[w]);return p?new u(r,v):(we("SharedClientState","Failed to parse client data for instance '"+r+"': "+s),null)},u}(),ds=function(){function u(r,s){this.clientId=r,this.onlineState=s}return u.ci=function(r){var s=JSON.parse(r);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new u(s.clientId,s.onlineState):(we("SharedClientState","Failed to parse online state: "+r),null)},u}(),sf=function(){function u(){this.activeTargetIds=js()}return u.prototype.hi=function(r){this.activeTargetIds=this.activeTargetIds.add(r)},u.prototype.li=function(r){this.activeTargetIds=this.activeTargetIds.delete(r)},u.prototype.ui=function(){var r={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(r)},u}(),af=function(){function u(r,s,f,p,v){this.window=r,this.fn=s,this.persistenceKey=f,this._i=p,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new rn(Je),this.Ei=!1,this.Ii=[];var w=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.Ai=Fa(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new sf),this.gi=new RegExp("^firestore_clients_"+w+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+w+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+w+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return u.Ln=function(r){return!(!r||!r.localStorage)},u.prototype.start=function(){return P.__awaiter(this,void 0,void 0,function(){var r,s,f,p,v,w,D,T,F,$,Y=this;return P.__generator(this,function(ae){switch(ae.label){case 0:return[4,this.fi.pi()];case 1:for(r=ae.sent(),s=0,f=r;s<f.length;s++)(p=f[s])!==this._i&&(v=this.getItem(Fa(this.persistenceKey,p)))&&(w=of.ci(p,v))&&(this.Ti=this.Ti.ot(w.clientId,w));for(this.bi(),(D=this.storage.getItem(this.Vi))&&(T=this.vi(D))&&this.Si(T),F=0,$=this.Ii;F<$.length;F++)this.mi($[F]);return this.Ii=[],this.window.addEventListener("unload",function(){return Y.Di()}),this.Ei=!0,[2]}})})},u.prototype.oi=function(r){this.setItem(this.Ri,JSON.stringify(r))},u.prototype.Ci=function(){return this.Ni(this.Ti)},u.prototype.Fi=function(r){var s=!1;return this.Ti.forEach(function(f,p){p.activeTargetIds.has(r)&&(s=!0)}),s},u.prototype.xi=function(r){this.$i(r,"pending")},u.prototype.ki=function(r,s,f){this.$i(r,s,f),this.Mi(r)},u.prototype.Oi=function(r){var s="not-current";if(this.Fi(r)){var f=this.storage.getItem(il(this.persistenceKey,r));if(f){var p=oc.ci(r,f);p&&(s=p.state)}}return this.Li.hi(r),this.bi(),s},u.prototype.Bi=function(r){this.Li.li(r),this.bi()},u.prototype.qi=function(r){return this.Li.activeTargetIds.has(r)},u.prototype.Ui=function(r){this.removeItem(il(this.persistenceKey,r))},u.prototype.Qi=function(r,s,f){this.Wi(r,s,f)},u.prototype.ji=function(r,s,f){var p=this;s.forEach(function(v){p.Mi(v)}),this.currentUser=r,f.forEach(function(v){p.xi(v)})},u.prototype.Ki=function(r){this.Gi(r)},u.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},u.prototype.getItem=function(r){var s=this.storage.getItem(r);return Z("SharedClientState","READ",r,s),s},u.prototype.setItem=function(r,s){Z("SharedClientState","SET",r,s),this.storage.setItem(r,s)},u.prototype.removeItem=function(r){Z("SharedClientState","REMOVE",r),this.storage.removeItem(r)},u.prototype.mi=function(r){var s=this,f=r;if(f.storageArea===this.storage){if(Z("SharedClientState","EVENT",f.key,f.newValue),f.key===this.Ai)return void we("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return P.__awaiter(s,void 0,void 0,function(){var p,v,w,D,T,F;return P.__generator(this,function($){if(this.Ei){if(null!==f.key)if(this.gi.test(f.key)){if(null==f.newValue)return p=this.zi(f.key),[2,this.Hi(p,null)];if(v=this.Yi(f.key,f.newValue))return[2,this.Hi(v.clientId,v)]}else if(this.Pi.test(f.key)){if(null!==f.newValue&&(w=this.Ji(f.key,f.newValue)))return[2,this.Xi(w)]}else if(this.yi.test(f.key)){if(null!==f.newValue&&(D=this.Zi(f.key,f.newValue)))return[2,this.tr(D)]}else if(f.key===this.Vi){if(null!==f.newValue&&(T=this.vi(f.newValue)))return[2,this.Si(T)]}else f.key===this.Ri&&(F=function(K){var Y=An.ai;if(null!=K)try{var ae=JSON.parse(K);Ie("number"==typeof ae),Y=ae}catch(be){we("SharedClientState","Failed to read sequence number from WebStorage",be)}return Y}(f.newValue))!==An.ai&&this.si(F)}else this.Ii.push(f);return[2]})})})}},Object.defineProperty(u.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),u.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},u.prototype.$i=function(r,s,f){var p=new Iu(this.currentUser,r,s,f),v=Ad(this.persistenceKey,this.currentUser,r);this.setItem(v,p.ui())},u.prototype.Mi=function(r){var s=Ad(this.persistenceKey,this.currentUser,r);this.removeItem(s)},u.prototype.Gi=function(r){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:r}))},u.prototype.Wi=function(r,s,f){var p=il(this.persistenceKey,r),v=new oc(r,s,f);this.setItem(p,v.ui())},u.prototype.zi=function(r){var s=this.gi.exec(r);return s?s[1]:null},u.prototype.Yi=function(r,s){var f=this.zi(r);return of.ci(f,s)},u.prototype.Ji=function(r,s){var f=this.Pi.exec(r),p=Number(f[1]);return Iu.ci(new Ir(void 0!==f[2]?f[2]:null),p,s)},u.prototype.Zi=function(r,s){var f=this.yi.exec(r),p=Number(f[1]);return oc.ci(p,s)},u.prototype.vi=function(r){return ds.ci(r)},u.prototype.Xi=function(r){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(s){return r.user.uid===this.currentUser.uid?[2,this.fi.er(r.batchId,r.state,r.error)]:(Z("SharedClientState","Ignoring mutation for non-active user "+r.user.uid),[2])})})},u.prototype.tr=function(r){return this.fi.nr(r.targetId,r.state,r.error)},u.prototype.Hi=function(r,s){var f=this,p=s?this.Ti.ot(r,s):this.Ti.remove(r),v=this.Ni(this.Ti),w=this.Ni(p),D=[],T=[];return w.forEach(function(F){v.has(F)||D.push(F)}),v.forEach(function(F){w.has(F)||T.push(F)}),this.fi.sr(D,T).then(function(){f.Ti=p})},u.prototype.Si=function(r){this.Ti.get(r.clientId)&&this.di(r.onlineState)},u.prototype.Ni=function(r){var s=js();return r.forEach(function(f,p){s=s.kt(p.activeTargetIds)}),s},u}(),hs=function(){function u(){this.ir=new sf,this.rr={},this.di=null,this.si=null}return u.prototype.xi=function(r){},u.prototype.ki=function(r,s,f){},u.prototype.Oi=function(r){return this.ir.hi(r),this.rr[r]||"not-current"},u.prototype.Qi=function(r,s,f){this.rr[r]=s},u.prototype.Bi=function(r){this.ir.li(r)},u.prototype.qi=function(r){return this.ir.activeTargetIds.has(r)},u.prototype.Ui=function(r){delete this.rr[r]},u.prototype.Ci=function(){return this.ir.activeTargetIds},u.prototype.Fi=function(r){return this.ir.activeTargetIds.has(r)},u.prototype.start=function(){return this.ir=new sf,Promise.resolve()},u.prototype.ji=function(r,s,f){},u.prototype.Ki=function(r){},u.prototype.Di=function(){},u.prototype.oi=function(r){},u}(),Au=function(){function u(r,s,f,p){this.batchId=r,this.ar=s,this.baseMutations=f,this.mutations=p}return u.prototype.cr=function(r,s,f){for(var p=f.ur,v=0;v<this.mutations.length;v++){var w=this.mutations[v];w.key.isEqual(r)&&(s=_u(w,s,p[v]))}return s},u.prototype.hr=function(r,s){for(var f=0,p=this.baseMutations;f<p.length;f++){var v=p[f];v.key.isEqual(r)&&(s=os(v,s,s,this.ar))}for(var w=s,D=0,T=this.mutations;D<T.length;D++){var F=T[D];F.key.isEqual(r)&&(s=os(F,s,w,this.ar))}return s},u.prototype.lr=function(r){var s=this,f=r;return this.mutations.forEach(function(p){var v=s.hr(p.key,r.get(p.key));v&&(f=f.ot(p.key,v))}),f},u.prototype.keys=function(){return this.mutations.reduce(function(r,s){return r.add(s.key)},Yt())},u.prototype.isEqual=function(r){return this.batchId===r.batchId&&Ot(this.mutations,r.mutations,function(s,f){return bu(s,f)})&&Ot(this.baseMutations,r.baseMutations,function(s,f){return bu(s,f)})},u}(),uf=function(){function u(r,s,f,p){this.batch=r,this._r=s,this.ur=f,this.dr=p}return u.from=function(r,s,f){Ie(r.mutations.length===f.length);for(var p=Ta,v=r.mutations,w=0;w<v.length;w++)p=p.ot(v[w].key,f[w].version);return new u(r,s,f,p)},u}(),sc=function(){function u(){this.wr=new Xt(function(r){return r.toString()},function(r,s){return r.isEqual(s)}),this.mr=!1}return Object.defineProperty(u.prototype,"readTime",{get:function(){return this.Tr},set:function(r){this.Tr=r},enumerable:!1,configurable:!0}),u.prototype.Er=function(r,s){this.Ir(),this.readTime=s,this.wr.set(r.key,r)},u.prototype.Ar=function(r,s){this.Ir(),s&&(this.readTime=s),this.wr.set(r,null)},u.prototype.Rr=function(r,s){this.Ir();var f=this.wr.get(s);return void 0!==f?Fe.resolve(f):this.gr(r,s)},u.prototype.getEntries=function(r,s){return this.Pr(r,s)},u.prototype.apply=function(r){return this.Ir(),this.mr=!0,this.yr(r)},u.prototype.Ir=function(){},u}(),cf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ol=function(){function u(){this.Vr=[]}return u.prototype.pr=function(r){this.Vr.push(r)},u.prototype.br=function(){this.Vr.forEach(function(r){return r()})},u}(),ka=function(){function u(r,s,f){this.vr=r,this.Sr=s,this.Dr=f}return u.prototype.Cr=function(r,s){var f=this;return this.Sr.Nr(r,s).next(function(p){return f.Fr(r,s,p)})},u.prototype.Fr=function(r,s,f){return this.vr.Rr(r,s).next(function(p){for(var v=0,w=f;v<w.length;v++)p=w[v].hr(s,p);return p})},u.prototype.$r=function(r,s,f){var p=cn();return s.forEach(function(v,w){for(var D=0,T=f;D<T.length;D++)w=T[D].hr(v,w);p=p.ot(v,w)}),p},u.prototype.kr=function(r,s){var f=this;return this.vr.getEntries(r,s).next(function(p){return f.Mr(r,p)})},u.prototype.Mr=function(r,s){var f=this;return this.Sr.Or(r,s).next(function(p){var v=f.$r(r,s,p),w=jr();return v.forEach(function(D,T){T||(T=new on(D,dt.min())),w=w.ot(D,T)}),w})},u.prototype.Lr=function(r,s,f){return k.F((p=s).path)&&null===p.collectionGroup&&0===p.filters.length?this.Br(r,s.path):Co(s)?this.qr(r,s,f):this.Ur(r,s,f);var p},u.prototype.Br=function(r,s){return this.Cr(r,new k(s)).next(function(f){var p=lo();return f instanceof Ft&&(p=p.ot(f.key,f)),p})},u.prototype.qr=function(r,s,f){var p=this,v=s.collectionGroup,w=lo();return this.Dr.Qr(r,v).next(function(D){return Fe.forEach(D,function(T){var $,K,F=($=s,K=T.child(v),new Br(K,null,$.on.slice(),$.filters.slice(),$.limit,$.an,$.startAt,$.endAt));return p.Ur(r,F,f).next(function($){$.forEach(function(K,Y){w=w.ot(K,Y)})})}).next(function(){return w})})},u.prototype.Ur=function(r,s,f){var p,v,w=this;return this.vr.Lr(r,s,f).next(function(D){return p=D,w.Sr.Wr(r,s)}).next(function(D){return w.jr(r,v=D,p).next(function(T){p=T;for(var F=0,$=v;F<$.length;F++)for(var K=$[F],Y=0,ae=K.mutations;Y<ae.length;Y++){var be=ae[Y],Se=be.key,Ke=p.get(Se),Be=os(be,Ke,Ke,K.ar);p=Be instanceof Ft?p.ot(Se,Be):p.remove(Se)}})}).next(function(){return p.forEach(function(D,T){Do(s,T)||(p=p.remove(D))}),p})},u.prototype.jr=function(r,s,f){for(var p=Yt(),v=0,w=s;v<w.length;v++)for(var D=0,T=w[v].mutations;D<T.length;D++){var F=T[D];F instanceof Ut&&null===f.get(F.key)&&(p=p.add(F.key))}var $=f;return this.vr.getEntries(r,p).next(function(K){return K.forEach(function(Y,ae){null!==ae&&ae instanceof Ft&&($=$.ot(Y,ae))}),$})},u}(),Td=function(){function u(r,s,f,p){this.targetId=r,this.fromCache=s,this.Kr=f,this.Gr=p}return u.zr=function(r,s){for(var f=Yt(),p=Yt(),v=0,w=s.docChanges;v<w.length;v++){var D=w[v];switch(D.type){case 0:f=f.add(D.doc.key);break;case 1:p=p.add(D.doc.key)}}return new u(r,s.fromCache,f,p)},u}();function La(u,r){var f=u[1],v=r[1],w=Je(u[0],r[0]);return 0===w?Je(f,v):w}var lf=function(){function u(r){this.Hr=r,this.buffer=new bn(La),this.Yr=0}return u.prototype.Jr=function(){return++this.Yr},u.prototype.Xr=function(r){var s=[r,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(s);else{var f=this.buffer.last();La(s,f)<0&&(this.buffer=this.buffer.delete(f).add(s))}},Object.defineProperty(u.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),u}(),ac={Zr:!1,eo:0,no:0,so:0},Yn=function(){function u(r,s,f){this.io=r,this.ro=s,this.oo=f}return u.ao=function(r){return new u(r,u.co,u.uo)},u}();Yn.ho=-1,Yn.lo=1048576,Yn._o=41943040,Yn.co=10,Yn.uo=1e3,Yn.fo=new Yn(Yn._o,Yn.co,Yn.uo),Yn.do=new Yn(Yn.ho,0,0);var Sd=function(){function u(r,s){this.wo=r,this.cs=s,this.mo=!1,this.To=null}return u.prototype.start=function(r){this.wo.params.io!==Yn.ho&&this.Eo(r)},u.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(u.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),u.prototype.Eo=function(r){var s=this,f=this.mo?3e5:6e4;Z("LruGarbageCollector","Garbage collection scheduled in "+f+"ms"),this.To=this.cs.yn("lru_garbage_collection",f,function(){return P.__awaiter(s,void 0,void 0,function(){var p;return P.__generator(this,function(v){switch(v.label){case 0:this.To=null,this.mo=!0,v.label=1;case 1:return v.trys.push([1,3,,7]),[4,r.Io(this.wo)];case 2:return v.sent(),[3,7];case 3:return si(p=v.sent())?(Z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p),[3,6]):[3,4];case 4:return[4,ia(p)];case 5:v.sent(),v.label=6;case 6:return[3,7];case 7:return[4,this.Eo(r)];case 8:return v.sent(),[2]}})})})},u}(),st=function(){function u(r,s){this.Ao=r,this.params=s}return u.prototype.Ro=function(r,s){return this.Ao.Po(r).next(function(f){return Math.floor(s/100*f)})},u.prototype.yo=function(r,s){var f=this;if(0===s)return Fe.resolve(An.ai);var p=new lf(s);return this.Ao.Ce(r,function(v){return p.Xr(v.sequenceNumber)}).next(function(){return f.Ao.Vo(r,function(v){return p.Xr(v)})}).next(function(){return p.maxValue})},u.prototype.po=function(r,s,f){return this.Ao.po(r,s,f)},u.prototype.bo=function(r,s){return this.Ao.bo(r,s)},u.prototype.vo=function(r,s){var f=this;return this.params.io===Yn.ho?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(ac)):this.So(r).next(function(p){return p<f.params.io?(Z("LruGarbageCollector","Garbage collection skipped; Cache size "+p+" is lower than threshold "+f.params.io),ac):f.Do(r,s)})},u.prototype.So=function(r){return this.Ao.So(r)},u.prototype.Do=function(r,s){var f,p,v,w,D,T,F,$=this,K=Date.now();return this.Ro(r,this.params.ro).next(function(Y){return Y>$.params.oo?(Z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+$.params.oo+" from "+Y),p=$.params.oo):p=Y,w=Date.now(),$.yo(r,p)}).next(function(Y){return f=Y,D=Date.now(),$.po(r,f,s)}).next(function(Y){return v=Y,T=Date.now(),$.bo(r,f)}).next(function(Y){return F=Date.now(),J()<=ve.LogLevel.DEBUG&&Z("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(w-K)+"ms\n\tDetermined least recently used "+p+" in "+(D-w)+"ms\n\tRemoved "+v+" targets in "+(T-D)+"ms\n\tRemoved "+Y+" documents in "+(F-T)+"ms\nTotal Duration: "+(F-K)+"ms"),Fe.resolve({Zr:!0,eo:p,no:v,so:Y})})},u}();function kn(u){for(var r="",s=0;s<u.length;s++)r.length>0&&(r=Ti(r)),r=Ar(u.get(s),r);return Ti(r)}function Ar(u,r){for(var s=r,f=u.length,p=0;p<f;p++){var v=u.charAt(p);switch(v){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=v}}return s}function Ti(u){return u+"\x01\x01"}function Ln(u){var r=u.length;if(Ie(r>=2),2===r)return Ie("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),x.P();for(var s=r-2,f=[],p="",v=0;v<r;){var w=u.indexOf("\x01",v);switch((w<0||w>s)&&Re(),u.charAt(w+1)){case"\x01":var D=u.substring(v,w),T=void 0;0===p.length?T=D:(T=p+=D,p=""),f.push(T);break;case"\x10":p+=u.substring(v,w),p+="\0";break;case"\x11":p+=u.substring(v,w+1);break;default:Re()}v=w+2}return new x(f)}var ai=function(u){this.Co=u};function Va(u,r){if(r.document)return T=!!r.hasCommittedMutations,F=Dn(u.Co,(D=r.document).name),$=Pt(D.updateTime),K=new sr({mapValue:{fields:D.fields}}),new Ft(F,$,K,{hasCommittedMutations:!!T});var D,T,F,$,K;if(r.noDocument){var s=k.$(r.noDocument.path),f=qr(r.noDocument.readTime);return new on(s,f,{hasCommittedMutations:!!r.hasCommittedMutations})}if(r.unknownDocument){var p=k.$(r.unknownDocument.path),v=qr(r.unknownDocument.version);return new Ws(p,v)}return Re()}function Tu(u,r,s){var Y,ae,f=mt(s),p=r.key.path.h().A();if(r instanceof Ft){var v={name:ni(Y=u.Co,(ae=r).key),fields:ae.rn().mapValue.fields,updateTime:Nn(Y,ae.version.Z())};return new xn(null,null,v,r.hasCommittedMutations,f,p)}if(r instanceof on){var D=r.key.path.A(),T=ja(r.version),F=r.hasCommittedMutations;return new xn(null,new Tn(D,T),null,F,f,p)}if(r instanceof Ws){var $=r.key.path.A(),K=ja(r.version);return new xn(new Md($,K),null,null,!0,f,p)}return Re()}function mt(u){var r=u.Z();return[r.seconds,r.nanoseconds]}function uc(u){var r=new nn(u[0],u[1]);return dt.J(r)}function ja(u){var r=u.Z();return new al(r.seconds,r.nanoseconds)}function qr(u){var r=new nn(u.seconds,u.nanoseconds);return dt.J(r)}function Qs(u,r){var s=(r.baseMutations||[]).map(function(v){return pu(u.Co,v)}),f=r.mutations.map(function(v){return pu(u.Co,v)}),p=nn.fromMillis(r.localWriteTimeMs);return new Au(r.batchId,p,s,f)}function Su(u){var r,s,f=qr(u.readTime),p=void 0!==u.lastLimboFreeSnapshotVersion?qr(u.lastLimboFreeSnapshotVersion):dt.min();return void 0!==u.query.documents?(Ie(1===(s=u.query).documents.length),r=xe(Zs(Hs(s.documents[0])))):r=ns(u.query),new Rn(r,u.targetId,0,u.lastListenSequenceNumber,f,p,Vt.fromBase64String(u.resumeToken))}function ff(u,r){var s,f=ja(r.nt),p=ja(r.lastLimboFreeSnapshotVersion);s=bt(r.target)?nl(u.Co,r.target):gu(u.Co,r.target);var v=r.resumeToken.toBase64();return new ui(r.targetId,Ze(r.target),f,v,r.sequenceNumber,p,s)}var cc=function(){function u(r,s,f,p){this.userId=r,this.serializer=s,this.Dr=f,this.No=p,this.Fo={}}return u.xo=function(r,s,f,p){return Ie(""!==r.uid),new u(r.Zs()?r.uid:"",s,f,p)},u.prototype.$o=function(r){var s=!0,f=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mr(r).rs({index:yn.userMutationsIndex,range:f},function(p,v,w){s=!1,w.done()}).next(function(){return s})},u.prototype.ko=function(r,s,f,p){var v=this,w=Ua(r),D=mr(r);return D.add({}).next(function(T){Ie("number"==typeof T);for(var F=new Au(T,s,f,p),$=function(Be,it,pt){var Et=pt.baseMutations.map(function(pn){return $i(Be.Co,pn)}),kt=pt.mutations.map(function(pn){return $i(Be.Co,pn)});return new yn(it,pt.batchId,pt.ar.toMillis(),Et,kt)}(v.serializer,v.userId,F),K=[],Y=new bn(function(Be,it){return Je(Be.R(),it.R())}),ae=0,be=p;ae<be.length;ae++){var Se=be[ae],Ke=lr.key(v.userId,Se.key.path,T);Y=Y.add(Se.key.path.h()),K.push(D.put($)),K.push(w.put(Ke,lr.PLACEHOLDER))}return Y.forEach(function(Be){K.push(v.Dr.Mo(r,Be))}),r.pr(function(){v.Fo[T]=F.keys()}),Fe.$n(K).next(function(){return F})})},u.prototype.Oo=function(r,s){var f=this;return mr(r).get(s).next(function(p){return p?(Ie(p.userId===f.userId),Qs(f.serializer,p)):null})},u.prototype.Lo=function(r,s){var f=this;return this.Fo[s]?Fe.resolve(this.Fo[s]):this.Oo(r,s).next(function(p){if(p){var v=p.keys();return f.Fo[s]=v,v}return null})},u.prototype.Bo=function(r,s){var f=this,p=s+1,v=IDBKeyRange.lowerBound([this.userId,p]),w=null;return mr(r).rs({index:yn.userMutationsIndex,range:v},function(D,T,F){T.userId===f.userId&&(Ie(T.batchId>=p),w=Qs(f.serializer,T)),F.done()}).next(function(){return w})},u.prototype.qo=function(r){var s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),f=-1;return mr(r).rs({index:yn.userMutationsIndex,range:s,reverse:!0},function(p,v,w){f=v.batchId,w.done()}).next(function(){return f})},u.prototype.Uo=function(r){var s=this,f=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mr(r).ts(yn.userMutationsIndex,f).next(function(p){return p.map(function(v){return Qs(s.serializer,v)})})},u.prototype.Nr=function(r,s){var f=this,p=lr.prefixForPath(this.userId,s.path),v=IDBKeyRange.lowerBound(p),w=[];return Ua(r).rs({range:v},function(D,T,F){var $=D[0],Y=D[2],ae=Ln(D[1]);if($===f.userId&&s.path.isEqual(ae))return mr(r).get(Y).next(function(be){if(!be)throw Re();Ie(be.userId===f.userId),w.push(Qs(f.serializer,be))});F.done()}).next(function(){return w})},u.prototype.Or=function(r,s){var f=this,p=new bn(Je),v=[];return s.forEach(function(w){var D=lr.prefixForPath(f.userId,w.path),T=IDBKeyRange.lowerBound(D),F=Ua(r).rs({range:T},function($,K,Y){var ae=$[0],Se=$[2],Ke=Ln($[1]);ae===f.userId&&w.path.isEqual(Ke)?p=p.add(Se):Y.done()});v.push(F)}),Fe.$n(v).next(function(){return f.Qo(r,p)})},u.prototype.Wr=function(r,s){var f=this,p=s.path,v=p.length+1,w=lr.prefixForPath(this.userId,p),D=IDBKeyRange.lowerBound(w),T=new bn(Je);return Ua(r).rs({range:D},function(F,$,K){var Y=F[0],be=F[2],Se=Ln(F[1]);Y===f.userId&&p.T(Se)?Se.length===v&&(T=T.add(be)):K.done()}).next(function(){return f.Qo(r,T)})},u.prototype.Qo=function(r,s){var f=this,p=[],v=[];return s.forEach(function(w){v.push(mr(r).get(w).next(function(D){if(null===D)throw Re();Ie(D.userId===f.userId),p.push(Qs(f.serializer,D))}))}),Fe.$n(v).next(function(){return p})},u.prototype.Wo=function(r,s){var f=this;return sl(r.jo,this.userId,s).next(function(p){return r.pr(function(){f.Ko(s.batchId)}),Fe.forEach(p,function(v){return f.No.Go(r,v)})})},u.prototype.Ko=function(r){delete this.Fo[r]},u.prototype.zo=function(r){var s=this;return this.$o(r).next(function(f){if(!f)return Fe.resolve();var p=IDBKeyRange.lowerBound(lr.prefixForUser(s.userId)),v=[];return Ua(r).rs({range:p},function(w,D,T){if(w[0]===s.userId){var F=Ln(w[1]);v.push(F)}else T.done()}).next(function(){Ie(0===v.length)})})},u.prototype.Ho=function(r,s){return Js(r,this.userId,s)},u.prototype.Yo=function(r){var s=this;return Xs(r).get(this.userId).next(function(f){return f||new Qi(s.userId,-1,"")})},u}();function Js(u,r,s){var f=lr.prefixForPath(r,s.path),p=f[1],v=IDBKeyRange.lowerBound(f),w=!1;return Ua(u).rs({range:v,ss:!0},function(D,T,F){D[0]===r&&D[1]===p&&(w=!0),F.done()}).next(function(){return w})}function sl(u,r,s){var f=u.store(yn.store),p=u.store(lr.store),v=[],w=IDBKeyRange.only(s.batchId),D=0,T=f.rs({range:w},function(be,Se,Ke){return D++,Ke.delete()});v.push(T.next(function(){Ie(1===D)}));for(var F=[],$=0,K=s.mutations;$<K.length;$++){var Y=K[$],ae=lr.key(r,Y.key.path,s.batchId);v.push(p.delete(ae)),F.push(Y.key)}return Fe.$n(v).next(function(){return F})}function mr(u){return Vn.Qn(u,yn.store)}function Ua(u){return Vn.Qn(u,lr.store)}function Xs(u){return Vn.Qn(u,Qi.store)}var df=function(){function u(r,s){this.serializer=r,this.Dr=s}return u.prototype.Er=function(r,s,f){return Fr(r).put(No(s),f)},u.prototype.Ar=function(r,s){var f=Fr(r),p=No(s);return f.delete(p)},u.prototype.updateMetadata=function(r,s){var f=this;return this.getMetadata(r).next(function(p){return p.byteSize+=s,f.Jo(r,p)})},u.prototype.Rr=function(r,s){var f=this;return Fr(r).get(No(s)).next(function(p){return f.Xo(p)})},u.prototype.Zo=function(r,s){var f=this;return Fr(r).get(No(s)).next(function(p){var v=f.Xo(p);return v?{ta:v,size:zr(p)}:null})},u.prototype.getEntries=function(r,s){var f=this,p=cn();return this.ea(r,s,function(v,w){var D=f.Xo(w);p=p.ot(v,D)}).next(function(){return p})},u.prototype.na=function(r,s){var f=this,p=cn(),v=new rn(k.i);return this.ea(r,s,function(w,D){var T=f.Xo(D);T?(p=p.ot(w,T),v=v.ot(w,zr(D))):(p=p.ot(w,null),v=v.ot(w,0))}).next(function(){return{sa:p,ia:v}})},u.prototype.ea=function(r,s,f){if(s.m())return Fe.resolve();var p=IDBKeyRange.bound(s.first().path.A(),s.last().path.A()),v=s._t(),w=v.It();return Fr(r).rs({range:p},function(D,T,F){for(var $=k.$(D);w&&k.i(w,$)<0;)f(w,null),w=v.It();w&&w.isEqual($)&&(f(w,T),w=v.At()?v.It():null),w?F.Xn(w.path.A()):F.done()}).next(function(){for(;w;)f(w,null),w=v.At()?v.It():null})},u.prototype.Lr=function(r,s,f){var p=this,v=lo(),w=s.path.length+1,D={};if(f.isEqual(dt.min())){var T=s.path.A();D.range=IDBKeyRange.lowerBound(T)}else{var F=s.path.A(),$=mt(f);D.range=IDBKeyRange.lowerBound([F,$],!0),D.index=xn.collectionReadTimeIndex}return Fr(r).rs(D,function(K,Y,ae){if(K.length===w){var be=Va(p.serializer,Y);s.path.T(be.key.path)?be instanceof Ft&&Do(s,be)&&(v=v.ot(be.key,be)):ae.done()}}).next(function(){return v})},u.prototype.ra=function(r){return new lc(this,!!r&&r.oa)},u.prototype.aa=function(r){return this.getMetadata(r).next(function(s){return s.byteSize})},u.prototype.getMetadata=function(r){return Mu(r).get(ps.key).next(function(s){return Ie(!!s),s})},u.prototype.Jo=function(r,s){return Mu(r).put(ps.key,s)},u.prototype.Xo=function(r){if(r){var s=Va(this.serializer,r);return s instanceof on&&s.version.isEqual(dt.min())?null:s}return null},u}(),lc=function(u){function r(s,f){var p=this;return(p=u.call(this)||this).ca=s,p.oa=f,p.ua=new Xt(function(v){return v.toString()},function(v,w){return v.isEqual(w)}),p}return P.__extends(r,u),r.prototype.yr=function(s){var f=this,p=[],v=0,w=new bn(function(D,T){return Je(D.R(),T.R())});return this.wr.forEach(function(D,T){var F=f.ua.get(D);if(T){var $=Tu(f.ca.serializer,T,f.readTime);w=w.add(D.path.h());var K=zr($);v+=K-F,p.push(f.ca.Er(s,D,$))}else if(v-=F,f.oa){var Y=Tu(f.ca.serializer,new on(D,dt.min()),f.readTime);p.push(f.ca.Er(s,D,Y))}else p.push(f.ca.Ar(s,D))}),w.forEach(function(D){p.push(f.ca.Dr.Mo(s,D))}),p.push(this.ca.updateMetadata(s,v)),Fe.$n(p)},r.prototype.gr=function(s,f){var p=this;return this.ca.Zo(s,f).next(function(v){return null===v?(p.ua.set(f,0),null):(p.ua.set(f,v.size),v.ta)})},r.prototype.Pr=function(s,f){var p=this;return this.ca.na(s,f).next(function(v){var w=v.sa;return v.ia.forEach(function(D,T){p.ua.set(D,T)}),w})},r}(sc);function Mu(u){return Vn.Qn(u,ps.store)}function Fr(u){return Vn.Qn(u,xn.store)}function No(u){return u.path.A()}function zr(u){var r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw Re();r=u.noDocument}return JSON.stringify(r).length}var En=function(){function u(){this.ha=new ea}return u.prototype.Mo=function(r,s){return this.ha.add(s),Fe.resolve()},u.prototype.Qr=function(r,s){return Fe.resolve(this.ha.getEntries(s))},u}(),ea=function(){function u(){this.index={}}return u.prototype.add=function(r){var s=r._(),f=r.h(),p=this.index[s]||new bn(x.i),v=!p.has(f);return this.index[s]=p.add(f),v},u.prototype.has=function(r){var s=r._(),f=r.h(),p=this.index[s];return p&&p.has(f)},u.prototype.getEntries=function(r){return(this.index[r]||new bn(x.i)).A()},u}(),xo=function(){function u(r){this.serializer=r}return u.prototype.createOrUpgrade=function(r,s,f,p){var v=this;Ie(f<p&&f>=0&&p<=10);var T,w=new Cu("createOrUpgrade",s);f<1&&p>=1&&(r.createObjectStore(Wr.store),(T=r).createObjectStore(Qi.store,{keyPath:Qi.keyPath}),T.createObjectStore(yn.store,{keyPath:yn.keyPath,autoIncrement:!0}).createIndex(yn.userMutationsIndex,yn.userMutationsKeyPath,{unique:!0}),T.createObjectStore(lr.store),mp(r),function(T){T.createObjectStore(xn.store)}(r));var D=Fe.resolve();return f<3&&p>=3&&(0!==f&&(function(T){T.deleteObjectStore(Tr.store),T.deleteObjectStore(ui.store),T.deleteObjectStore(Si.store)}(r),mp(r)),D=D.next(function(){return function(T){var F=T.store(Si.store),$=new Si(0,0,dt.min().Z(),0);return F.put(Si.key,$)}(w)})),f<4&&p>=4&&(0!==f&&(D=D.next(function(){return function(T,F){return F.store(yn.store).ts().next(function($){T.deleteObjectStore(yn.store),T.createObjectStore(yn.store,{keyPath:yn.keyPath,autoIncrement:!0}).createIndex(yn.userMutationsIndex,yn.userMutationsKeyPath,{unique:!0});var K=F.store(yn.store),Y=$.map(function(ae){return K.put(ae)});return Fe.$n(Y)})}(r,w)})),D=D.next(function(){!function(T){T.createObjectStore(gs.store,{keyPath:gs.keyPath})}(r)})),f<5&&p>=5&&(D=D.next(function(){return v.removeAcknowledgedMutations(w)})),f<6&&p>=6&&(D=D.next(function(){return function(T){T.createObjectStore(ps.store)}(r),v.addDocumentGlobal(w)})),f<7&&p>=7&&(D=D.next(function(){return v.ensureSequenceNumbers(w)})),f<8&&p>=8&&(D=D.next(function(){return v.createCollectionParentIndex(r,w)})),f<9&&p>=9&&(D=D.next(function(){(function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")})(r),function(T){var F=T.objectStore(xn.store);F.createIndex(xn.readTimeIndex,xn.readTimeIndexPath,{unique:!1}),F.createIndex(xn.collectionReadTimeIndex,xn.collectionReadTimeIndexPath,{unique:!1})}(s)})),f<10&&p>=10&&(D=D.next(function(){return v.rewriteCanonicalIds(w)})),D},u.prototype.addDocumentGlobal=function(r){var s=0;return r.store(xn.store).rs(function(f,p){s+=zr(p)}).next(function(){var f=new ps(s);return r.store(ps.store).put(ps.key,f)})},u.prototype.removeAcknowledgedMutations=function(r){var s=this,f=r.store(Qi.store),p=r.store(yn.store);return f.ts().next(function(v){return Fe.forEach(v,function(w){var D=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return p.ts(yn.userMutationsIndex,D).next(function(T){return Fe.forEach(T,function(F){Ie(F.userId===w.userId);var $=Qs(s.serializer,F);return sl(r,w.userId,$).next(function(){})})})})})},u.prototype.ensureSequenceNumbers=function(r){var s=r.store(Tr.store),f=r.store(xn.store);return r.store(Si.store).get(Si.key).next(function(p){var v=[];return f.rs(function(w,D){var T=new x(w),F=[0,kn(T)];v.push(s.get(F).next(function($){return $?Fe.resolve():s.put(new Tr(0,kn(T),p.highestListenSequenceNumber))}))}).next(function(){return Fe.$n(v)})})},u.prototype.createCollectionParentIndex=function(r,s){r.createObjectStore(Nu.store,{keyPath:Nu.keyPath});var f=s.store(Nu.store),p=new ea,v=function(w){if(p.add(w)){var D=w._(),T=w.h();return f.put({collectionId:D,parent:kn(T)})}};return s.store(xn.store).rs({ss:!0},function(w,D){var T=new x(w);return v(T.h())}).next(function(){return s.store(lr.store).rs({ss:!0},function(w,D){var F=Ln(w[1]);return v(F.h())})})},u.prototype.rewriteCanonicalIds=function(r){var s=this,f=r.store(ui.store);return f.rs(function(p,v){var w=Su(v),D=ff(s.serializer,w);return f.put(D)})},u}(),al=function(u,r){this.seconds=u,this.nanoseconds=r},Wr=function(u,r,s){this.ownerId=u,this.allowTabSynchronization=r,this.leaseTimestampMs=s};Wr.store="owner",Wr.key="owner";var Qi=function(u,r,s){this.userId=u,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s};Qi.store="mutationQueues",Qi.keyPath="userId";var yn=function(u,r,s,f,p){this.userId=u,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=f,this.mutations=p};yn.store="mutations",yn.keyPath="batchId",yn.userMutationsIndex="userMutationsIndex",yn.userMutationsKeyPath=["userId","batchId"];var lr=function(){function u(){}return u.prefixForUser=function(r){return[r]},u.prefixForPath=function(r,s){return[r,kn(s)]},u.key=function(r,s,f){return[r,kn(s),f]},u}();lr.store="documentMutations",lr.PLACEHOLDER=new lr;var Tn=function(u,r){this.path=u,this.readTime=r},Md=function(u,r){this.path=u,this.version=r},xn=function(u,r,s,f,p,v){this.unknownDocument=u,this.noDocument=r,this.document=s,this.hasCommittedMutations=f,this.readTime=p,this.parentPath=v};xn.store="remoteDocuments",xn.readTimeIndex="readTimeIndex",xn.readTimeIndexPath="readTime",xn.collectionReadTimeIndex="collectionReadTimeIndex",xn.collectionReadTimeIndexPath=["parentPath","readTime"];var ps=function(u){this.byteSize=u};ps.store="remoteDocumentGlobal",ps.key="remoteDocumentGlobalKey";var ui=function(u,r,s,f,p,v,w){this.targetId=u,this.canonicalId=r,this.readTime=s,this.resumeToken=f,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=v,this.query=w};ui.store="targets",ui.keyPath="targetId",ui.queryTargetsIndexName="queryTargetsIndex",ui.queryTargetsKeyPath=["canonicalId","targetId"];var Tr=function(u,r,s){this.targetId=u,this.path=r,this.sequenceNumber=s};Tr.store="targetDocuments",Tr.keyPath=["targetId","path"],Tr.documentTargetsIndex="documentTargetsIndex",Tr.documentTargetsKeyPath=["path","targetId"];var Si=function(u,r,s,f){this.highestTargetId=u,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=f};Si.key="targetGlobalKey",Si.store="targetGlobal";var Nu=function(u,r){this.collectionId=u,this.parent=r};function mp(u){u.createObjectStore(Tr.store,{keyPath:Tr.keyPath}).createIndex(Tr.documentTargetsIndex,Tr.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(ui.store,{keyPath:ui.keyPath}).createIndex(ui.queryTargetsIndexName,ui.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(Si.store)}Nu.store="collectionParents",Nu.keyPath=["collectionId","parent"];var gs=function(u,r,s,f){this.clientId=u,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=f};gs.store="clientMetadata",gs.keyPath="clientId";var yp=P.__spreadArrays(P.__spreadArrays(P.__spreadArrays([Qi.store,yn.store,lr.store,xn.store,ui.store,Wr.store,Si.store,Tr.store],[gs.store]),[ps.store]),[Nu.store]),Nd=function(){function u(){this.la=new ea}return u.prototype.Mo=function(r,s){var f=this;if(!this.la.has(s)){var p=s._(),v=s.h();r.pr(function(){f.la.add(s)});var w={collectionId:p,parent:kn(v)};return ms(r).put(w)}return Fe.resolve()},u.prototype.Qr=function(r,s){var f=[],p=IDBKeyRange.bound([s,""],[un(s),""],!1,!0);return ms(r).ts(p).next(function(v){for(var w=0,D=v;w<D.length;w++){var T=D[w];if(T.collectionId!==s)break;f.push(Ln(T.parent))}return f})},u}();function ms(u){return Vn.Qn(u,Nu.store)}var xu=function(){function u(r){this._a=r}return u.prototype.next=function(){return this._a+=2,this._a},u.fa=function(){return new u(0)},u.da=function(){return new u(-1)},u}(),Hn=function(){function u(r,s){this.No=r,this.serializer=s}return u.prototype.wa=function(r){var s=this;return this.ma(r).next(function(f){var p=new xu(f.highestTargetId);return f.highestTargetId=p.next(),s.Ta(r,f).next(function(){return f.highestTargetId})})},u.prototype.Ea=function(r){return this.ma(r).next(function(s){return dt.J(new nn(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))})},u.prototype.Ia=function(r){return this.ma(r).next(function(s){return s.highestListenSequenceNumber})},u.prototype.Aa=function(r,s,f){var p=this;return this.ma(r).next(function(v){return v.highestListenSequenceNumber=s,f&&(v.lastRemoteSnapshotVersion=f.Z()),s>v.highestListenSequenceNumber&&(v.highestListenSequenceNumber=s),p.Ta(r,v)})},u.prototype.Ra=function(r,s){var f=this;return this.ga(r,s).next(function(){return f.ma(r).next(function(p){return p.targetCount+=1,f.Pa(s,p),f.Ta(r,p)})})},u.prototype.ya=function(r,s){return this.ga(r,s)},u.prototype.Va=function(r,s){var f=this;return this.pa(r,s.targetId).next(function(){return Oo(r).delete(s.targetId)}).next(function(){return f.ma(r)}).next(function(p){return Ie(p.targetCount>0),p.targetCount-=1,f.Ta(r,p)})},u.prototype.po=function(r,s,f){var p=this,v=0,w=[];return Oo(r).rs(function(D,T){var F=Su(T);F.sequenceNumber<=s&&null===f.get(F.targetId)&&(v++,w.push(p.Va(r,F)))}).next(function(){return Fe.$n(w)}).next(function(){return v})},u.prototype.Ce=function(r,s){return Oo(r).rs(function(f,p){var v=Su(p);s(v)})},u.prototype.ma=function(r){return ta(r).get(Si.key).next(function(s){return Ie(null!==s),s})},u.prototype.Ta=function(r,s){return ta(r).put(Si.key,s)},u.prototype.ga=function(r,s){return Oo(r).put(ff(this.serializer,s))},u.prototype.Pa=function(r,s){var f=!1;return r.targetId>s.highestTargetId&&(s.highestTargetId=r.targetId,f=!0),r.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=r.sequenceNumber,f=!0),f},u.prototype.ba=function(r){return this.ma(r).next(function(s){return s.targetCount})},u.prototype.va=function(r,s){var f=Ze(s),p=IDBKeyRange.bound([f,Number.NEGATIVE_INFINITY],[f,Number.POSITIVE_INFINITY]),v=null;return Oo(r).rs({range:p,index:ui.queryTargetsIndexName},function(w,D,T){var F=Su(D);Xe(s,F.target)&&(v=F,T.done())}).next(function(){return v})},u.prototype.Sa=function(r,s,f){var p=this,v=[],w=na(r);return s.forEach(function(D){var T=kn(D.path);v.push(w.put(new Tr(f,T))),v.push(p.No.Da(r,f,D))}),Fe.$n(v)},u.prototype.Ca=function(r,s,f){var p=this,v=na(r);return Fe.forEach(s,function(w){var D=kn(w.path);return Fe.$n([v.delete([f,D]),p.No.Na(r,f,w)])})},u.prototype.pa=function(r,s){var f=na(r),p=IDBKeyRange.bound([s],[s+1],!1,!0);return f.delete(p)},u.prototype.Fa=function(r,s){var f=IDBKeyRange.bound([s],[s+1],!1,!0),p=na(r),v=Yt();return p.rs({range:f,ss:!0},function(w,D,T){var F=Ln(w[1]),$=new k(F);v=v.add($)}).next(function(){return v})},u.prototype.Ho=function(r,s){var f=kn(s.path),p=IDBKeyRange.bound([f],[un(f)],!1,!0),v=0;return na(r).rs({index:Tr.documentTargetsIndex,ss:!0,range:p},function(w,D,T){0!==w[0]&&(v++,T.done())}).next(function(){return v>0})},u.prototype.Ue=function(r,s){return Oo(r).get(s).next(function(f){return f?Su(f):null})},u}();function Oo(u){return Vn.Qn(u,ui.store)}function ta(u){return Vn.Qn(u,Si.store)}function na(u){return Vn.Qn(u,Tr.store)}var hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zr=function(u){function r(s,f){var p=this;return(p=u.call(this)||this).jo=s,p.xa=f,p}return P.__extends(r,u),r}(ol),Vn=function(){function u(r,s,f,p,v,w,D,T,F,$){if(this.allowTabSynchronization=r,this.persistenceKey=s,this.clientId=f,this.fn=v,this.window=w,this.document=D,this.$a=F,this.ka=$,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(K){return Promise.resolve()},!u.Ln())throw new B(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ra(this,p),this.Wa=s+"main",this.serializer=new ai(T),this.ja=new $r(this.Wa,10,new xo(this.serializer)),this.Ka=new Hn(this.No,this.serializer),this.Dr=new Nd,this.vr=new df(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===$&&we("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return u.Qn=function(r,s){if(r instanceof Zr)return $r.Qn(r.jo,s);throw Re()},u.prototype.start=function(){var r=this;return this.za().then(function(){if(!r.isPrimary&&!r.allowTabSynchronization)throw new B(R.FAILED_PRECONDITION,hf);return r.Ha(),r.Ya(),r.Ja(),r.runTransaction("getHighestListenSequenceNumber","readonly",function(s){return r.Ka.Ia(s)})}).then(function(s){r.Ma=new An(s,r.$a)}).then(function(){r.Oa=!0}).catch(function(s){return r.ja&&r.ja.close(),Promise.reject(s)})},u.prototype.Xa=function(r){var s=this;return this.Qa=function(f){return P.__awaiter(s,void 0,void 0,function(){return P.__generator(this,function(p){return this.Ei?[2,r(f)]:[2]})})},r(this.isPrimary)},u.prototype.Za=function(r){var s=this;this.ja.Kn(function(f){return P.__awaiter(s,void 0,void 0,function(){return P.__generator(this,function(p){switch(p.label){case 0:return null===f.newVersion?[4,r()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})})},u.prototype.tc=function(r){var s=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.fn.ws(function(){return P.__awaiter(s,void 0,void 0,function(){return P.__generator(this,function(f){switch(f.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})}))},u.prototype.za=function(){var r=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(s){return Ro(s).put(new gs(r.clientId,Date.now(),r.networkEnabled,r.inForeground)).next(function(){if(r.isPrimary)return r.ec(s).next(function(f){f||(r.isPrimary=!1,r.fn.Cs(function(){return r.Qa(!1)}))})}).next(function(){return r.nc(s)}).next(function(f){return r.isPrimary&&!f?r.sc(s).next(function(){return!1}):!!f&&r.ic(s).next(function(){return!0})})}).catch(function(s){if(si(s))return Z("IndexedDbPersistence","Failed to extend owner lease: ",s),r.isPrimary;if(!r.allowTabSynchronization)throw s;return Z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",s),!1}).then(function(s){r.isPrimary!==s&&r.fn.Cs(function(){return r.Qa(s)}),r.isPrimary=s})},u.prototype.ec=function(r){var s=this;return ys(r).get(Wr.key).next(function(f){return Fe.resolve(s.rc(f))})},u.prototype.oc=function(r){return Ro(r).delete(this.clientId)},u.prototype.ac=function(){return P.__awaiter(this,void 0,void 0,function(){var r,s,f,v=this;return P.__generator(this,function(w){switch(w.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(D){var T=u.Qn(D,gs.store);return T.ts().next(function(F){var $=v.uc(F,18e5),K=F.filter(function(Y){return-1===$.indexOf(Y)});return Fe.forEach(K,function(Y){return T.delete(Y.clientId)}).next(function(){return K})})}).catch(function(){return[]})]);case 1:if(r=w.sent(),this.Ga)for(s=0,f=r;s<f.length;s++)this.Ga.removeItem(this.hc(f[s].clientId));w.label=2;case 2:return[2]}})})},u.prototype.Ja=function(){var r=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return r.za().then(function(){return r.ac()}).then(function(){return r.Ja()})})},u.prototype.rc=function(r){return!!r&&r.ownerId===this.clientId},u.prototype.nc=function(r){var s=this;return this.ka?Fe.resolve(!0):ys(r).get(Wr.key).next(function(f){if(null!==f&&s.cc(f.leaseTimestampMs,5e3)&&!s.lc(f.ownerId)){if(s.rc(f)&&s.networkEnabled)return!0;if(!s.rc(f)){if(!f.allowTabSynchronization)throw new B(R.FAILED_PRECONDITION,hf);return!1}}return!(!s.networkEnabled||!s.inForeground)||Ro(r).ts().next(function(p){return void 0===s.uc(p,5e3).find(function(v){return!(s.clientId===v.clientId||!(!s.networkEnabled&&v.networkEnabled||!s.inForeground&&v.inForeground&&s.networkEnabled===v.networkEnabled))})})}).next(function(f){return s.isPrimary!==f&&Z("IndexedDbPersistence","Client "+(f?"is":"is not")+" eligible for a primary lease."),f})},u.prototype.Di=function(){return P.__awaiter(this,void 0,void 0,function(){var r=this;return P.__generator(this,function(s){switch(s.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Wr.store,gs.store],function(f){var p=new Zr(f,An.ai);return r.sc(p).next(function(){return r.oc(p)})})];case 1:return s.sent(),this.ja.close(),this.wc(),[2]}})})},u.prototype.uc=function(r,s){var f=this;return r.filter(function(p){return f.cc(p.updateTimeMs,s)&&!f.lc(p.clientId)})},u.prototype.pi=function(){var r=this;return this.runTransaction("getActiveClients","readonly",function(s){return Ro(s).ts().next(function(f){return r.uc(f,18e5).map(function(p){return p.clientId})})})},Object.defineProperty(u.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),u.prototype.mc=function(r){return cc.xo(r,this.serializer,this.Dr,this.No)},u.prototype.Tc=function(){return this.Ka},u.prototype.Ec=function(){return this.vr},u.prototype.Ic=function(){return this.Dr},u.prototype.runTransaction=function(r,s,f){var v,p=this;return Z("IndexedDbPersistence","Starting transaction:",r),this.ja.runTransaction(r,"readonly"===s?"readonly":"readwrite",yp,function(D){return v=new Zr(D,p.Ma?p.Ma.next():An.ai),"readwrite-primary"===s?p.ec(v).next(function(T){return!!T||p.nc(v)}).next(function(T){if(!T)throw we("Failed to obtain primary lease for action '"+r+"'."),p.isPrimary=!1,p.fn.Cs(function(){return p.Qa(!1)}),new B(R.FAILED_PRECONDITION,cf);return f(v)}).next(function(T){return p.ic(v).next(function(){return T})}):p.Ac(v).next(function(){return f(v)})}).then(function(D){return v.br(),D})},u.prototype.Ac=function(r){var s=this;return ys(r).get(Wr.key).next(function(f){if(null!==f&&s.cc(f.leaseTimestampMs,5e3)&&!s.lc(f.ownerId)&&!s.rc(f)&&!(s.ka||s.allowTabSynchronization&&f.allowTabSynchronization))throw new B(R.FAILED_PRECONDITION,hf)})},u.prototype.ic=function(r){var s=new Wr(this.clientId,this.allowTabSynchronization,Date.now());return ys(r).put(Wr.key,s)},u.Ln=function(){return $r.Ln()},u.prototype.sc=function(r){var s=this,f=ys(r);return f.get(Wr.key).next(function(p){return s.rc(p)?(Z("IndexedDbPersistence","Releasing primary lease."),f.delete(Wr.key)):Fe.resolve()})},u.prototype.cc=function(r,s){var f=Date.now();return!(r<f-s||r>f&&(we("Detected an update time that is in the future: "+r+" > "+f),1))},u.prototype.Ha=function(){var r=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){r.fn.ws(function(){return r.inForeground="visible"===r.document.visibilityState,r.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},u.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},u.prototype.Ya=function(){var r,s=this;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.La=function(){s._c(),s.fn.ws(function(){return s.Di()})},this.window.addEventListener("unload",this.La))},u.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},u.prototype.lc=function(r){var s;try{var f=null!==(null===(s=this.Ga)||void 0===s?void 0:s.getItem(this.hc(r)));return Z("IndexedDbPersistence","Client '"+r+"' "+(f?"is":"is not")+" zombied in LocalStorage"),f}catch(p){return we("IndexedDbPersistence","Failed to get zombied client id.",p),!1}},u.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){we("Failed to set zombie client id.",r)}},u.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},u.prototype.hc=function(r){return"firestore_zombie_"+this.persistenceKey+"_"+r},u}();function ys(u){return Vn.Qn(u,Wr.store)}function Ro(u){return Vn.Qn(u,gs.store)}var ra=function(){function u(r,s){this.db=r,this.wo=new st(this,s)}return u.prototype.Po=function(r){var s=this.Rc(r);return this.db.Tc().ba(r).next(function(f){return s.next(function(p){return f+p})})},u.prototype.Rc=function(r){var s=0;return this.Vo(r,function(f){s++}).next(function(){return s})},u.prototype.Ce=function(r,s){return this.db.Tc().Ce(r,s)},u.prototype.Vo=function(r,s){return this.gc(r,function(f,p){return s(p)})},u.prototype.Da=function(r,s,f){return dn(r,f)},u.prototype.Na=function(r,s,f){return dn(r,f)},u.prototype.po=function(r,s,f){return this.db.Tc().po(r,s,f)},u.prototype.Go=function(r,s){return dn(r,s)},u.prototype.Pc=function(r,s){return p=s,v=!1,Xs(f=r).os(function(w){return Js(f,w,p).next(function(D){return D&&(v=!0),Fe.resolve(!D)})}).next(function(){return v});var f,p,v},u.prototype.bo=function(r,s){var f=this,p=this.db.Ec().ra(),v=[],w=0;return this.gc(r,function(D,T){if(T<=s){var F=f.Pc(r,D).next(function($){if(!$)return w++,p.Rr(r,D).next(function(){return p.Ar(D),na(r).delete([0,kn(D.path)])})});v.push(F)}}).next(function(){return Fe.$n(v)}).next(function(){return p.apply(r)}).next(function(){return w})},u.prototype.removeTarget=function(r,s){var f=s.st(r.xa);return this.db.Tc().ya(r,f)},u.prototype.yc=function(r,s){return dn(r,s)},u.prototype.gc=function(r,s){var f,p=na(r),v=An.ai;return p.rs({index:Tr.documentTargetsIndex},function(w,D){var F=D.path,$=D.sequenceNumber;0===w[0]?(v!==An.ai&&s(new k(Ln(f)),v),v=$,f=F):v=An.ai}).next(function(){v!==An.ai&&s(new k(Ln(f)),v)})},u.prototype.So=function(r){return this.db.Ec().aa(r)},u}();function dn(u,r){return na(u).put((f=u.xa,new Tr(0,kn(r.path),f)));var f}function Ji(u,r){var s=u.projectId;return u.j||(s+="."+u.database),"firestore/"+r+"/"+s+"/"}var pf=function(){function u(r,s,f){this.persistence=r,this.Vc=s,this.bc=new rn(Je),this.vc=new Xt(function(p){return Ze(p)},Xe),this.Sc=dt.min(),this.Sr=r.mc(f),this.Dc=r.Ec(),this.Ka=r.Tc(),this.Cc=new ka(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return u.prototype.Io=function(r){var s=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(f){return r.vo(f,s.bc)})},u}();function Xi(u,r){var s=pe(u);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(f){var w,D,T,F,$,K,Y,p=r.batch.keys(),v=s.Dc.ra({oa:!0});return(w=s,D=f,T=r,F=v,$=T.batch,K=$.keys(),Y=Fe.resolve(),K.forEach(function(ae){Y=Y.next(function(){return F.Rr(D,ae)}).next(function(be){var Se=be,Ke=T.dr.get(ae);Ie(null!==Ke),(!Se||Se.version.L(Ke)<0)&&(Se=$.cr(ae,Se,T))&&F.Er(Se,T._r)})}),Y.next(function(){return w.Sr.Wo(D,$)})).next(function(){return v.apply(f)}).next(function(){return s.Sr.zo(f)}).next(function(){return s.Cc.kr(f,p)})})}function gf(u){var r=pe(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",function(s){return r.Ka.Ea(s)})}function fc(u,r){var s=pe(u),f=r.nt,p=s.bc;return s.persistence.runTransaction("Apply remote event","readwrite-primary",function(v){var w=s.Dc.ra({oa:!0});p=s.bc;var D=[];r.zt.forEach(function(K,Y){var Ke,Be,it,ae=p.get(Y);if(ae){D.push(s.Ka.Ca(v,K.se,Y).next(function(){return s.Ka.Sa(v,K.ee,Y)}));var be=K.resumeToken;if(be.O()>0){var Se=ae.it(be,f).st(v.xa);p=p.ot(Y,Se),Ke=ae,it=K,Ie((Be=Se).resumeToken.O()>0),(0===Ke.resumeToken.O()||Be.nt.X()-Ke.nt.X()>=3e8||it.ee.size+it.ne.size+it.se.size>0)&&D.push(s.Ka.ya(v,Se))}}});var T=jr(),F=Yt();if(r.Yt.forEach(function(K,Y){F=F.add(K)}),D.push(w.getEntries(v,F).next(function(K){r.Yt.forEach(function(Y,ae){var be=K.get(Y);ae instanceof on&&ae.version.isEqual(dt.min())?(w.Ar(Y,f),T=T.ot(Y,ae)):null==be||ae.version.L(be.version)>0||0===ae.version.L(be.version)&&be.hasPendingWrites?(w.Er(ae,f),T=T.ot(Y,ae)):Z("LocalStore","Ignoring outdated watch update for ",Y,". Current version:",be.version," Watch version:",ae.version),r.Jt.has(Y)&&D.push(s.persistence.No.yc(v,Y))})})),!f.isEqual(dt.min())){var $=s.Ka.Ea(v).next(function(K){return s.Ka.Aa(v,v.xa,f)});D.push($)}return Fe.$n(D).next(function(){return w.apply(v)}).next(function(){return s.Cc.Mr(v,T)})}).then(function(v){return s.bc=p,v})}function Yr(u,r){var s=pe(u);return s.persistence.runTransaction("Get next mutation batch","readonly",function(f){return void 0===r&&(r=-1),s.Sr.Bo(f,r)})}function Ba(u,r){var s=pe(u);return s.persistence.runTransaction("Allocate target","readwrite",function(f){var p;return s.Ka.va(f,r).next(function(v){return v?Fe.resolve(p=v):s.Ka.wa(f).next(function(w){return p=new Rn(r,w,0,f.xa),s.Ka.Ra(f,p).next(function(){return p})})})}).then(function(f){var p=s.bc.get(f.targetId);return(null===p||f.nt.L(p.nt)>0)&&(s.bc=s.bc.ot(f.targetId,f),s.vc.set(r,f.targetId)),f})}function Mi(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p,v,w;return P.__generator(this,function(D){switch(D.label){case 0:f=pe(u),p=f.bc.get(r),v=s?"readwrite":"readwrite-primary",D.label=1;case 1:return D.trys.push([1,4,,5]),s?[3,3]:[4,f.persistence.runTransaction("Release target",v,function(T){return f.persistence.No.removeTarget(T,p)})];case 2:D.sent(),D.label=3;case 3:return[3,5];case 4:if(!si(w=D.sent()))throw w;return Z("LocalStore","Failed to update sequence numbers for target "+r+": "+w),[3,5];case 5:return f.bc=f.bc.remove(r),f.vc.delete(p.target),[2]}})})}function ul(u,r,s){var f=pe(u),p=dt.min(),v=Yt();return f.persistence.runTransaction("Execute query","readonly",function(w){return(D=f,T=w,F=xe(r),$=pe(D),K=$.vc.get(F),void 0!==K?Fe.resolve($.bc.get(K)):$.Ka.va(T,F)).next(function(D){if(D)return p=D.lastLimboFreeSnapshotVersion,f.Ka.Fa(w,D.targetId).next(function(T){v=T})}).next(function(){return f.Vc.Lr(w,r,s?p:dt.min(),s?v:Yt())}).next(function(D){return{documents:D,Fc:v}});var D,T,F,$,K})}function cl(u,r){var s=pe(u),f=pe(s.Ka),p=s.bc.get(r);return p?Promise.resolve(p.target):s.persistence.runTransaction("Get target data","readonly",function(v){return f.Ue(v,r).next(function(w){return w?w.target:null})})}function mf(u){var r=pe(u);return r.persistence.runTransaction("Get new document changes","readonly",function(s){return p=s,v=r.Sc,w=pe(r.Dc),D=jr(),T=mt(v),F=Fr(p),$=IDBKeyRange.lowerBound(T,!0),F.rs({index:xn.readTimeIndex,range:$},function(K,Y){var ae=Va(w.serializer,Y);D=D.ot(ae.key,ae),T=Y.readTime}).next(function(){return{xc:D,readTime:uc(T)}});var p,v,w,D,T,F,$}).then(function(s){var f=s.xc;return r.Sc=s.readTime,f})}function xd(u){return P.__awaiter(this,void 0,void 0,function(){var r;return P.__generator(this,function(s){return[2,(r=pe(u)).persistence.runTransaction("Synchronize last document change read time","readonly",function(f){return v=Fr(f),w=dt.min(),v.rs({index:xn.readTimeIndex,reverse:!0},function(D,T,F){T.readTime&&(w=uc(T.readTime)),F.done()}).next(function(){return w});var v,w}).then(function(f){r.Sc=f})]})})}function ia(u){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(r){if(u.code!==R.FAILED_PRECONDITION||u.message!==cf)throw u;return Z("LocalStore","Unexpectedly lost primary lease"),[2]})})}var ll=function(){function u(){this.$c=new bn(fr.kc),this.Mc=new bn(fr.Oc)}return u.prototype.m=function(){return this.$c.m()},u.prototype.Da=function(r,s){var f=new fr(r,s);this.$c=this.$c.add(f),this.Mc=this.Mc.add(f)},u.prototype.Lc=function(r,s){var f=this;r.forEach(function(p){return f.Da(p,s)})},u.prototype.Na=function(r,s){this.Bc(new fr(r,s))},u.prototype.qc=function(r,s){var f=this;r.forEach(function(p){return f.Na(p,s)})},u.prototype.Uc=function(r){var s=this,f=new k(new x([])),p=new fr(f,r),v=new fr(f,r+1),w=[];return this.Mc.Ft([p,v],function(D){s.Bc(D),w.push(D.key)}),w},u.prototype.Qc=function(){var r=this;this.$c.forEach(function(s){return r.Bc(s)})},u.prototype.Bc=function(r){this.$c=this.$c.delete(r),this.Mc=this.Mc.delete(r)},u.prototype.Wc=function(r){var s=new k(new x([])),f=new fr(s,r),p=new fr(s,r+1),v=Yt();return this.Mc.Ft([f,p],function(w){v=v.add(w.key)}),v},u.prototype.Ho=function(r){var s=new fr(r,0),f=this.$c.$t(s);return null!==f&&r.isEqual(f.key)},u}(),fr=function(){function u(r,s){this.key=r,this.jc=s}return u.kc=function(r,s){return k.i(r.key,s.key)||Je(r.jc,s.jc)},u.Oc=function(r,s){return Je(r.jc,s.jc)||k.i(r.key,s.key)},u}(),vs=function(u,r){this.user=r,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+u},oa=function(){function u(){this.Gc=null}return u.prototype.getToken=function(){return Promise.resolve(null)},u.prototype.zc=function(){},u.prototype.Hc=function(r){this.Gc=r,r(Ir.UNAUTHENTICATED)},u.prototype.Yc=function(){this.Gc=null},u}(),dc=function(){function u(r){var s=this;this.Jc=null,this.currentUser=Ir.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){s.Zc++,s.currentUser=s.tu(),s.Xc=!0,s.Gc&&s.Gc(s.currentUser)},this.Zc=0,this.auth=r.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),r.get().then(function(f){s.auth=f,s.Jc&&s.auth.addAuthTokenListener(s.Jc)},function(){}))}return u.prototype.getToken=function(){var r=this,s=this.Zc,f=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(f).then(function(p){return r.Zc!==s?(Z("FirebaseCredentialsProvider","getToken aborted due to token change."),r.getToken()):p?(Ie("string"==typeof p.accessToken),new vs(p.accessToken,r.currentUser)):null}):Promise.resolve(null)},u.prototype.zc=function(){this.forceRefresh=!0},u.prototype.Hc=function(r){this.Gc=r,this.Xc&&r(this.currentUser)},u.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},u.prototype.tu=function(){var r=this.auth&&this.auth.getUid();return Ie(null===r||"string"==typeof r),new Ir(r)},u}(),yf=function(){function u(r,s){this.eu=r,this.nu=s,this.type="FirstParty",this.user=Ir.ni}return Object.defineProperty(u.prototype,"Kc",{get:function(){var r={"X-Goog-AuthUser":this.nu},s=this.eu.auth.getAuthHeaderValueForFirstParty([]);return s&&(r.Authorization=s),r},enumerable:!1,configurable:!0}),u}(),ci=function(){function u(r,s){this.eu=r,this.nu=s}return u.prototype.getToken=function(){return Promise.resolve(new yf(this.eu,this.nu))},u.prototype.Hc=function(r){r(Ir.ni)},u.prototype.Yc=function(){},u.prototype.zc=function(){},u}(),Ou=function(){function u(r,s,f,p,v,w){this.fn=r,this.su=f,this.iu=p,this.ru=v,this.listener=w,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Pa(r,s)}return u.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},u.prototype.uu=function(){return 2===this.state},u.prototype.start=function(){3!==this.state?this.auth():this.hu()},u.prototype.stop=function(){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(r){switch(r.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},u.prototype.lu=function(){this.state=0,this.ys.reset()},u.prototype._u=function(){var r=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return r.fu()}))},u.prototype.du=function(r){this.wu(),this.stream.send(r)},u.prototype.fu=function(){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(r){return this.uu()?[2,this.close(0)]:[2]})})},u.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},u.prototype.close=function(r,s){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(f){switch(f.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==r?this.ys.reset():s&&s.code===R.RESOURCE_EXHAUSTED?(we(s.toString()),we("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):s&&s.code===R.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=r,[4,this.listener.Tu(s)];case 1:return f.sent(),[2]}})})},u.prototype.mu=function(){},u.prototype.auth=function(){var r=this;this.state=1;var s=this.Eu(this.ou),f=this.ou;this.ru.getToken().then(function(p){r.ou===f&&r.Iu(p)},function(p){s(function(){var v=new B(R.UNKNOWN,"Fetching auth token failed: "+p.message);return r.Au(v)})})},u.prototype.Iu=function(r){var s=this,f=this.Eu(this.ou);this.stream=this.Ru(r),this.stream.gu(function(){f(function(){return s.state=2,s.listener.gu()})}),this.stream.Tu(function(p){f(function(){return s.Au(p)})}),this.stream.onMessage(function(p){f(function(){return s.onMessage(p)})})},u.prototype.hu=function(){var r=this;this.state=4,this.ys.gn(function(){return P.__awaiter(r,void 0,void 0,function(){return P.__generator(this,function(s){return this.state=0,this.start(),[2]})})})},u.prototype.Au=function(r){return Z("PersistentStream","close with error: "+r),this.stream=null,this.close(3,r)},u.prototype.Eu=function(r){var s=this;return function(f){s.fn.ws(function(){return s.ou===r?f():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},u}(),Ha=function(u){function r(s,f,p,v,w){var D=this;return(D=u.call(this,s,"listen_stream_connection_backoff","listen_stream_idle",f,p,w)||this).serializer=v,D}return P.__extends(r,u),r.prototype.Ru=function(s){return this.iu.Pu("Listen",s)},r.prototype.onMessage=function(s){this.ys.reset();var f=function(v,w){var D,di;if("targetChange"in w){var T="NO_CHANGE"===(di=w.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===di?1:"REMOVE"===di?2:"CURRENT"===di?3:"RESET"===di?4:Re(),F=w.targetChange.targetIds||[],$=function(di,Ns){return di.Qe?(Ie(void 0===Ns||"string"==typeof Ns),Vt.fromBase64String(Ns||"")):(Ie(void 0===Ns||Ns instanceof Uint8Array),Vt.fromUint8Array(Ns||new Uint8Array))}(v,w.targetChange.resumeToken),K=w.targetChange.cause,Y=K&&function(di){var Ns=void 0===di.code?R.UNKNOWN:Xr(di.code);return new B(Ns,di.message||"")}(K);D=new ei(T,F,$,Y||null)}else if("documentChange"in w){var ae=w.documentChange,be=Dn(v,ae.document.name),Se=Pt(ae.document.updateTime),Ke=new sr({mapValue:{fields:ae.document.fields}}),Be=new Ft(be,Se,Ke,{});D=new Mn(ae.targetIds||[],ae.removedTargetIds||[],Be.key,Be)}else if("documentDelete"in w){var Et=w.documentDelete,kt=Dn(v,Et.document),pn=Et.readTime?Pt(Et.readTime):dt.min(),$o=new on(kt,pn);D=new Mn([],Et.removedTargetIds||[],$o.key,$o)}else if("documentRemove"in w){var Ss=w.documentRemove,Ms=Dn(v,Ss.document);D=new Mn([],Ss.removedTargetIds||[],Ms,null)}else{if(!("filter"in w))return Re();var qo=w.filter,Pc=new et(qo.count||0);D=new br(qo.targetId,Pc)}return D}(this.serializer,s),p=function(v){if(!("targetChange"in v))return dt.min();var w=v.targetChange;return w.targetIds&&w.targetIds.length?dt.min():w.readTime?Pt(w.readTime):dt.min()}(s);return this.listener.yu(f,p)},r.prototype.Vu=function(s){var v,w,D,T,f={};f.database=ts(this.serializer),f.addTarget=(v=this.serializer,(D=bt(T=(w=s).target)?{documents:nl(v,T)}:{query:gu(v,T)}).targetId=w.targetId,w.resumeToken.O()>0&&(D.resumeToken=es(v,w.resumeToken)),D);var p=function(v,w){var D=function(T,F){switch(F){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,w.et);return null==D?null:{"goog-listen-tags":D}}(0,s);p&&(f.labels=p),this.du(f)},r.prototype.pu=function(s){var f={};f.database=ts(this.serializer),f.removeTarget=s,this.du(f)},r}(Ou),Ga=function(u){function r(s,f,p,v,w){var D=this;return(D=u.call(this,s,"write_stream_connection_backoff","write_stream_idle",f,p,w)||this).serializer=v,D.bu=!1,D}return P.__extends(r,u),Object.defineProperty(r.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,u.prototype.start.call(this)},r.prototype.mu=function(){this.bu&&this.Su([])},r.prototype.Ru=function(s){return this.iu.Pu("Write",s)},r.prototype.onMessage=function(s){if(Ie(!!s.streamToken),this.lastStreamToken=s.streamToken,this.bu){this.ys.reset();var f=(w=s.commitTime,(v=s.writeResults)&&v.length>0?(Ie(void 0!==w),v.map(function(D){return function(T,F){var $=Pt(T.updateTime?T.updateTime:F);$.isEqual(dt.min())&&($=Pt(F));var K=null;return T.transformResults&&T.transformResults.length>0&&(K=T.transformResults),new Na($,K)}(D,w)})):[]),p=Pt(s.commitTime);return this.listener.Du(p,f)}var v,w;return Ie(!s.writeResults||0===s.writeResults.length),this.bu=!0,this.listener.Cu()},r.prototype.Nu=function(){var s={};s.database=ts(this.serializer),this.du(s)},r.prototype.Su=function(s){var f=this,p={streamToken:this.lastStreamToken,writes:s.map(function(v){return $i(f.serializer,v)})};this.du(p)},r}(Ou),yr=function(u){function r(s,f,p){var v=this;return(v=u.call(this)||this).credentials=s,v.iu=f,v.serializer=p,v.Fu=!1,v}return P.__extends(r,u),r.prototype.xu=function(){if(this.Fu)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")},r.prototype.$u=function(s,f,p){var v=this;return this.xu(),this.credentials.getToken().then(function(w){return v.iu.$u(s,f,p,w)}).catch(function(w){throw w.code===R.UNAUTHENTICATED&&v.credentials.zc(),w})},r.prototype.ku=function(s,f,p){var v=this;return this.xu(),this.credentials.getToken().then(function(w){return v.iu.ku(s,f,p,w)}).catch(function(w){throw w.code===R.UNAUTHENTICATED&&v.credentials.zc(),w})},r.prototype.terminate=function(){this.Fu=!1},r}(function(){}),Od=function(){function u(r,s){this.cs=r,this.di=s,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return u.prototype.Bu=function(){var r=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return r.Ou=null,r.Uu("Backend didn't respond within 10 seconds."),r.qu("Offline"),Promise.resolve()}))},u.prototype.Qu=function(r){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+r.toString()),this.qu("Offline")))},u.prototype.set=function(r){this.Wu(),this.Mu=0,"Online"===r&&(this.Lu=!1),this.qu(r)},u.prototype.qu=function(r){r!==this.state&&(this.state=r,this.di(r))},u.prototype.Uu=function(r){var s="Could not reach Cloud Firestore backend. "+r+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(we(s),this.Lu=!1):Z("OnlineStateTracker",s)},u.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},u}(),fl=function(u,r,s,f,p){var v=this;this.ju=u,this.Ku=r,this.cs=s,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=p,this.Xu.Zu(function(w){s.ws(function(){return P.__awaiter(v,void 0,void 0,function(){return P.__generator(this,function(D){switch(D.label){case 0:return er(this)?(Z("RemoteStore","Restarting streams for network reachability change."),[4,function(T){return P.__awaiter(this,void 0,void 0,function(){var F;return P.__generator(this,function($){switch($.label){case 0:return(F=pe(T)).Yu.add(4),[4,Po(F)];case 1:return $.sent(),F.th.set("Unknown"),F.Yu.delete(4),[4,dl(F)];case 2:return $.sent(),[2]}})})}(this)]):[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})})}),this.th=new Od(s,f)};function dl(u){return P.__awaiter(this,void 0,void 0,function(){var r,s;return P.__generator(this,function(f){switch(f.label){case 0:if(!er(u))return[3,4];r=0,s=u.Ju,f.label=1;case 1:return r<s.length?[4,(0,s[r])(!0)]:[3,4];case 2:f.sent(),f.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function Po(u){return P.__awaiter(this,void 0,void 0,function(){var r,s;return P.__generator(this,function(f){switch(f.label){case 0:r=0,s=u.Ju,f.label=1;case 1:return r<s.length?[4,(0,s[r])(!1)]:[3,4];case 2:f.sent(),f.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function _s(u){return P.__awaiter(this,void 0,void 0,function(){var r;return P.__generator(this,function(s){switch(s.label){case 0:return r=pe(u),Z("RemoteStore","RemoteStore shutting down."),r.Yu.add(5),[4,Po(r)];case 1:return s.sent(),r.Xu.Di(),r.th.set("Unknown"),[2]}})})}function Fo(u,r){var s=pe(u);s.Hu.has(r.targetId)||(s.Hu.set(r.targetId,r),ko(s)?vf(s):li(s).uu()&&vn(s,r))}function Ru(u,r){var s=pe(u),f=li(s);s.Hu.delete(r),f.uu()&&sa(s,r),0===s.Hu.size&&(f.uu()?f._u():er(s)&&s.th.set("Unknown"))}function vn(u,r){u.eh.Ie(r.targetId),li(u).Vu(r)}function sa(u,r){u.eh.Ie(r),li(u).pu(r)}function vf(u){u.eh=new tc({qe:function(r){return u.Gu.qe(r)},Ue:function(r){return u.Hu.get(r)||null}}),li(u).start(),u.th.Bu()}function ko(u){return er(u)&&!li(u).cu()&&u.Hu.size>0}function er(u){return 0===pe(u).Yu.size}function _f(u){u.eh=void 0}function bf(u){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(r){return u.Hu.forEach(function(s,f){vn(u,s)}),[2]})})}function hc(u,r){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(s){return _f(u),ko(u)?(u.th.Qu(r),vf(u)):u.th.set("Unknown"),[2]})})}function vp(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p,v;return P.__generator(this,function(w){switch(w.label){case 0:if(u.th.set("Online"),!(r instanceof ei&&2===r.state&&r.cause))return[3,6];w.label=1;case 1:return w.trys.push([1,3,,5]),[4,function(D,T){return P.__awaiter(this,void 0,void 0,function(){var F,$,K,Y;return P.__generator(this,function(ae){switch(ae.label){case 0:F=T.cause,$=0,K=T.targetIds,ae.label=1;case 1:return $<K.length?D.Hu.has(Y=K[$])?[4,D.Gu.nh(Y,F)]:[3,3]:[3,5];case 2:ae.sent(),D.Hu.delete(Y),D.eh.removeTarget(Y),ae.label=3;case 3:ae.label=4;case 4:return $++,[3,1];case 5:return[2]}})})}(u,r)];case 2:return w.sent(),[3,5];case 3:return f=w.sent(),Z("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),f),[4,Lo(u,f)];case 4:return w.sent(),[3,5];case 5:return[3,13];case 6:if(r instanceof Mn?u.eh.be(r):r instanceof br?u.eh.$e(r):u.eh.De(r),s.isEqual(dt.min()))return[3,13];w.label=7;case 7:return w.trys.push([7,11,,13]),[4,gf(u.ju)];case 8:return p=w.sent(),s.L(p)>=0?[4,(D=u,T=s,F=D.eh.Oe(T),F.zt.forEach(function($,K){if($.resumeToken.O()>0){var Y=D.Hu.get(K);Y&&D.Hu.set(K,Y.it($.resumeToken,T))}}),F.Ht.forEach(function($){var K=D.Hu.get($);if(K){D.Hu.set($,K.it(Vt.B,K.nt)),sa(D,$);var Y=new Rn(K.target,$,1,K.sequenceNumber);vn(D,Y)}}),D.Gu.sh(F))]:[3,10];case 9:w.sent(),w.label=10;case 10:return[3,13];case 11:return Z("RemoteStore","Failed to raise snapshot:",v=w.sent()),[4,Lo(u,v)];case 12:return w.sent(),[3,13];case 13:return[2]}var D,T,F})})}function Lo(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f=this;return P.__generator(this,function(p){switch(p.label){case 0:if(!si(r))throw r;return u.Yu.add(1),[4,Po(u)];case 1:return p.sent(),u.th.set("Offline"),s||(s=function(){return gf(u.ju)}),u.cs.Cs(function(){return P.__awaiter(f,void 0,void 0,function(){return P.__generator(this,function(v){switch(v.label){case 0:return Z("RemoteStore","Retrying IndexedDB access"),[4,s()];case 1:return v.sent(),u.Yu.delete(1),[4,dl(u)];case 2:return v.sent(),[2]}})})}),[2]}})})}function Ni(u,r){return r().catch(function(s){return Lo(u,s,r)})}function Vo(u){return P.__awaiter(this,void 0,void 0,function(){var r,s,f,p,v;return P.__generator(this,function(w){switch(w.label){case 0:r=pe(u),s=_n(r),f=r.zu.length>0?r.zu[r.zu.length-1].batchId:-1,w.label=1;case 1:if(!(er(D=r)&&D.zu.length<10))return[3,7];w.label=2;case 2:return w.trys.push([2,4,,6]),[4,Yr(r.ju,f)];case 3:return null===(p=w.sent())?(0===r.zu.length&&s._u(),[3,7]):(f=p.batchId,function(D,T){D.zu.push(T);var F=_n(D);F.uu()&&F.vu&&F.Su(T.mutations)}(r,p),[3,6]);case 4:return v=w.sent(),[4,Lo(r,v)];case 5:return w.sent(),[3,6];case 6:return[3,1];case 7:return jo(r)&&wf(r),[2]}var D})})}function jo(u){return er(u)&&!_n(u).cu()&&u.zu.length>0}function wf(u){_n(u).start()}function hl(u){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(r){return _n(u).Nu(),[2]})})}function pl(u){return P.__awaiter(this,void 0,void 0,function(){var r,s,f;return P.__generator(this,function(v){for(r=_n(u),s=0,f=u.zu;s<f.length;s++)r.Su(f[s].mutations);return[2]})})}function pc(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p;return P.__generator(this,function(v){switch(v.label){case 0:return f=u.zu.shift(),p=uf.from(f,r,s),[4,Ni(u,function(){return u.Gu.ih(p)})];case 1:return v.sent(),[4,Vo(u)];case 2:return v.sent(),[2]}})})}function gl(u,r){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(s){switch(s.label){case 0:return r&&_n(u).vu?[4,function(f,p){return P.__awaiter(this,void 0,void 0,function(){var v,w;return P.__generator(this,function(D){switch(D.label){case 0:return Pn(w=p.code)&&w!==R.ABORTED?(v=f.zu.shift(),_n(f).lu(),[4,Ni(f,function(){return f.Gu.rh(v.batchId,p)})]):[3,3];case 1:return D.sent(),[4,Vo(f)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}(u,r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return jo(u)&&wf(u),[2]}})})}function ml(u,r){return P.__awaiter(this,void 0,void 0,function(){var s;return P.__generator(this,function(p){switch(p.label){case 0:return s=pe(u),r?(s.Yu.delete(2),[4,dl(s)]):[3,2];case 1:return p.sent(),[3,5];case 2:return r?[3,4]:(s.Yu.add(2),[4,Po(s)]);case 3:p.sent(),s.th.set("Unknown"),p.label=4;case 4:p.label=5;case 5:return[2]}})})}function li(u){var s,f,p,v,r=this;return u.oh||(u.oh=(s=u.Ku,f=u.cs,p={gu:bf.bind(null,u),Tu:hc.bind(null,u),yu:vp.bind(null,u)},(v=pe(s)).xu(),new Ha(f,v.iu,v.credentials,v.serializer,p)),u.Ju.push(function(s){return P.__awaiter(r,void 0,void 0,function(){return P.__generator(this,function(f){switch(f.label){case 0:return s?(u.oh.lu(),ko(u)?vf(u):u.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,u.oh.stop()];case 2:f.sent(),_f(u),f.label=3;case 3:return[2]}})})})),u.oh}function _n(u){var s,f,p,v,r=this;return u.ah||(u.ah=(s=u.Ku,f=u.cs,p={gu:hl.bind(null,u),Tu:gl.bind(null,u),Cu:pl.bind(null,u),Du:pc.bind(null,u)},(v=pe(s)).xu(),new Ga(f,v.iu,v.credentials,v.serializer,p)),u.Ju.push(function(s){return P.__awaiter(r,void 0,void 0,function(){return P.__generator(this,function(f){switch(f.label){case 0:return s?(u.ah.lu(),[4,Vo(u)]):[3,2];case 1:return f.sent(),[3,4];case 2:return[4,u.ah.stop()];case 3:f.sent(),u.zu.length>0&&(Z("RemoteStore","Stopping write stream with "+u.zu.length+" pending writes"),u.zu=[]),f.label=4;case 4:return[2]}})})})),u.ah}var $a=function(u){this.key=u},yl=function(u){this.key=u},Rd=function(){function u(r,s){this.query=r,this.uh=s,this.hh=null,this.te=!1,this.lh=Yt(),this.Wt=Yt(),this._h=Yi(r),this.fh=new Ko(this._h)}return Object.defineProperty(u.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),u.prototype.wh=function(r,s){var f=this,p=s?s.mh:new Ui,v=s?s.fh:this.fh,w=s?s.Wt:this.Wt,D=v,T=!1,F=Di(this.query)&&v.size===this.query.limit?v.last():null,$=ii(this.query)&&v.size===this.query.limit?v.first():null;if(r.ht(function(Y,ae){var be=v.get(Y),Se=ae instanceof Ft?ae:null;Se&&(Se=Do(f.query,Se)?Se:null);var Ke=!!be&&f.Wt.has(be.key),Be=!!Se&&(Se.Je||f.Wt.has(Se.key)&&Se.hasCommittedMutations),it=!1;be&&Se?be.data().isEqual(Se.data())?Ke!==Be&&(p.track({type:3,doc:Se}),it=!0):f.Th(be,Se)||(p.track({type:2,doc:Se}),it=!0,(F&&f._h(Se,F)>0||$&&f._h(Se,$)<0)&&(T=!0)):!be&&Se?(p.track({type:0,doc:Se}),it=!0):be&&!Se&&(p.track({type:1,doc:be}),it=!0,(F||$)&&(T=!0)),it&&(Se?(D=D.add(Se),w=Be?w.add(Y):w.delete(Y)):(D=D.delete(Y),w=w.delete(Y)))}),Di(this.query)||ii(this.query))for(;D.size>this.query.limit;){var K=Di(this.query)?D.last():D.first();D=D.delete(K.key),w=w.delete(K.key),p.track({type:1,doc:K})}return{fh:D,mh:p,Eh:T,Wt:w}},u.prototype.Th=function(r,s){return r.Je&&s.hasCommittedMutations&&!s.Je},u.prototype.yr=function(r,s,f){var p=this,v=this.fh;this.fh=r.fh,this.Wt=r.Wt;var w=r.mh.Ut();w.sort(function($,K){return ae=K.type,(be=function(Se){switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})($.type)-be(ae)||p._h($.doc,K.doc);var ae,be}),this.Ih(f);var D=s?this.Ah():[],T=0===this.lh.size&&this.te?1:0,F=T!==this.hh;return this.hh=T,0!==w.length||F?{snapshot:new yi(this.query,r.fh,v,w,r.Wt,0===T,F,!1),Rh:D}:{Rh:D}},u.prototype.Qs=function(r){return this.te&&"Offline"===r?(this.te=!1,this.yr({fh:this.fh,mh:new Ui,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},u.prototype.gh=function(r){return!this.uh.has(r)&&!!this.fh.has(r)&&!this.fh.get(r).Je},u.prototype.Ih=function(r){var s=this;r&&(r.ee.forEach(function(f){return s.uh=s.uh.add(f)}),r.ne.forEach(function(f){}),r.se.forEach(function(f){return s.uh=s.uh.delete(f)}),this.te=r.te)},u.prototype.Ah=function(){var r=this;if(!this.te)return[];var s=this.lh;this.lh=Yt(),this.fh.forEach(function(p){r.gh(p.key)&&(r.lh=r.lh.add(p.key))});var f=[];return s.forEach(function(p){r.lh.has(p)||f.push(new yl(p))}),this.lh.forEach(function(p){s.has(p)||f.push(new $a(p))}),f},u.prototype.Ph=function(r){this.uh=r.Fc,this.lh=Yt();var s=this.wh(r.documents);return this.yr(s,!0)},u.prototype.yh=function(){return yi.Gt(this.query,this.fh,this.Wt,0===this.hh)},u}(),Ef=function(u,r,s){this.query=u,this.targetId=r,this.view=s},Pd=function(u){this.key=u,this.Vh=!1},bs=function(){function u(r,s,f,p,v,w){this.ju=r,this.ph=s,this.bh=f,this.Sh=p,this.currentUser=v,this.Dh=w,this.Ch={},this.Nh=new Xt(function(D){return Zi(D)},Wi),this.Fh=new Map,this.xh=[],this.$h=new rn(k.i),this.kh=new Map,this.Mh=new ll,this.Oh={},this.Lh=new Map,this.Bh=xu.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(u.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),u}();function vl(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,p,v,w,D;return P.__generator(this,function(T){switch(T.label){case 0:return s=yc(u),(v=s.Nh.get(r))?(s.Sh.Oi(v.targetId),p=v.view.yh(),[3,4]):[3,1];case 1:return[4,Ba(s.ju,xe(r))];case 2:return w=T.sent(),D=s.Sh.Oi(w.targetId),[4,aa(s,r,w.targetId,"current"===D)];case 3:p=T.sent(),s.Uh&&Fo(s.ph,w),T.label=4;case 4:return[2,p]}})})}function aa(u,r,s,f){return P.__awaiter(this,void 0,void 0,function(){var p,v,w,D,T,F;return P.__generator(this,function($){switch($.label){case 0:return u.Qh=function(K,Y,ae){return function(be,Se,Ke,Be){return P.__awaiter(this,void 0,void 0,function(){var it,pt,Et;return P.__generator(this,function(kt){switch(kt.label){case 0:return(it=Se.view.wh(Ke)).Eh?[4,ul(be.ju,Se.query,!1).then(function(pn){return Se.view.wh(pn.documents,it)})]:[3,2];case 1:it=kt.sent(),kt.label=2;case 2:return pt=Be&&Be.zt.get(Se.targetId),Et=Se.view.yr(it,be.Uh,pt),[2,(mc(be,Se.targetId,Et.Rh),Et.snapshot)]}})})}(u,K,Y,ae)},[4,ul(u.ju,r,!0)];case 1:return p=$.sent(),v=new Rd(r,p.Fc),w=v.wh(p.documents),D=Us.Zt(s,f&&"Offline"!==u.onlineState),T=v.yr(w,u.Uh,D),mc(u,s,T.Rh),F=new Ef(r,s,v),[2,(u.Nh.set(r,F),u.Fh.has(s)?u.Fh.get(s).push(r):u.Fh.set(s,[r]),T.snapshot)]}})})}function Cf(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f,p;return P.__generator(this,function(v){switch(v.label){case 0:return s=pe(u),f=s.Nh.get(r),(p=s.Fh.get(f.targetId)).length>1?[2,(s.Fh.set(f.targetId,p.filter(function(w){return!Wi(w,r)})),void s.Nh.delete(r))]:s.Uh?(s.Sh.Bi(f.targetId),s.Sh.Fi(f.targetId)?[3,2]:[4,Mi(s.ju,f.targetId,!1).then(function(){s.Sh.Ui(f.targetId),Ru(s.ph,f.targetId),Uo(s,f.targetId)}).catch(ia)]):[3,3];case 1:v.sent(),v.label=2;case 2:return[3,5];case 3:return Uo(s,f.targetId),[4,Mi(s.ju,f.targetId,!0)];case 4:v.sent(),v.label=5;case 5:return[2]}})})}function Pu(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f;return P.__generator(this,function(p){switch(p.label){case 0:s=pe(u),p.label=1;case 1:return p.trys.push([1,4,,6]),[4,fc(s.ju,r)];case 2:return f=p.sent(),r.zt.forEach(function(v,w){var D=s.kh.get(w);D&&(Ie(v.ee.size+v.ne.size+v.se.size<=1),v.ee.size>0?D.Vh=!0:v.ne.size>0?Ie(D.Vh):v.se.size>0&&(Ie(D.Vh),D.Vh=!1))}),[4,ws(s,f,r)];case 3:return p.sent(),[3,6];case 4:return[4,ia(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}})})}function gc(u,r,s){var f=pe(u);if(f.Uh&&0===s||!f.Uh&&1===s){var p=[];f.Nh.forEach(function(v,w){var D=w.view.Qs(r);D.snapshot&&p.push(D.snapshot)}),function(v,w){var D=pe(v);D.onlineState=w;var T=!1;D.Bs.forEach(function(F,$){for(var K=0,Y=$.listeners;K<Y.length;K++)Y[K].Qs(w)&&(T=!0)}),T&&So(D)}(f.bh,r),p.length&&f.Ch.yu(p),f.onlineState=r,f.Uh&&f.Sh.Ki(r)}}function qa(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p,v,w,D,T;return P.__generator(this,function(F){switch(F.label){case 0:return(f=pe(u)).Sh.Qi(r,"rejected",s),p=f.kh.get(r),(v=p&&p.key)?(w=(w=new rn(k.i)).ot(v,new on(v,dt.min())),D=Yt().add(v),T=new Qo(dt.min(),new Map,new bn(Je),w,D),[4,Pu(f,T)]):[3,2];case 1:return F.sent(),f.$h=f.$h.remove(v),f.kh.delete(r),Bo(f),[3,4];case 2:return[4,Mi(f.ju,r,!1).then(function(){return Uo(f,r,s)}).catch(ia)];case 3:F.sent(),F.label=4;case 4:return[2]}})})}function Fd(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f,p;return P.__generator(this,function(v){switch(v.label){case 0:s=pe(u),f=r.batch.batchId,v.label=1;case 1:return v.trys.push([1,4,,6]),[4,Xi(s.ju,r)];case 2:return p=v.sent(),ua(s,f,null),Df(s,f),s.Sh.ki(f,"acknowledged"),[4,ws(s,p)];case 3:return v.sent(),[3,6];case 4:return[4,ia(v.sent())];case 5:return v.sent(),[3,6];case 6:return[2]}})})}function kd(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p;return P.__generator(this,function(v){switch(v.label){case 0:f=pe(u),v.label=1;case 1:return v.trys.push([1,4,,6]),[4,(w=f.ju,D=r,T=pe(w),T.persistence.runTransaction("Reject batch","readwrite-primary",function(F){var $;return T.Sr.Oo(F,D).next(function(K){return Ie(null!==K),$=K.keys(),T.Sr.Wo(F,K)}).next(function(){return T.Sr.zo(F)}).next(function(){return T.Cc.kr(F,$)})}))];case 2:return p=v.sent(),ua(f,r,s),Df(f,r),f.Sh.ki(r,"rejected",s),[4,ws(f,p)];case 3:return v.sent(),[3,6];case 4:return[4,ia(v.sent())];case 5:return v.sent(),[3,6];case 6:return[2]}var w,D,T})})}function Df(u,r){(u.Lh.get(r)||[]).forEach(function(s){s.resolve()}),u.Lh.delete(r)}function ua(u,r,s){var f=pe(u),p=f.Oh[f.currentUser.ti()];if(p){var v=p.get(r);v&&(s?v.reject(s):v.resolve(),p=p.remove(r)),f.Oh[f.currentUser.ti()]=p}}function Uo(u,r,s){void 0===s&&(s=null),u.Sh.Bi(r);for(var f=0,p=u.Fh.get(r);f<p.length;f++){var v=p[f];u.Nh.delete(v),s&&u.Ch.Wh(v,s)}u.Fh.delete(r),u.Uh&&u.Mh.Uc(r).forEach(function(w){u.Mh.Ho(w)||_l(u,w)})}function _l(u,r){var s=u.$h.get(r);null!==s&&(Ru(u.ph,s),u.$h=u.$h.remove(r),u.kh.delete(s),Bo(u))}function mc(u,r,s){for(var f=0,p=s;f<p.length;f++){var v=p[f];v instanceof $a?(u.Mh.Da(v.key,r),If(u,v)):v instanceof yl?(Z("SyncEngine","Document no longer in limbo: "+v.key),u.Mh.Na(v.key,r),u.Mh.Ho(v.key)||_l(u,v.key)):Re()}}function If(u,r){var s=r.key;u.$h.get(s)||(Z("SyncEngine","New document in limbo: "+s),u.xh.push(s),Bo(u))}function Bo(u){for(;u.xh.length>0&&u.$h.size<u.Dh;){var r=u.xh.shift(),s=u.Bh.next();u.kh.set(s,new Pd(r)),u.$h=u.$h.ot(r,s),Fo(u.ph,new Rn(xe(Zs(r.path)),s,2,An.ai))}}function ws(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p,v,w;return P.__generator(this,function(D){switch(D.label){case 0:return f=pe(u),p=[],v=[],w=[],f.Nh.m()?[3,3]:(f.Nh.forEach(function(T,F){w.push(f.Qh(F,r,s).then(function($){if($){f.Uh&&f.Sh.Qi(F.targetId,$.fromCache?"not-current":"current"),p.push($);var K=Td.zr(F.targetId,$);v.push(K)}}))}),[4,Promise.all(w)]);case 1:return D.sent(),f.Ch.yu(p),[4,function(T,F){return P.__awaiter(this,void 0,void 0,function(){var $,K,Y,ae,be,Se,Ke,it;return P.__generator(this,function(pt){switch(pt.label){case 0:$=pe(T),pt.label=1;case 1:return pt.trys.push([1,3,,4]),[4,$.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Et){return Fe.forEach(F,function(kt){return Fe.forEach(kt.Kr,function(pn){return $.persistence.No.Da(Et,kt.targetId,pn)}).next(function(){return Fe.forEach(kt.Gr,function(pn){return $.persistence.No.Na(Et,kt.targetId,pn)})})})})];case 2:return pt.sent(),[3,4];case 3:if(!si(K=pt.sent()))throw K;return Z("LocalStore","Failed to update sequence numbers: "+K),[3,4];case 4:for(Y=0,ae=F;Y<ae.length;Y++)Se=(be=ae[Y]).targetId,be.fromCache||(Ke=$.bc.get(Se),it=Ke.rt(Ke.nt),$.bc=$.bc.ot(Se,it));return[2]}})})}(f.ju,v)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}function Tt(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f;return P.__generator(this,function(p){switch(p.label){case 0:return(s=pe(u)).currentUser.isEqual(r)?[3,3]:(Z("SyncEngine","User change. New user:",r.ti()),[4,function(v,w){return P.__awaiter(this,void 0,void 0,function(){var D,T,F,$;return P.__generator(this,function(K){switch(K.label){case 0:return D=pe(v),T=D.Sr,F=D.Cc,[4,D.persistence.runTransaction("Handle user change","readonly",function(Y){var ae;return D.Sr.Uo(Y).next(function(be){return ae=be,T=D.persistence.mc(w),F=new ka(D.Dc,T,D.persistence.Ic()),T.Uo(Y)}).next(function(be){for(var Se=[],Ke=[],Be=Yt(),it=0,pt=ae;it<pt.length;it++){var Et=pt[it];Se.push(Et.batchId);for(var kt=0,pn=Et.mutations;kt<pn.length;kt++)Be=Be.add(pn[kt].key)}for(var kr=0,Ss=be;kr<Ss.length;kr++){var Ms=Ss[kr];Ke.push(Ms.batchId);for(var Xa=0,qo=Ms.mutations;Xa<qo.length;Xa++)Be=Be.add(qo[Xa].key)}return F.kr(Y,Be).next(function(Pc){return{jh:Pc,Kh:Se,Gh:Ke}})})})];case 1:return $=K.sent(),[2,(D.Sr=T,D.Cc=F,D.Vc.Nc(D.Cc),$)]}})})}(s.ju,r)]);case 1:return f=p.sent(),s.currentUser=r,(v=s).Lh.forEach(function(D){D.forEach(function(T){T.reject(new B(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),v.Lh.clear(),s.Sh.ji(r,f.Kh,f.Gh),[4,ws(s,f.jh)];case 2:p.sent(),p.label=3;case 3:return[2]}var v})})}function Ld(u,r){var s=pe(u),f=s.kh.get(r);if(f&&f.Vh)return Yt().add(f.key);var p=Yt(),v=s.Fh.get(r);if(!v)return p;for(var w=0,D=v;w<D.length;w++){var F=s.Nh.get(D[w]);p=p.kt(F.view.dh)}return p}function za(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f,p;return P.__generator(this,function(v){switch(v.label){case 0:return[4,ul((s=pe(u)).ju,r.query,!0)];case 1:return f=v.sent(),p=r.view.Ph(f),[2,(s.Uh&&mc(s,r.targetId,p.Rh),p)]}})})}function Af(u,r,s,f){return P.__awaiter(this,void 0,void 0,function(){var p,v;return P.__generator(this,function(w){switch(w.label){case 0:return[4,(D=(p=pe(u)).ju,T=r,F=pe(D),$=pe(F.Sr),F.persistence.runTransaction("Lookup mutation documents","readonly",function(K){return $.Lo(K,T).next(function(Y){return Y?F.Cc.kr(K,Y):Fe.resolve(null)})}))];case 1:return null===(v=w.sent())?[3,6]:"pending"!==s?[3,3]:[4,Vo(p.ph)];case 2:return w.sent(),[3,4];case 3:"acknowledged"===s||"rejected"===s?(ua(p,r,f||null),Df(p,r),function(D,T){pe(pe(D).Sr).Ko(T)}(p.ju,r)):Re(),w.label=4;case 4:return[4,ws(p,v)];case 5:return w.sent(),[3,7];case 6:Z("SyncEngine","Cannot apply mutation batch with id: "+r),w.label=7;case 7:return[2]}var D,T,F,$})})}function xi(u,r){return P.__awaiter(this,void 0,void 0,function(){var s,f,p,v,w,T,F;return P.__generator(this,function($){switch($.label){case 0:return yc(s=pe(u)),vc(s),!0!==r||!0===s.qh?[3,3]:(f=s.Sh.Ci(),[4,ca(s,f.A())]);case 1:return p=$.sent(),s.qh=!0,[4,ml(s.ph,!0)];case 2:for($.sent(),v=0,w=p;v<w.length;v++)Fo(s.ph,w[v]);return[3,7];case 3:return!1!==r||!1===s.qh?[3,7]:(T=[],F=Promise.resolve(),s.Fh.forEach(function(K,Y){s.Sh.qi(Y)?T.push(Y):F=F.then(function(){return Uo(s,Y),Mi(s.ju,Y,!0)}),Ru(s.ph,Y)}),[4,F]);case 4:return $.sent(),[4,ca(s,T)];case 5:return $.sent(),(Y=pe(s)).kh.forEach(function(ae,be){Ru(Y.ph,be)}),Y.Mh.Qc(),Y.kh=new Map,Y.$h=new rn(k.i),s.qh=!1,[4,ml(s.ph,!1)];case 6:$.sent(),$.label=7;case 7:return[2]}var Y})})}function ca(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p,v,w,D,T,F,$,K,Y,be,Se,Ke;return P.__generator(this,function(Be){switch(Be.label){case 0:f=pe(u),p=[],v=[],w=0,D=r,Be.label=1;case 1:return w<D.length?(F=void 0,($=f.Fh.get(T=D[w]))&&0!==$.length?[4,Ba(f.ju,xe($[0]))]:[3,7]):[3,13];case 2:F=Be.sent(),K=0,Y=$,Be.label=3;case 3:return K<Y.length?(be=f.Nh.get(Y[K]),[4,za(f,be)]):[3,6];case 4:(Se=Be.sent()).snapshot&&v.push(Se.snapshot),Be.label=5;case 5:return K++,[3,3];case 6:return[3,11];case 7:return[4,cl(f.ju,T)];case 8:return Ke=Be.sent(),[4,Ba(f.ju,Ke)];case 9:return F=Be.sent(),[4,aa(f,bl(Ke),T,!1)];case 10:Be.sent(),Be.label=11;case 11:p.push(F),Be.label=12;case 12:return w++,[3,1];case 13:return[2,(f.Ch.yu(v),p)]}})})}function bl(u){return at(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Vd(u){var r=pe(u);return pe(pe(r.ju).persistence).pi()}function eo(u,r,s,f){return P.__awaiter(this,void 0,void 0,function(){var p,v,w;return P.__generator(this,function(D){switch(D.label){case 0:return(p=pe(u)).qh?(Z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!p.Fh.has(r))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mf(p.ju)];case 3:return v=D.sent(),w=Qo.Xt(r,"current"===s),[4,ws(p,v,w)];case 4:return D.sent(),[3,8];case 5:return[4,Mi(p.ju,r,!0)];case 6:return D.sent(),Uo(p,r,f),[3,8];case 7:Re(),D.label=8;case 8:return[2]}})})}function Tf(u,r,s){return P.__awaiter(this,void 0,void 0,function(){var f,p,v,w,D,T,F,$,K;return P.__generator(this,function(ae){switch(ae.label){case 0:if(!(f=yc(u)).qh)return[3,10];p=0,v=r,ae.label=1;case 1:return p<v.length?f.Fh.has(w=v[p])?(Z("SyncEngine","Adding an already active target "+w),[3,5]):[4,cl(f.ju,w)]:[3,6];case 2:return D=ae.sent(),[4,Ba(f.ju,D)];case 3:return T=ae.sent(),[4,aa(f,bl(D),T.targetId,!1)];case 4:ae.sent(),Fo(f.ph,T),ae.label=5;case 5:return p++,[3,1];case 6:F=function(be){return P.__generator(this,function(Se){switch(Se.label){case 0:return f.Fh.has(be)?[4,Mi(f.ju,be,!1).then(function(){Ru(f.ph,be),Uo(f,be)}).catch(ia)]:[3,2];case 1:Se.sent(),Se.label=2;case 2:return[2]}})},$=0,K=s,ae.label=7;case 7:return $<K.length?[5,F(K[$])]:[3,10];case 8:ae.sent(),ae.label=9;case 9:return $++,[3,7];case 10:return[2]}})})}function yc(u){var r=pe(u);return r.ph.Gu.sh=Pu.bind(null,r),r.ph.Gu.qe=Ld.bind(null,r),r.ph.Gu.nh=qa.bind(null,r),r.Ch.yu=cr.bind(null,r.bh),r.Ch.Wh=Ks.bind(null,r.bh),r}function vc(u){var r=pe(u);return r.ph.Gu.ih=Fd.bind(null,r),r.ph.Gu.rh=kd.bind(null,r),r}var jd=function(){function u(){}return u.prototype.Nc=function(r){this.zh=r},u.prototype.Lr=function(r,s,f,p){var w,v=this;return 0===(w=s).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.on.length||1===w.on.length&&w.on[0].field.p())||f.isEqual(dt.min())?this.Hh(r,s):this.zh.kr(r,p).next(function(w){var D=v.Yh(s,w);return(Di(s)||ii(s))&&v.Eh(s.an,D,p,f)?v.Hh(r,s):(J()<=ve.LogLevel.DEBUG&&Z("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),ar(s)),v.zh.Lr(r,s,f).next(function(T){return D.forEach(function(F){T=T.ot(F.key,F)}),T}))})},u.prototype.Yh=function(r,s){var f=new bn(Yi(r));return s.forEach(function(p,v){v instanceof Ft&&Do(r,v)&&(f=f.add(v))}),f},u.prototype.Eh=function(r,s,f,p){if(f.size!==s.size)return!0;var v="F"===r?s.last():s.first();return!!v&&(v.hasPendingWrites||v.version.L(p)>0)},u.prototype.Hh=function(r,s){return J()<=ve.LogLevel.DEBUG&&Z("IndexFreeQueryEngine","Using full collection scan to execute query:",ar(s)),this.zh.Lr(r,s,dt.min())},u}(),dr=function(){function u(r,s){this.Dr=r,this.No=s,this.Sr=[],this.Jh=1,this.Xh=new bn(fr.kc)}return u.prototype.$o=function(r){return Fe.resolve(0===this.Sr.length)},u.prototype.ko=function(r,s,f,p){var v=this.Jh;this.Jh++;var w=new Au(v,s,f,p);this.Sr.push(w);for(var D=0,T=p;D<T.length;D++){var F=T[D];this.Xh=this.Xh.add(new fr(F.key,v)),this.Dr.Mo(r,F.key.path.h())}return Fe.resolve(w)},u.prototype.Oo=function(r,s){return Fe.resolve(this.Zh(s))},u.prototype.Bo=function(r,s){var p=this.tl(s+1),v=p<0?0:p;return Fe.resolve(this.Sr.length>v?this.Sr[v]:null)},u.prototype.qo=function(){return Fe.resolve(0===this.Sr.length?-1:this.Jh-1)},u.prototype.Uo=function(r){return Fe.resolve(this.Sr.slice())},u.prototype.Nr=function(r,s){var f=this,p=new fr(s,0),v=new fr(s,Number.POSITIVE_INFINITY),w=[];return this.Xh.Ft([p,v],function(D){var T=f.Zh(D.jc);w.push(T)}),Fe.resolve(w)},u.prototype.Or=function(r,s){var f=this,p=new bn(Je);return s.forEach(function(v){var w=new fr(v,0),D=new fr(v,Number.POSITIVE_INFINITY);f.Xh.Ft([w,D],function(T){p=p.add(T.jc)})}),Fe.resolve(this.el(p))},u.prototype.Wr=function(r,s){var f=s.path,p=f.length+1,v=f;k.F(v)||(v=v.child(""));var w=new fr(new k(v),0),D=new bn(Je);return this.Xh.xt(function(T){var F=T.key.path;return!!f.T(F)&&(F.length===p&&(D=D.add(T.jc)),!0)},w),Fe.resolve(this.el(D))},u.prototype.el=function(r){var s=this,f=[];return r.forEach(function(p){var v=s.Zh(p);null!==v&&f.push(v)}),f},u.prototype.Wo=function(r,s){var f=this;Ie(0===this.nl(s.batchId,"removed")),this.Sr.shift();var p=this.Xh;return Fe.forEach(s.mutations,function(v){var w=new fr(v.key,s.batchId);return p=p.delete(w),f.No.Go(r,v.key)}).next(function(){f.Xh=p})},u.prototype.Ko=function(r){},u.prototype.Ho=function(r,s){var f=new fr(s,0),p=this.Xh.$t(f);return Fe.resolve(s.isEqual(p&&p.key))},u.prototype.zo=function(r){return Fe.resolve()},u.prototype.nl=function(r,s){return this.tl(r)},u.prototype.tl=function(r){return 0===this.Sr.length?0:r-this.Sr[0].batchId},u.prototype.Zh=function(r){var s=this.tl(r);return s<0||s>=this.Sr.length?null:this.Sr[s]},u}(),to=function(){function u(r,s){this.Dr=r,this.sl=s,this.docs=new rn(k.i),this.size=0}return u.prototype.Er=function(r,s,f){var p=s.key,v=this.docs.get(p),w=v?v.size:0,D=this.sl(s);return this.docs=this.docs.ot(p,{ta:s,size:D,readTime:f}),this.size+=D-w,this.Dr.Mo(r,p.path.h())},u.prototype.Ar=function(r){var s=this.docs.get(r);s&&(this.docs=this.docs.remove(r),this.size-=s.size)},u.prototype.Rr=function(r,s){var f=this.docs.get(s);return Fe.resolve(f?f.ta:null)},u.prototype.getEntries=function(r,s){var f=this,p=cn();return s.forEach(function(v){var w=f.docs.get(v);p=p.ot(v,w?w.ta:null)}),Fe.resolve(p)},u.prototype.Lr=function(r,s,f){for(var p=lo(),v=new k(s.path.child("")),w=this.docs.ft(v);w.At();){var D=w.It(),F=D.value,$=F.ta,K=F.readTime;if(!s.path.T(D.key.path))break;K.L(f)<=0||$ instanceof Ft&&Do(s,$)&&(p=p.ot($.key,$))}return Fe.resolve(p)},u.prototype.il=function(r,s){return Fe.forEach(this.docs,function(f){return s(f)})},u.prototype.ra=function(r){return new Ud(this)},u.prototype.aa=function(r){return Fe.resolve(this.size)},u}(),Ud=function(u){function r(s){var f=this;return(f=u.call(this)||this).ca=s,f}return P.__extends(r,u),r.prototype.yr=function(s){var f=this,p=[];return this.wr.forEach(function(v,w){w?p.push(f.ca.Er(s,w,f.readTime)):f.ca.Ar(v)}),Fe.$n(p)},r.prototype.gr=function(s,f){return this.ca.Rr(s,f)},r.prototype.Pr=function(s,f){return this.ca.getEntries(s,f)},r}(sc),Bd=function(){function u(r){this.persistence=r,this.rl=new Xt(function(s){return Ze(s)},Xe),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.ol=0,this.al=new ll,this.targetCount=0,this.cl=xu.fa()}return u.prototype.Ce=function(r,s){return this.rl.forEach(function(f,p){return s(p)}),Fe.resolve()},u.prototype.Ea=function(r){return Fe.resolve(this.lastRemoteSnapshotVersion)},u.prototype.Ia=function(r){return Fe.resolve(this.ol)},u.prototype.wa=function(r){return this.highestTargetId=this.cl.next(),Fe.resolve(this.highestTargetId)},u.prototype.Aa=function(r,s,f){return f&&(this.lastRemoteSnapshotVersion=f),s>this.ol&&(this.ol=s),Fe.resolve()},u.prototype.ga=function(r){this.rl.set(r.target,r);var s=r.targetId;s>this.highestTargetId&&(this.cl=new xu(s),this.highestTargetId=s),r.sequenceNumber>this.ol&&(this.ol=r.sequenceNumber)},u.prototype.Ra=function(r,s){return this.ga(s),this.targetCount+=1,Fe.resolve()},u.prototype.ya=function(r,s){return this.ga(s),Fe.resolve()},u.prototype.Va=function(r,s){return this.rl.delete(s.target),this.al.Uc(s.targetId),this.targetCount-=1,Fe.resolve()},u.prototype.po=function(r,s,f){var p=this,v=0,w=[];return this.rl.forEach(function(D,T){T.sequenceNumber<=s&&null===f.get(T.targetId)&&(p.rl.delete(D),w.push(p.pa(r,T.targetId)),v++)}),Fe.$n(w).next(function(){return v})},u.prototype.ba=function(r){return Fe.resolve(this.targetCount)},u.prototype.va=function(r,s){var f=this.rl.get(s)||null;return Fe.resolve(f)},u.prototype.Sa=function(r,s,f){return this.al.Lc(s,f),Fe.resolve()},u.prototype.Ca=function(r,s,f){this.al.qc(s,f);var p=this.persistence.No,v=[];return p&&s.forEach(function(w){v.push(p.Go(r,w))}),Fe.$n(v)},u.prototype.pa=function(r,s){return this.al.Uc(s),Fe.resolve()},u.prototype.Fa=function(r,s){var f=this.al.Wc(s);return Fe.resolve(f)},u.prototype.Ho=function(r,s){return Fe.resolve(this.al.Ho(s))},u}(),Hd=function(){function u(r){var s=this;this.ul={},this.Ma=new An(0),this.Oa=!1,this.Oa=!0,this.No=r(this),this.Ka=new Bd(this),this.Dr=new En,this.vr=new to(this.Dr,function(v){return s.No.hl(v)})}return u.prototype.start=function(){return Promise.resolve()},u.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(u.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),u.prototype.Za=function(){},u.prototype.tc=function(){},u.prototype.Ic=function(){return this.Dr},u.prototype.mc=function(r){var s=this.ul[r.ti()];return s||(s=new dr(this.Dr,this.No),this.ul[r.ti()]=s),s},u.prototype.Tc=function(){return this.Ka},u.prototype.Ec=function(){return this.vr},u.prototype.runTransaction=function(r,s,f){var p=this;Z("MemoryPersistence","Starting transaction:",r);var v=new Sf(this.Ma.next());return this.No.ll(),f(v).next(function(w){return p.No._l(v).next(function(){return w})}).Fn().then(function(w){return v.br(),w})},u.prototype.fl=function(r,s){return Fe.kn(Object.values(this.ul).map(function(f){return function(){return f.Ho(r,s)}}))},u}(),Sf=function(u){function r(s){var f=this;return(f=u.call(this)||this).xa=s,f}return P.__extends(r,u),r}(ol),Fu=function(){function u(r){this.persistence=r,this.dl=new ll,this.wl=null}return u.ml=function(r){return new u(r)},Object.defineProperty(u.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),u.prototype.Da=function(r,s,f){return this.dl.Da(f,s),this.Tl.delete(f.toString()),Fe.resolve()},u.prototype.Na=function(r,s,f){return this.dl.Na(f,s),this.Tl.add(f.toString()),Fe.resolve()},u.prototype.Go=function(r,s){return this.Tl.add(s.toString()),Fe.resolve()},u.prototype.removeTarget=function(r,s){var f=this;this.dl.Uc(s.targetId).forEach(function(v){return f.Tl.add(v.toString())});var p=this.persistence.Tc();return p.Fa(r,s.targetId).next(function(v){v.forEach(function(w){return f.Tl.add(w.toString())})}).next(function(){return p.Va(r,s)})},u.prototype.ll=function(){this.wl=new Set},u.prototype._l=function(r){var s=this,f=this.persistence.Ec().ra();return Fe.forEach(this.Tl,function(p){var v=k.D(p);return s.El(r,v).next(function(w){w||f.Ar(v)})}).next(function(){return s.wl=null,f.apply(r)})},u.prototype.yc=function(r,s){var f=this;return this.El(r,s).next(function(p){p?f.Tl.delete(s.toString()):f.Tl.add(s.toString())})},u.prototype.hl=function(r){return 0},u.prototype.El=function(r,s){var f=this;return Fe.kn([function(){return Fe.resolve(f.dl.Ho(s))},function(){return f.persistence.Tc().Ho(r,s)},function(){return f.persistence.fl(r,s)}])},u}(),wl=function(){function u(r){this.Il=r.Il,this.Al=r.Al}return u.prototype.gu=function(r){this.Rl=r},u.prototype.Tu=function(r){this.gl=r},u.prototype.onMessage=function(r){this.Pl=r},u.prototype.close=function(){this.Al()},u.prototype.send=function(r){this.Il(r)},u.prototype.yl=function(){this.Rl()},u.prototype.Vl=function(r){this.gl(r)},u.prototype.pl=function(r){this.Pl(r)},u}(),no={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wa=function(u){function r(s){var f=this;return(f=u.call(this,s)||this).forceLongPolling=s.forceLongPolling,f.W=s.W,f}return P.__extends(r,u),r.prototype.Nl=function(s,f,p,v){return new Promise(function(w,D){var T=new he.XhrIo;T.listenOnce(he.EventType.COMPLETE,function(){try{switch(T.getLastErrorCode()){case he.ErrorCode.NO_ERROR:var $=T.getResponseJson();Z("Connection","XHR received:",JSON.stringify($)),w($);break;case he.ErrorCode.TIMEOUT:Z("Connection",'RPC "'+s+'" timed out'),D(new B(R.DEADLINE_EXCEEDED,"Request time out"));break;case he.ErrorCode.HTTP_ERROR:var K=T.getStatus();if(Z("Connection",'RPC "'+s+'" failed with status:',K,"response text:",T.getResponseText()),K>0){var Y=T.getResponseJson().error;if(Y&&Y.status&&Y.message){var ae=(Se=Y.status.toLowerCase().replace("_","-"),Object.values(R).indexOf(Se)>=0?Se:R.UNKNOWN);D(new B(ae,Y.message))}else D(new B(R.UNKNOWN,"Server responded with status "+T.getStatus()))}else D(new B(R.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{Z("Connection",'RPC "'+s+'" completed.')}var Se});var F=JSON.stringify(v);T.send(f,"POST",F,p,15)})},r.prototype.Pu=function(s,f){var p=[this.vl,"/","google.firestore.v1.Firestore","/",s,"/channel"],v=he.createWebChannelTransport(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(w.initMessageHeaders,f),ne.isMobileCordova()||ne.isReactNative()||ne.isElectron()||ne.isIE()||ne.isUWP()||ne.isBrowserExtension()||(w.httpHeadersOverwriteParam="$httpHeaders");var D=p.join("");Z("Connection","Creating WebChannel: "+D,w);var T=v.createWebChannel(D,w),F=!1,$=!1,K=new wl({Il:function(ae){$?Z("Connection","Not sending because WebChannel is closed:",ae):(F||(Z("Connection","Opening WebChannel transport."),T.open(),F=!0),Z("Connection","WebChannel sending:",ae),T.send(ae))},Al:function(){return T.close()}}),Y=function(ae,be){T.listen(ae,function(Se){try{be(Se)}catch(Ke){setTimeout(function(){throw Ke},0)}})};return Y(he.WebChannel.EventType.OPEN,function(){$||Z("Connection","WebChannel transport opened.")}),Y(he.WebChannel.EventType.CLOSE,function(){$||($=!0,Z("Connection","WebChannel transport closed"),K.Vl())}),Y(he.WebChannel.EventType.ERROR,function(ae){$||($=!0,Ee("Connection","WebChannel transport errored:",ae),K.Vl(new B(R.UNAVAILABLE,"The operation could not be completed")))}),Y(he.WebChannel.EventType.MESSAGE,function(ae){var be;if(!$){var Se=ae.data[0];Ie(!!Se);var Be=Se.error||(null===(be=Se[0])||void 0===be?void 0:be.error);if(Be){Z("Connection","WebChannel received error:",Be);var it=Be.status,pt=function(kt){var pn=ht[kt];if(void 0!==pn)return Xr(pn)}(it),Et=Be.message;void 0===pt&&(pt=R.INTERNAL,Et="Unknown error status: "+it+" with message "+Be.message),$=!0,K.Vl(new B(pt,Et)),T.close()}else Z("Connection","WebChannel received:",Se),K.pl(Se)}}),setTimeout(function(){K.yl()},0),K},r}(function(){function u(r){this.bl=r,this.U=r.U,this.vl=(r.ssl?"https":"http")+"://"+r.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return u.prototype.$u=function(r,s,f,p){var v=this.Dl(r,s);Z("RestConnection","Sending: ",v,f);var w={};return this.Cl(w,p),this.Nl(r,v,w,f).then(function(D){return Z("RestConnection","Received: ",D),D},function(D){throw Ee("RestConnection",r+" failed with error: ",D,"url: ",v,"request:",f),D})},u.prototype.ku=function(r,s,f,p){return this.$u(r,s,f,p)},u.prototype.Cl=function(r,s){if(r["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",r["Content-Type"]="text/plain",s)for(var f in s.Kc)s.Kc.hasOwnProperty(f)&&(r[f]=s.Kc[f])},u.prototype.Dl=function(r,s){return this.vl+"/v1/"+s+":"+no[r]},u}()),_c=function(){function u(){var r=this;this.Fl=function(){return r.xl()},this.$l=function(){return r.kl()},this.Ml=[],this.Ol()}return u.prototype.Zu=function(r){this.Ml.push(r)},u.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},u.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},u.prototype.xl=function(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var r=0,s=this.Ml;r<s.length;r++)(0,s[r])(0)},u.prototype.kl=function(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var r=0,s=this.Ml;r<s.length;r++)(0,s[r])(1)},u.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},u}(),ku=function(){function u(){}return u.prototype.Zu=function(r){},u.prototype.Di=function(){},u}();function ro(u){return new fo(u,!0)}var xt="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",la=function(){function u(){}return u.prototype.initialize=function(r){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(s){switch(s.label){case 0:return this.Sh=this.Ll(r),this.persistence=this.Bl(r),[4,this.persistence.start()];case 1:return s.sent(),this.ql=this.Ul(r),this.ju=this.Ql(r),[2]}})})},u.prototype.Ul=function(r){return null},u.prototype.Ql=function(r){return s=this.persistence,f=new jd,new pf(s,f,r.Wl);var s,f},u.prototype.Bl=function(r){if(r.persistenceSettings.jl)throw new B(R.FAILED_PRECONDITION,xt);return new Hd(Fu.ml)},u.prototype.Ll=function(r){return new hs},u.prototype.terminate=function(){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(r){switch(r.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return r.sent(),[4,this.persistence.Di()];case 2:return r.sent(),[2]}})})},u.prototype.clearPersistence=function(r,s){throw new B(R.FAILED_PRECONDITION,xt)},u}(),_p=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.initialize=function(s){return P.__awaiter(this,void 0,void 0,function(){var f,p=this;return P.__generator(this,function(v){switch(v.label){case 0:return[4,u.prototype.initialize.call(this,s)];case 1:return v.sent(),f=this.Kl.fi,this.Sh instanceof af?(this.Sh.fi={er:Af.bind(null,f),nr:eo.bind(null,f),sr:Tf.bind(null,f),pi:Vd.bind(null,f)},[4,this.Sh.start()]):[3,3];case 2:v.sent(),v.label=3;case 3:return[4,this.persistence.Xa(function(w){return P.__awaiter(p,void 0,void 0,function(){return P.__generator(this,function(D){switch(D.label){case 0:return[4,xi(this.Kl.fi,w)];case 1:return D.sent(),this.ql&&(w&&!this.ql.Ei?this.ql.start(this.ju):w||this.ql.stop()),[2]}})})})];case 4:return v.sent(),[2]}})})},r.prototype.Ll=function(s){if(s.persistenceSettings.jl&&s.persistenceSettings.synchronizeTabs){var f=S();if(!af.Ln(f))throw new B(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var p=Ji(s.bl.U,s.bl.persistenceKey);return new af(f,s.cs,p,s.clientId,s.Wl)}return new hs},r}(function(u){function r(s){var f=this;return(f=u.call(this)||this).Kl=s,f}return P.__extends(r,u),r.prototype.initialize=function(s){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(f){switch(f.label){case 0:return[4,u.prototype.initialize.call(this,s)];case 1:return f.sent(),[4,xd(this.ju)];case 2:return f.sent(),[4,this.Kl.initialize(this,s)];case 3:return f.sent(),[4,vc(this.Kl.fi)];case 4:return f.sent(),[4,Vo(this.Kl.ph)];case 5:return f.sent(),[2]}})})},r.prototype.Ul=function(s){return new Sd(this.persistence.No.wo,s.cs)},r.prototype.Bl=function(s){var f=Ji(s.bl.U,s.bl.persistenceKey),p=ro(s.bl.U);return new Vn(s.persistenceSettings.synchronizeTabs,f,s.clientId,Yn.ao(s.persistenceSettings.cacheSizeBytes),s.cs,S(),V(),p,this.Sh,s.persistenceSettings.ka)},r.prototype.Ll=function(s){return new hs},r.prototype.clearPersistence=function(s,f){return function(p){return P.__awaiter(this,void 0,void 0,function(){return P.__generator(this,function(w){switch(w.label){case 0:return $r.Ln()?[4,$r.delete(p+"main")]:[2,Promise.resolve()];case 1:return w.sent(),[2]}})})}(Ji(s,f))},r}(la)),fi=function(){function u(){}return u.prototype.initialize=function(r,s){return P.__awaiter(this,void 0,void 0,function(){var f=this;return P.__generator(this,function(p){switch(p.label){case 0:return this.ju?[3,2]:(this.ju=r.ju,this.Sh=r.Sh,this.Ku=this.Gl(s),this.ph=this.zl(s),this.bh=this.Hl(s),this.fi=this.Yl(s),this.Sh.di=function(v){return gc(f.fi,v,1)},this.ph.Gu.Jl=Tt.bind(null,this.fi),[4,ml(this.ph,this.fi.Uh)]);case 1:p.sent(),p.label=2;case 2:return[2]}})})},u.prototype.Hl=function(r){return new At},u.prototype.Gl=function(r){var f=ro(r.bl.U),p=new Wa(r.bl);return new yr(r.credentials,p,f)},u.prototype.zl=function(r){var s,f,p,v,w,D=this;return s=this.ju,f=this.Ku,p=r.cs,v=function(T){return gc(D.fi,T,0)},w=_c.Ln()?new _c:new ku,new fl(s,f,p,v,w)},u.prototype.Yl=function(r){return T=!r.persistenceSettings.jl||!r.persistenceSettings.synchronizeTabs,F=new bs(this.ju,this.ph,this.bh,this.Sh,r.Wl,r.Dh),T&&(F.qh=!0),F;var T,F},u.prototype.terminate=function(){return _s(this.ph)},u}(),Za=function(){function u(r){this.observer=r,this.muted=!1}return u.prototype.next=function(r){this.observer.next&&this.Xl(this.observer.next,r)},u.prototype.error=function(r){this.observer.error?this.Xl(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)},u.prototype.Zl=function(){this.muted=!0},u.prototype.Xl=function(r,s){var f=this;this.muted||setTimeout(function(){f.muted||r(s)},0)},u}(),fa=function(u){!function(s,f,p,v){if(!(f instanceof Array)||f.length<1)throw new B(R.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Zt(1,"element")+".")}(0,u);for(var r=0;r<u.length;++r)if(Ve("FieldPath","string",r,u[r]),0===u[r].length)throw new B(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new L(u)},da=function(u){function r(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return u.call(this,s)||this}return P.__extends(r,u),r.documentId=function(){return new r(L.v().R())},r.prototype.isEqual=function(s){if(!(s instanceof r))throw Gt("isEqual","FieldPath",1,s);return this.t_.isEqual(s.t_)},r}(fa),bp=new RegExp("[~\\*/\\[\\]]"),Oi=function(u){this.e_=u},Ho=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.n_=function(s){if(2!==s.s_)throw s.i_(1===s.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return s.We.push(s.path),null},r.prototype.isEqual=function(s){return s instanceof r},r}(Oi);function El(u,r,s){return new Cl({s_:3,r_:r.settings.r_,methodName:u.e_,o_:s},r.U,r.serializer,r.ignoreUndefinedProperties)}var bc=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.n_=function(s){return new Jn(s.path,new Ur)},r.prototype.isEqual=function(s){return s instanceof r},r}(Oi),Gd=function(u){function r(s,f){var p=this;return(p=u.call(this,s)||this).a_=f,p}return P.__extends(r,u),r.prototype.n_=function(s){var f=El(this,s,!0),p=this.a_.map(function(w){return Es(w,f)}),v=new wi(p);return new Jn(s.path,v)},r.prototype.isEqual=function(s){return this===s},r}(Oi),wc=function(u){function r(s,f){var p=this;return(p=u.call(this,s)||this).a_=f,p}return P.__extends(r,u),r.prototype.n_=function(s){var f=El(this,s,!0),p=this.a_.map(function(w){return Es(w,f)}),v=new is(p);return new Jn(s.path,v)},r.prototype.isEqual=function(s){return this===s},r}(Oi),ha=function(u){function r(s,f){var p=this;return(p=u.call(this,s)||this).c_=f,p}return P.__extends(r,u),r.prototype.n_=function(s){var f=new qi(s.serializer,_i(s.serializer,this.c_));return new Jn(s.path,f)},r.prototype.isEqual=function(s){return this===s},r}(Oi),Ya=function(){function u(r,s){if(O("GeoPoint",arguments,2),Ve("GeoPoint","number",1,r),Ve("GeoPoint","number",2,s),!isFinite(r)||r<-90||r>90)throw new B(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(s)||s<-180||s>180)throw new B(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this.u_=r,this.h_=s}return Object.defineProperty(u.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(r){return this.u_===r.u_&&this.h_===r.h_},u.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},u.prototype.Y=function(r){return Je(this.u_,r.u_)||Je(this.h_,r.h_)},u}(),pa=function(u){this.l_=u},$d=/^__.*__$/,hn=function(u,r,s){this.__=u,this.f_=r,this.d_=s},qd=function(){function u(r,s,f){this.data=r,this.We=s,this.fieldTransforms=f}return u.prototype.w_=function(r,s){var f=[];return f.push(null!==this.We?new Ut(r,this.data,this.We,s):new bo(r,this.data,s)),this.fieldTransforms.length>0&&f.push(new wo(r,this.fieldTransforms)),f},u}(),Lu=function(){function u(r,s,f){this.data=r,this.We=s,this.fieldTransforms=f}return u.prototype.w_=function(r,s){var f=[new Ut(r,this.data,this.We,s)];return this.fieldTransforms.length>0&&f.push(new wo(r,this.fieldTransforms)),f},u}();function Ec(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Cl=function(){function u(r,s,f,p,v,w){this.settings=r,this.U=s,this.serializer=f,this.ignoreUndefinedProperties=p,void 0===v&&this.m_(),this.fieldTransforms=v||[],this.We=w||[]}return Object.defineProperty(u.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),u.prototype.T_=function(r){return new u(Object.assign(Object.assign({},this.settings),r),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},u.prototype.E_=function(r){var s,f=null===(s=this.path)||void 0===s?void 0:s.child(r),p=this.T_({path:f,o_:!1});return p.I_(r),p},u.prototype.A_=function(r){var s,f=null===(s=this.path)||void 0===s?void 0:s.child(r),p=this.T_({path:f,o_:!1});return p.m_(),p},u.prototype.R_=function(r){return this.T_({path:void 0,o_:!0})},u.prototype.i_=function(r){return oo(r,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},u.prototype.contains=function(r){return void 0!==this.We.find(function(s){return r.T(s)})||void 0!==this.fieldTransforms.find(function(s){return r.T(s.field)})},u.prototype.m_=function(){if(this.path)for(var r=0;r<this.path.length;r++)this.I_(this.path.get(r))},u.prototype.I_=function(r){if(0===r.length)throw this.i_("Document fields must not be empty");if(Ec(this.s_)&&$d.test(r))throw this.i_('Document fields cannot begin and end with "__"')},u}(),zd=function(){function u(r,s,f){this.U=r,this.ignoreUndefinedProperties=s,this.serializer=f||ro(r)}return u.prototype.P_=function(r,s,f,p){return void 0===p&&(p=!1),new Cl({s_:r,methodName:s,r_:f,path:L.P(),o_:!1,g_:p},this.U,this.serializer,this.ignoreUndefinedProperties)},u}();function Dl(u,r,s,f,p,v){void 0===v&&(v={});var w=u.P_(v.merge||v.mergeFields?2:0,r,s,p);tr("Data must be an object, but it was:",w,f);var D,T,F=Go(f,w);if(v.merge)D=new Cr(w.We),T=w.fieldTransforms;else if(v.mergeFields){for(var $=[],K=0,Y=v.mergeFields;K<Y.length;K++){var ae=Y[K],be=void 0;if(ae instanceof fa)be=ae.t_;else{if("string"!=typeof ae)throw Re();be=Ic(r,ae,s)}if(!w.contains(be))throw new B(R.INVALID_ARGUMENT,"Field '"+be+"' is specified in your field mask but missing from your input data.");nr($,be)||$.push(be)}D=new Cr($),T=w.fieldTransforms.filter(function(Se){return D.Ye(Se.field)})}else D=null,T=w.fieldTransforms;return new qd(new sr(F),D,T)}function Il(u,r,s,f){var p=u.P_(1,r,s);tr("Data must be an object, but it was:",p,f);var v=[],w=new zn;tt(f,function(T,F){var $=Ic(r,T,s),K=p.A_($);if(F instanceof Ho||F instanceof pa&&F.l_ instanceof Ho)v.push($);else{var Y=Es(F,K);null!=Y&&(v.push($),w.set($,Y))}});var D=new Cr(v);return new Lu(w.Xe(),D,p.fieldTransforms)}function Cc(u,r,s,f,p,v){var w=u.P_(1,r,s),D=[Cs(r,f,s)],T=[p];if(v.length%2!=0)throw new B(R.INVALID_ARGUMENT,"Function "+r+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var F=0;F<v.length;F+=2)D.push(Cs(r,v[F])),T.push(v[F+1]);for(var $=[],K=new zn,Y=D.length-1;Y>=0;--Y)if(!nr($,D[Y])){var ae=D[Y],be=T[Y],Se=w.A_(ae);if(be instanceof Ho||be instanceof pa&&be.l_ instanceof Ho)$.push(ae);else{var Ke=Es(be,Se);null!=Ke&&($.push(ae),K.set(ae,Ke))}}var Be=new Cr($);return new Lu(K.Xe(),Be,w.fieldTransforms)}function Dc(u,r,s,f){return void 0===f&&(f=!1),Es(s,u.P_(f?4:3,r))}function Es(u,r){if(u instanceof pa&&(u=u.l_),io(u))return tr("Unsupported field value:",r,u),Go(u,r);if(u instanceof Oi)return function(s,f){if(!Ec(f.s_))throw f.i_(s.e_+"() can only be used with update() and set()");if(!f.path)throw f.i_(s.e_+"() is not currently supported inside arrays");var p=s.n_(f);p&&f.fieldTransforms.push(p)}(u,r),null;if(r.path&&r.We.push(r.path),u instanceof Array){if(r.settings.o_&&4!==r.s_)throw r.i_("Nested arrays are not supported");return function(s,f){for(var p=[],v=0,w=0,D=s;w<D.length;w++){var T=Es(D[w],f.R_(v));null==T&&(T={nullValue:"NULL_VALUE"}),p.push(T),v++}return{arrayValue:{values:p}}}(u,r)}return function(s,f){if(null===s)return{nullValue:"NULL_VALUE"};if("number"==typeof s)return _i(f.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){var p=nn.fromDate(s);return{timestampValue:Nn(f.serializer,p)}}if(s instanceof nn){var v=new nn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nn(f.serializer,v)}}if(s instanceof Ya)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:es(f.serializer,s.q)};if(s instanceof hn){var w=f.U,D=s.__;if(!D.isEqual(w))throw f.i_("Document reference is for database "+D.projectId+"/"+D.database+" but should be for database "+w.projectId+"/"+w.database);return{referenceValue:po(s.__||f.U,s.f_.path)}}if(void 0===s&&f.ignoreUndefinedProperties)return null;throw f.i_("Unsupported field value: "+an(s))}(u,r)}function Go(u,r){var s={};return We(u)?r.path&&r.path.length>0&&r.We.push(r.path):tt(u,function(f,p){var v=Es(p,r.E_(f));null!=v&&(s[f]=v)}),{mapValue:{fields:s}}}function io(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof nn||u instanceof Ya||u instanceof $n||u instanceof hn||u instanceof Oi)}function tr(u,r,s){if(!io(s)||!Cn(s)){var f=an(s);throw r.i_("an object"===f?u+" a custom object":u+" "+f)}}function Cs(u,r,s){if(r instanceof fa)return r.t_;if("string"==typeof r)return Ic(u,r);throw oo("Field path arguments must be of type string or FieldPath.",u,!1,void 0,s)}function Ic(u,r,s){try{return function(p){if(p.search(bp)>=0)throw new B(R.INVALID_ARGUMENT,"Invalid field path ("+p+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(da.bind.apply(da,P.__spreadArrays([void 0],p.split("."))))}catch(v){throw new B(R.INVALID_ARGUMENT,"Invalid field path ("+p+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(r).t_}catch(p){throw oo((f=p)instanceof Error?f.message:f.toString(),u,!1,void 0,s)}var f}function oo(u,r,s,f,p){var v=f&&!f.m(),w=void 0!==p,D="Function "+r+"() called with invalid data";s&&(D+=" (via `toFirestore()`)");var T="";return(v||w)&&(T+=" (found",v&&(T+=" in field "+f),w&&(T+=" in document "+p),T+=")"),new B(R.INVALID_ARGUMENT,(D+=". ")+u+T)}function nr(u,r){return u.some(function(s){return s.isEqual(r)})}var Vu=function(){function u(r){this.Ku=r,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return u.prototype.v_=function(r){return P.__awaiter(this,void 0,void 0,function(){var s,f=this;return P.__generator(this,function(p){switch(p.label){case 0:if(this.S_(),this.mutations.length>0)throw new B(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(v,w){return P.__awaiter(this,void 0,void 0,function(){var D,T,F,$,K,Y;return P.__generator(this,function(ae){switch(ae.label){case 0:return D=pe(v),T=ts(D.serializer)+"/documents",F={documents:w.map(function(be){return ni(D.serializer,be)})},[4,D.ku("BatchGetDocuments",T,F)];case 1:return $=ae.sent(),K=new Map,$.forEach(function(be){var Ke,Be,Se=(Ke=D.serializer,"found"in(Be=be)?function(it,pt){Ie(!!pt.found);var Et=Dn(it,pt.found.name),kt=Pt(pt.found.updateTime),pn=new sr({mapValue:{fields:pt.found.fields}});return new Ft(Et,kt,pn,{})}(Ke,Be):"missing"in Be?function(it,pt){Ie(!!pt.missing),Ie(!!pt.readTime);var Et=Dn(it,pt.missing),kt=Pt(pt.readTime);return new on(Et,kt)}(Ke,Be):Re());K.set(Se.key.toString(),Se)}),Y=[],[2,(w.forEach(function(be){var Se=K.get(be.toString());Ie(!!Se),Y.push(Se)}),Y)]}})})}(this.Ku,r)];case 1:return[2,((s=p.sent()).forEach(function(v){v instanceof on||v instanceof Ft?f.D_(v):Re()}),s)]}})})},u.prototype.set=function(r,s){this.write(s.w_(r,this.Ge(r))),this.b_.add(r.toString())},u.prototype.update=function(r,s){try{this.write(s.w_(r,this.C_(r)))}catch(f){this.p_=f}this.b_.add(r.toString())},u.prototype.delete=function(r){this.write([new Oa(r,this.Ge(r))]),this.b_.add(r.toString())},u.prototype.commit=function(){return P.__awaiter(this,void 0,void 0,function(){var r,s=this;return P.__generator(this,function(f){switch(f.label){case 0:if(this.S_(),this.p_)throw this.p_;return r=this.y_,this.mutations.forEach(function(p){r.delete(p.key.toString())}),r.forEach(function(p,v){var w=k.D(v);s.mutations.push(new zi(w,s.Ge(w)))}),[4,function(p,v){return P.__awaiter(this,void 0,void 0,function(){var w,D,T;return P.__generator(this,function(F){switch(F.label){case 0:return w=pe(p),D=ts(w.serializer)+"/documents",T={writes:v.map(function($){return $i(w.serializer,$)})},[4,w.$u("Commit",D,T)];case 1:return F.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return f.sent(),this.V_=!0,[2]}})})},u.prototype.D_=function(r){var s;if(r instanceof Ft)s=r.version;else{if(!(r instanceof on))throw Re();s=dt.min()}var f=this.y_.get(r.key.toString());if(f){if(!s.isEqual(f))throw new B(R.ABORTED,"Document version changed between two reads.")}else this.y_.set(r.key.toString(),s)},u.prototype.Ge=function(r){var s=this.y_.get(r.toString());return!this.b_.has(r.toString())&&s?Un.updateTime(s):Un.ze()},u.prototype.C_=function(r){var s=this.y_.get(r.toString());if(!this.b_.has(r.toString())&&s){if(s.isEqual(dt.min()))throw new B(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Un.updateTime(s)}return Un.exists(!0)},u.prototype.write=function(r){this.S_(),this.mutations=this.mutations.concat(r)},u.prototype.S_=function(){},u}(),Ka=function(){function u(r,s,f,p){this.cs=r,this.Ku=s,this.updateFunction=f,this.ls=p,this.N_=5,this.ys=new Pa(this.cs,"transaction_retry")}return u.prototype.run=function(){this.F_()},u.prototype.F_=function(){var r=this;this.ys.gn(function(){return P.__awaiter(r,void 0,void 0,function(){var s,f,p=this;return P.__generator(this,function(v){return s=new Vu(this.Ku),(f=this.x_(s))&&f.then(function(w){p.cs.ws(function(){return s.commit().then(function(){p.ls.resolve(w)}).catch(function(D){p.k_(D)})})}).catch(function(w){p.k_(w)}),[2]})})})},u.prototype.x_=function(r){try{var s=this.updateFunction(r);return!oe(s)&&s.catch&&s.then?s:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(f){return this.ls.reject(f),null}},u.prototype.k_=function(r){var s=this;this.N_>0&&this.M_(r)?(this.N_-=1,this.cs.ws(function(){return s.F_(),Promise.resolve()})):this.ls.reject(r)},u.prototype.M_=function(r){if("FirebaseError"===r.name){var s=r.code;return"aborted"===s||"failed-precondition"===s||!Pn(s)}return!1},u}(),Mf=function(){function u(r,s){this.credentials=r,this.cs=s,this.clientId=Rt.k(),this.O_=new ur}return u.prototype.start=function(r,s,f,p){var v=this;this.L_(),this.bl=r;var w=new ur,D=!1;return this.credentials.Hc(function(T){if(!D)return D=!0,Z("FirestoreClient","Initializing. user=",T.uid),v.B_(s,f,p,T,w).then(v.O_.resolve,v.O_.reject);v.cs.Cs(function(){return function(F,$){return P.__awaiter(this,void 0,void 0,function(){var K,Y;return P.__generator(this,function(ae){switch(ae.label){case 0:return(K=pe(F)).cs.xs(),Z("RemoteStore","RemoteStore received new credentials"),Y=er(K),K.Yu.add(3),[4,Po(K)];case 1:return ae.sent(),Y&&K.th.set("Unknown"),[4,K.Gu.Jl($)];case 2:return ae.sent(),K.Yu.delete(3),[4,dl(K)];case 3:return ae.sent(),[2]}})})}(v.ph,T)})}),this.cs.ws(function(){return v.O_.promise}),w.promise},u.prototype.enableNetwork=function(){var r=this;return this.L_(),this.cs.enqueue(function(){return r.persistence.tc(!0),(f=pe(r.ph)).Yu.delete(0),dl(f);var f})},u.prototype.B_=function(r,s,f,p,v){return P.__awaiter(this,void 0,void 0,function(){var w,D,T=this;return P.__generator(this,function(F){switch(F.label){case 0:return F.trys.push([0,3,,4]),[4,r.initialize(w={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:p,Dh:100,persistenceSettings:f})];case 1:return F.sent(),[4,s.initialize(r,w)];case 2:return F.sent(),this.persistence=r.persistence,this.Sh=r.Sh,this.ju=r.ju,this.ql=r.ql,this.Ku=s.Ku,this.ph=s.ph,this.fi=s.fi,this.q_=s.bh,this.q_.Us=vl.bind(null,this.fi),this.q_.js=Cf.bind(null,this.fi),this.persistence.Za(function(){return P.__awaiter(T,void 0,void 0,function(){return P.__generator(this,function($){switch($.label){case 0:return[4,this.terminate()];case 1:return $.sent(),[2]}})})}),v.resolve(),[3,4];case 3:if(D=F.sent(),v.reject(D),!this.U_(D))throw D;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+D),this.B_(new la,new fi,{jl:!1},p,v))];case 4:return[2]}})})},u.prototype.U_=function(r){return"FirebaseError"===r.name?r.code===R.FAILED_PRECONDITION||r.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code},u.prototype.L_=function(){if(this.cs.ps)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")},u.prototype.disableNetwork=function(){var r=this;return this.L_(),this.cs.enqueue(function(){return r.persistence.tc(!1),function(s){return P.__awaiter(this,void 0,void 0,function(){var f;return P.__generator(this,function(p){switch(p.label){case 0:return(f=pe(s)).Yu.add(0),[4,Po(f)];case 1:return p.sent(),f.th.set("Offline"),[2]}})})}(r.ph)})},u.prototype.terminate=function(){var r=this;this.cs.Ds();var s=new ur;return this.cs.bs(function(){return P.__awaiter(r,void 0,void 0,function(){var f,p;return P.__generator(this,function(v){switch(v.label){case 0:return v.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,_s(this.ph)];case 1:return v.sent(),[4,this.Sh.Di()];case 2:return v.sent(),[4,this.persistence.Di()];case 3:return v.sent(),this.credentials.Yc(),s.resolve(),[3,5];case 4:return f=v.sent(),p=Ge(f,"Failed to shutdown persistence"),s.reject(p),[3,5];case 5:return[2]}})})}),s.promise},u.prototype.waitForPendingWrites=function(){var r=this;this.L_();var s=new ur;return this.cs.ws(function(){return function(f,p){return P.__awaiter(this,void 0,void 0,function(){var v,w,D,T,F;return P.__generator(this,function($){switch($.label){case 0:er((v=pe(f)).ph)||Z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),$.label=1;case 1:return $.trys.push([1,3,,4]),[4,(K=v.ju,Y=pe(K),Y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(ae){return Y.Sr.qo(ae)}))];case 2:return-1===(w=$.sent())?[2,void p.resolve()]:((D=v.Lh.get(w)||[]).push(p),v.Lh.set(w,D),[3,4]);case 3:return T=$.sent(),F=Ge(T,"Initialization of waitForPendingWrites() operation failed"),p.reject(F),[3,4];case 4:return[2]}var K,Y})})}(r.fi,s)}),s.promise},u.prototype.listen=function(r,s,f){var p=this;this.L_();var v=new Za(f),w=new Mo(r,v,s);return this.cs.ws(function(){return Bn(p.q_,w)}),function(){v.Zl(),p.cs.ws(function(){return Xn(p.q_,w)})}},u.prototype.Q_=function(r){return P.__awaiter(this,void 0,void 0,function(){var s,f=this;return P.__generator(this,function(p){switch(p.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return p.sent(),s=new ur,[2,(this.cs.ws(function(){return function(v,w,D){return P.__awaiter(this,void 0,void 0,function(){var T,F,$;return P.__generator(this,function(K){switch(K.label){case 0:return K.trys.push([0,2,,3]),[4,(Y=v,ae=w,be=pe(Y),be.persistence.runTransaction("read document","readonly",function(Se){return be.Cc.Cr(Se,ae)}))];case 1:return(T=K.sent())instanceof Ft?D.resolve(T):T instanceof on?D.resolve(null):D.reject(new B(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return F=K.sent(),$=Ge(F,"Failed to get document '"+w+" from cache"),D.reject($),[3,3];case 3:return[2]}var Y,ae,be})})}(f.ju,r,s)}),s.promise)]}})})},u.prototype.W_=function(r,s){return void 0===s&&(s={}),P.__awaiter(this,void 0,void 0,function(){var f,p=this;return P.__generator(this,function(v){switch(v.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return v.sent(),f=new ur,[2,(this.cs.ws(function(){return w=p.q_,D=p.cs,T=r,F=s,$=f,K=new Za({next:function(ae){D.ws(function(){return Xn(w,Y)});var be=ae.docs.has(T);!be&&ae.fromCache?$.reject(new B(R.UNAVAILABLE,"Failed to get document because the client is offline.")):be&&ae.fromCache&&F&&"server"===F.source?$.reject(new B(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(ae)},error:function(ae){return $.reject(ae)}}),Y=new Mo(Zs(T.path),K,{includeMetadataChanges:!0,Xs:!0}),Bn(w,Y);var w,D,T,F,$,K,Y}),f.promise)]}})})},u.prototype.j_=function(r){return P.__awaiter(this,void 0,void 0,function(){var s,f=this;return P.__generator(this,function(p){switch(p.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return p.sent(),s=new ur,[2,(this.cs.ws(function(){return function(v,w,D){return P.__awaiter(this,void 0,void 0,function(){var T,F,$,K,Y,ae;return P.__generator(this,function(be){switch(be.label){case 0:return be.trys.push([0,2,,3]),[4,ul(v,w,!0)];case 1:return T=be.sent(),F=new Rd(w,T.Fc),$=F.wh(T.documents),K=F.yr($,!1),D.resolve(K.snapshot),[3,3];case 2:return Y=be.sent(),ae=Ge(Y,"Failed to execute query '"+w+" against cache"),D.reject(ae),[3,3];case 3:return[2]}})})}(f.ju,r,s)}),s.promise)]}})})},u.prototype.K_=function(r,s){return void 0===s&&(s={}),P.__awaiter(this,void 0,void 0,function(){var f,p=this;return P.__generator(this,function(v){switch(v.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return v.sent(),f=new ur,[2,(this.cs.ws(function(){return w=p.q_,D=p.cs,T=r,F=s,$=f,K=new Za({next:function(ae){D.ws(function(){return Xn(w,Y)}),ae.fromCache&&"server"===F.source?$.reject(new B(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(ae)},error:function(ae){return $.reject(ae)}}),Y=new Mo(T,K,{includeMetadataChanges:!0,Xs:!0}),Bn(w,Y);var w,D,T,F,$,K,Y}),f.promise)]}})})},u.prototype.write=function(r){var s=this;this.L_();var f=new ur;return this.cs.ws(function(){return function(p,v,w){return P.__awaiter(this,void 0,void 0,function(){var D,T,F,$;return P.__generator(this,function(K){switch(K.label){case 0:D=vc(p),K.label=1;case 1:return K.trys.push([1,5,,6]),[4,(Y=D.ju,ae=v,Se=pe(Y),Ke=nn.now(),Be=ae.reduce(function(it,pt){return it.add(pt.key)},Yt()),Se.persistence.runTransaction("Locally write mutations","readwrite",function(it){return Se.Cc.kr(it,Be).next(function(pt){be=pt;for(var Et=[],kt=0,pn=ae;kt<pn.length;kt++){var $o=pn[kt],kr=wn($o,be.get($o.key));null!=kr&&Et.push(new Ut($o.key,kr,In(kr.proto.mapValue),Un.exists(!0)))}return Se.Sr.ko(it,Ke,Et,ae)})}).then(function(it){var pt=it.lr(be);return{batchId:it.batchId,wr:pt}}))];case 2:return T=K.sent(),D.Sh.xi(T.batchId),function(Y,ae,be){var Se=Y.Oh[Y.currentUser.ti()];Se||(Se=new rn(Je)),Se=Se.ot(ae,be),Y.Oh[Y.currentUser.ti()]=Se}(D,T.batchId,w),[4,ws(D,T.wr)];case 3:return K.sent(),[4,Vo(D.ph)];case 4:return K.sent(),[3,6];case 5:return F=K.sent(),$=Ge(F,"Failed to persist write"),w.reject($),[3,6];case 6:return[2]}var Y,ae,be,Se,Ke,Be})})}(s.fi,r,f)}),f.promise},u.prototype.U=function(){return this.bl.U},u.prototype.G_=function(r){var s=this;this.L_();var f=new Za(r);return this.cs.ws(function(){return P.__awaiter(s,void 0,void 0,function(){return P.__generator(this,function(p){return[2,(v=this.q_,w=f,pe(v).qs.add(w),void w.next())];var v,w})})}),function(){f.Zl(),s.cs.ws(function(){return P.__awaiter(s,void 0,void 0,function(){return P.__generator(this,function(p){return[2,(v=this.q_,w=f,void pe(v).qs.delete(w))];var v,w})})})}},Object.defineProperty(u.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),u.prototype.transaction=function(r){var s=this;this.L_();var f=new ur;return this.cs.ws(function(){return new Ka(s.cs,s.Ku,r,f).run(),Promise.resolve()}),f.promise},u}();function ga(u){return function(r,s){if("object"!=typeof r||null===r)return!1;for(var f=r,p=0,v=["next","error","complete"];p<v.length;p++){var w=v[p];if(w in f&&"function"==typeof f[w])return!0}return!1}(u)}var Ac=function(){function u(r,s,f,p,v){this.U=r,this.timestampsInSnapshots=s,this.H_=f,this.Y_=p,this.J_=v}return u.prototype.X_=function(r){switch(Kt(r)){case 0:return null;case 1:return r.booleanValue;case 2:return tn(r.integerValue||r.doubleValue);case 3:return this.Z_(r.timestampValue);case 4:return this.tf(r);case 5:return r.stringValue;case 6:return this.J_(pr(r.bytesValue));case 7:return this.ef(r.referenceValue);case 8:return this.nf(r.geoPointValue);case 9:return this.sf(r.arrayValue);case 10:return this.if(r.mapValue);default:throw Re()}},u.prototype.if=function(r){var s=this,f={};return tt(r.fields||{},function(p,v){f[p]=s.X_(v)}),f},u.prototype.nf=function(r){return new Ya(tn(r.latitude),tn(r.longitude))},u.prototype.sf=function(r){var s=this;return(r.values||[]).map(function(f){return s.X_(f)})},u.prototype.tf=function(r){switch(this.H_){case"previous":var s=en(r);return null==s?null:this.X_(s);case"estimate":return this.Z_(jn(r));default:return null}},u.prototype.Z_=function(r){var s=hr(r),f=new nn(s.seconds,s.nanos);return this.timestampsInSnapshots?f:f.toDate()},u.prototype.ef=function(r){var s=x.g(r);Ie(ln(s));var f=new rt(s.get(1),s.get(3)),p=new k(s.u(5));return f.isEqual(this.U)||we("Document "+p+" contains a document reference within a different database ("+f.projectId+"/"+f.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(p)},u}(),Tc=Yn.ho,ju=function(){function u(r){var s,f,p,v,w;if(void 0===r.host){if(void 0!==r.ssl)throw new B(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Ue("settings","non-empty string","host",r.host),this.host=r.host,He("settings","boolean","ssl",r.ssl),this.ssl=null===(s=r.ssl)||void 0===s||s;if(ft("settings",r,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),He("settings","object","credentials",r.credentials),this.credentials=r.credentials,He("settings","boolean","timestampsInSnapshots",r.timestampsInSnapshots),He("settings","boolean","ignoreUndefinedProperties",r.ignoreUndefinedProperties),!0===r.timestampsInSnapshots?we("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===r.timestampsInSnapshots&&we("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(f=r.timestampsInSnapshots)||void 0===f||f,this.ignoreUndefinedProperties=null!==(p=r.ignoreUndefinedProperties)&&void 0!==p&&p,He("settings","number","cacheSizeBytes",r.cacheSizeBytes),void 0===r.cacheSizeBytes)this.cacheSizeBytes=Yn._o;else{if(r.cacheSizeBytes!==Tc&&r.cacheSizeBytes<Yn.lo)throw new B(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Yn.lo);this.cacheSizeBytes=r.cacheSizeBytes}He("settings","boolean","experimentalForceLongPolling",r.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(v=r.experimentalForceLongPolling)&&void 0!==v&&v,He("settings","boolean","experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(w=r.experimentalAutoDetectLongPolling)&&void 0!==w&&w,function(D,T,F,$){if(!0===T&&!0===$)throw new B(R.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,r.experimentalForceLongPolling,0,r.experimentalAutoDetectLongPolling)}return u.prototype.isEqual=function(r){return this.host===r.host&&this.ssl===r.ssl&&this.timestampsInSnapshots===r.timestampsInSnapshots&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties},u}(),Al=function(){function u(r,s,f,p){var v=this;if(void 0===f&&(f=new la),void 0===p&&(p=new fi),this.rf=f,this.af=p,this.cf=null,this.uf=new _e,this.INTERNAL={delete:function(){return P.__awaiter(v,void 0,void 0,function(){return P.__generator(this,function(T){switch(T.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return T.sent(),[2]}})})}},"object"==typeof r.options){var w=r;this.cf=w,this.__=u._f(w),this.ff=w.name,this.df=new dc(s)}else{var D=r;if(!D.projectId)throw new B(R.INVALID_ARGUMENT,"Must provide projectId");this.__=new rt(D.projectId,D.database),this.ff="[DEFAULT]",this.df=new oa}this.wf=new ju({})}return Object.defineProperty(u.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new zd(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),u.prototype.settings=function(r){O("Firestore.settings",arguments,1),Ve("Firestore.settings","object",1,r),r.merge&&delete(r=Object.assign(Object.assign({},this.wf),r)).merge;var s=new ju(r);if(this.lf&&!this.wf.isEqual(s))throw new B(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=s,void 0!==s.credentials&&(this.df=function(f){if(!f)return new oa;switch(f.type){case"gapi":var p=f.client;return Ie(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new ci(p,f.sessionIndex||"0");case"provider":return f.client;default:throw new B(R.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},u.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},u.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},u.prototype.enablePersistence=function(r){var s,f;if(this.lf)throw new B(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var p=!1,v=!1;if(r&&(void 0!==r.experimentalTabSynchronization&&we("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),p=null!==(f=null!==(s=r.synchronizeTabs)&&void 0!==s?s:r.experimentalTabSynchronization)&&void 0!==f&&f,v=!!r.experimentalForceOwningTab&&r.experimentalForceOwningTab,p&&v))throw new B(R.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:p,ka:v})},u.prototype.clearPersistence=function(){return P.__awaiter(this,void 0,void 0,function(){var r,s=this;return P.__generator(this,function(f){if(void 0!==this.lf&&!this.lf.z_)throw new B(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return r=new ur,[2,(this.uf.bs(function(){return P.__awaiter(s,void 0,void 0,function(){var p;return P.__generator(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return v.sent(),r.resolve(),[3,3];case 2:return p=v.sent(),r.reject(p),[3,3];case 3:return[2]}})})}),r.promise)]})})},u.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(u.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),u.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},u.prototype.onSnapshotsInSync=function(r){return this.hf(),ga(r)?this.lf.G_(r):(Ve("Firestore.onSnapshotsInSync","function",1,r),this.lf.G_({next:r}))},u.prototype.hf=function(){return this.lf||this.Ef(new la,new fi,{jl:!1}),this.lf},u.prototype.Af=function(){return new Ls(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},u.prototype.Ef=function(r,s,f){var p=this.Af();return this.lf=new Mf(this.df,this.uf),this.lf.start(p,r,s,f)},u._f=function(r){if(!Object.prototype.hasOwnProperty.call(r.options,"projectId"))throw new B(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var f=r.options.projectId;if(!f||"string"!=typeof f)throw new B(R.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(f)},Object.defineProperty(u.prototype,"app",{get:function(){if(!this.cf)throw new B(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),u.prototype.collection=function(r){return O("Firestore.collection",arguments,1),Ve("Firestore.collection","non-empty string",1,r),this.hf(),new xc(x.g(r),this,null)},u.prototype.doc=function(r){return O("Firestore.doc",arguments,1),Ve("Firestore.doc","non-empty string",1,r),this.hf(),Ds.Rf(x.g(r),this,null)},u.prototype.collectionGroup=function(r){if(O("Firestore.collectionGroup",arguments,1),Ve("Firestore.collectionGroup","non-empty string",1,r),r.indexOf("/")>=0)throw new B(R.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Nc((s=r,new Br(x.P(),s)),this,null);var s},u.prototype.runTransaction=function(r){var s=this;return O("Firestore.runTransaction",arguments,1),Ve("Firestore.runTransaction","function",1,r),this.hf().transaction(function(f){return r(new Qa(s,f))})},u.prototype.batch=function(){return this.hf(),new Tl(this)},Object.defineProperty(u,"logLevel",{get:function(){switch(J()){case ve.LogLevel.DEBUG:return"debug";case ve.LogLevel.ERROR:return"error";case ve.LogLevel.SILENT:return"silent";case ve.LogLevel.WARN:return"warn";case ve.LogLevel.INFO:return"info";case ve.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),u.setLogLevel=function(r){O("Firestore.setLogLevel",arguments,1),Ye("setLogLevel",["debug","error","silent","warn","info","verbose"],1,r),ie.setLogLevel(r)},u.prototype.gf=function(){return this.wf.timestampsInSnapshots},u.prototype.Pf=function(){return this.wf},u}(),Qa=function(){function u(r,s){this.yf=r,this.Vf=s}return u.prototype.get=function(r){var s=this;O("Transaction.get",arguments,1);var f=Ri("Transaction.get",r,this.yf);return this.Vf.v_([f.f_]).then(function(p){if(!p||1!==p.length)return Re();var v=p[0];if(v instanceof on)return new Is(s.yf,f.f_,null,!1,!1,f.d_);if(v instanceof Ft)return new Is(s.yf,f.f_,v,!1,!1,f.d_);throw Re()})},u.prototype.set=function(r,s,f){ue("Transaction.set",arguments,2,3);var p=Ri("Transaction.set",r,this.yf);f=Oc("Transaction.set",f);var v=Sr(p.d_,s,f),w=Dl(this.yf.mf,"Transaction.set",p.f_,v,null!==p.d_,f);return this.Vf.set(p.f_,w),this},u.prototype.update=function(r,s,f){for(var p,v,w=[],D=3;D<arguments.length;D++)w[D-3]=arguments[D];return"string"==typeof s||s instanceof da?(te("Transaction.update",arguments,3),p=Ri("Transaction.update",r,this.yf),v=Cc(this.yf.mf,"Transaction.update",p.f_,s,f,w)):(O("Transaction.update",arguments,2),p=Ri("Transaction.update",r,this.yf),v=Il(this.yf.mf,"Transaction.update",p.f_,s)),this.Vf.update(p.f_,v),this},u.prototype.delete=function(r){O("Transaction.delete",arguments,1);var s=Ri("Transaction.delete",r,this.yf);return this.Vf.delete(s.f_),this},u}(),Tl=function(){function u(r){this.yf=r,this.pf=[],this.bf=!1}return u.prototype.set=function(r,s,f){ue("WriteBatch.set",arguments,2,3),this.vf();var p=Ri("WriteBatch.set",r,this.yf);f=Oc("WriteBatch.set",f);var v=Sr(p.d_,s,f),w=Dl(this.yf.mf,"WriteBatch.set",p.f_,v,null!==p.d_,f);return this.pf=this.pf.concat(w.w_(p.f_,Un.ze())),this},u.prototype.update=function(r,s,f){for(var p,v,w=[],D=3;D<arguments.length;D++)w[D-3]=arguments[D];return this.vf(),"string"==typeof s||s instanceof da?(te("WriteBatch.update",arguments,3),p=Ri("WriteBatch.update",r,this.yf),v=Cc(this.yf.mf,"WriteBatch.update",p.f_,s,f,w)):(O("WriteBatch.update",arguments,2),p=Ri("WriteBatch.update",r,this.yf),v=Il(this.yf.mf,"WriteBatch.update",p.f_,s)),this.pf=this.pf.concat(v.w_(p.f_,Un.exists(!0))),this},u.prototype.delete=function(r){O("WriteBatch.delete",arguments,1),this.vf();var s=Ri("WriteBatch.delete",r,this.yf);return this.pf=this.pf.concat(new Oa(s.f_,Un.ze())),this},u.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},u.prototype.vf=function(){if(this.bf)throw new B(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},u}(),Ds=function(u){function r(s,f,p){var v=this;return(v=u.call(this,f.__,s,p)||this).f_=s,v.firestore=f,v.d_=p,v.lf=v.firestore.hf(),v}return P.__extends(r,u),r.Rf=function(s,f,p){if(s.length%2!=0)throw new B(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.R()+" has "+s.length);return new r(new k(s),f,p)},Object.defineProperty(r.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return new xc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),r.prototype.collection=function(s){if(O("DocumentReference.collection",arguments,1),Ve("DocumentReference.collection","non-empty string",1,s),!s)throw new B(R.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var f=x.g(s);return new xc(this.f_.path.child(f),this.firestore,null)},r.prototype.isEqual=function(s){if(!(s instanceof r))throw Gt("isEqual","DocumentReference",1,s);return this.firestore===s.firestore&&this.f_.isEqual(s.f_)&&this.d_===s.d_},r.prototype.set=function(s,f){ue("DocumentReference.set",arguments,1,2),f=Oc("DocumentReference.set",f);var p=Sr(this.d_,s,f),v=Dl(this.firestore.mf,"DocumentReference.set",this.f_,p,null!==this.d_,f);return this.lf.write(v.w_(this.f_,Un.ze()))},r.prototype.update=function(s,f){for(var p,v=[],w=2;w<arguments.length;w++)v[w-2]=arguments[w];return"string"==typeof s||s instanceof da?(te("DocumentReference.update",arguments,2),p=Cc(this.firestore.mf,"DocumentReference.update",this.f_,s,f,v)):(O("DocumentReference.update",arguments,1),p=Il(this.firestore.mf,"DocumentReference.update",this.f_,s)),this.lf.write(p.w_(this.f_,Un.exists(!0)))},r.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new Oa(this.f_,Un.ze())])},r.prototype.onSnapshot=function(){for(var s,f,p,v=this,w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];ue("DocumentReference.onSnapshot",arguments,1,4);var T={includeMetadataChanges:!1},F=0;"object"!=typeof w[F]||ga(w[F])||(ft("DocumentReference.onSnapshot",T=w[F],["includeMetadataChanges"]),He("DocumentReference.onSnapshot","boolean","includeMetadataChanges",T.includeMetadataChanges),F++);var $={includeMetadataChanges:T.includeMetadataChanges};if(ga(w[F])){var K=w[F];w[F]=null===(s=K.next)||void 0===s?void 0:s.bind(K),w[F+1]=null===(f=K.error)||void 0===f?void 0:f.bind(K),w[F+2]=null===(p=K.complete)||void 0===p?void 0:p.bind(K)}else Ve("DocumentReference.onSnapshot","function",F,w[F]),ce("DocumentReference.onSnapshot","function",F+1,w[F+1]),ce("DocumentReference.onSnapshot","function",F+2,w[F+2]);var Y={next:function(ae){w[F]&&w[F](v.Sf(ae))},error:w[F+1],complete:w[F+2]};return this.lf.listen(Zs(this.f_.path),$,Y)},r.prototype.get=function(s){var f=this;ue("DocumentReference.get",arguments,0,1),Of("DocumentReference.get",s);var p=this.firestore.hf();return s&&"cache"===s.source?p.Q_(this.f_).then(function(v){return new Is(f.firestore,f.f_,v,!0,v instanceof Ft&&v.Je,f.d_)}):p.W_(this.f_,s).then(function(v){return f.Sf(v)})},r.prototype.withConverter=function(s){return new r(this.f_,this.firestore,s)},r.prototype.Sf=function(s){var f=s.docs.get(this.f_);return new Is(this.firestore,this.f_,f,s.fromCache,s.hasPendingWrites,this.d_)},r}(hn),Nf=function(){function u(r,s){this.hasPendingWrites=r,this.fromCache=s}return u.prototype.isEqual=function(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache},u}(),Is=function(){function u(r,s,f,p,v,w){this.yf=r,this.f_=s,this.Df=f,this.Cf=p,this.Nf=v,this.d_=w}return u.prototype.data=function(r){var s=this;if(ue("DocumentSnapshot.data",arguments,0,1),r=Bu("DocumentSnapshot.data",r),this.Df){if(this.d_){var f=new As(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(f,r)}return new Ac(this.yf.__,this.yf.gf(),r.serverTimestamps||"none",function(p){return new Ds(p,s.yf,null)},function(p){return new _r(p)}).X_(this.Df.rn())}},u.prototype.get=function(r,s){var f=this;if(ue("DocumentSnapshot.get",arguments,1,2),s=Bu("DocumentSnapshot.get",s),this.Df){var p=this.Df.data().field(Cs("DocumentSnapshot.get",r,this.f_));if(null!==p)return new Ac(this.yf.__,this.yf.gf(),s.serverTimestamps||"none",function(v){return new Ds(v,f.yf,f.d_)},function(v){return new _r(v)}).X_(p)}},Object.defineProperty(u.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new Ds(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"metadata",{get:function(){return new Nf(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(r){if(!(r instanceof u))throw Gt("isEqual","DocumentSnapshot",1,r);return this.yf===r.yf&&this.Cf===r.Cf&&this.f_.isEqual(r.f_)&&(null===this.Df?null===r.Df:this.Df.isEqual(r.Df))&&this.d_===r.d_},u}(),As=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.prototype.data=function(s){return u.prototype.data.call(this,s)},r}(Is);function Ja(u,r,s,f,p,v,w){var D;if(p.p()){if("array-contains"===v||"array-contains-any"===v)throw new B(R.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if("in"===v||"not-in"===v){Sc(w,v);for(var T=[],F=0,$=w;F<$.length;F++)T.push(xf(f,u,$[F]));D={arrayValue:{values:T}}}else D=xf(f,u,w)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||Sc(w,v),D=Dc(s,r,w,"in"===v||"not-in"===v);var Y=Wn.create(p,v,D);return function(ae,be){if(be.hn()){var Se=Pr(ae);if(null!==Se&&!Se.isEqual(be.field))throw new B(R.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+Se.toString()+"' and '"+be.field.toString()+"'");var Ke=ss(ae);null!==Ke&&Uu(0,be.field,Ke)}var Be=function(it,pt){for(var Et=0,kt=it.filters;Et<kt.length;Et++){var pn=kt[Et];if(pt.indexOf(pn.op)>=0)return pn.op}return null}(ae,function(it){switch(it){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(be.op));if(null!==Be)throw new B(R.INVALID_ARGUMENT,Be===be.op?"Invalid query. You cannot use more than one '"+be.op.toString()+"' filter.":"Invalid query. You cannot use '"+be.op.toString()+"' filters with '"+Be.toString()+"' filters.")}(u,Y),Y}function Sl(u,r,s){if(null!==u.startAt)throw new B(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new B(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var f=new Ai(r,s);return function(p,v){if(null===ss(p)){var w=Pr(p);null!==w&&Uu(0,w,v.field)}}(u,f),f}function xf(u,r,s){if("string"==typeof s){if(""===s)throw new B(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Co(r)&&-1!==s.indexOf("/"))throw new B(R.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+s+"' contains a '/' character.");var f=r.path.child(x.g(s));if(!k.F(f))throw new B(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+f+"' is not because it has an odd number of segments ("+f.length+").");return $t(u,new k(f))}if(s instanceof hn)return $t(u,s.f_);throw new B(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+an(s)+".")}function Sc(u,r){if(!Array.isArray(u)||0===u.length)throw new B(R.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+r.toString()+"' filters.");if(u.length>10)throw new B(R.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===r||"array-contains-any"===r){if(u.indexOf(null)>=0)throw new B(R.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters cannot contain 'null' in the value array.");if(u.filter(function(s){return Number.isNaN(s)}).length>0)throw new B(R.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Uu(u,r,s){if(!s.isEqual(r))throw new B(R.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+r.toString()+"' and so you must also use '"+r.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+s.toString()+"' instead.")}function Mc(u){if(ii(u)&&0===u.on.length)throw new B(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=function(){function u(r,s,f){this.Ff=r,this.firestore=s,this.d_=f}return u.prototype.where=function(r,s,f){O("Query.where",arguments,3),Ht("Query.where",3,f);var D,F,p=Ye("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,s),v=Cs("Query.where",r),w=Ja(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,v,p,f);return new u((F=(D=this.Ff).filters.concat([w]),new Br(D.path,D.collectionGroup,D.on.slice(),F,D.limit,D.an,D.startAt,D.endAt)),this.firestore,this.d_)},u.prototype.orderBy=function(r,s){var f;if(ue("Query.orderBy",arguments,1,2),ce("Query.orderBy","non-empty string",2,s),void 0===s||"asc"===s)f="asc";else{if("desc"!==s)throw new B(R.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+s+"', expected 'asc' or 'desc'.");f="desc"}var w,T,p=Cs("Query.orderBy",r),v=Sl(this.Ff,p,f);return new u((T=(w=this.Ff).on.concat([v]),new Br(w.path,w.collectionGroup,T,w.filters.slice(),w.limit,w.an,w.startAt,w.endAt)),this.firestore,this.d_)},u.prototype.limit=function(r){return O("Query.limit",arguments,1),Ve("Query.limit","number",1,r),Jr("Query.limit",1,r),new u(Dt(this.Ff,r,"F"),this.firestore,this.d_)},u.prototype.limitToLast=function(r){return O("Query.limitToLast",arguments,1),Ve("Query.limitToLast","number",1,r),Jr("Query.limitToLast",1,r),new u(Dt(this.Ff,r,"L"),this.firestore,this.d_)},u.prototype.startAt=function(r){for(var s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];te("Query.startAt",arguments,1);var p=this.xf("Query.startAt",r,s,!0);return new u(as(this.Ff,p),this.firestore,this.d_)},u.prototype.startAfter=function(r){for(var s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];te("Query.startAfter",arguments,1);var p=this.xf("Query.startAfter",r,s,!1);return new u(as(this.Ff,p),this.firestore,this.d_)},u.prototype.endBefore=function(r){for(var s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];te("Query.endBefore",arguments,1);var p=this.xf("Query.endBefore",r,s,!0);return new u(fn(this.Ff,p),this.firestore,this.d_)},u.prototype.endAt=function(r){for(var s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];te("Query.endAt",arguments,1);var p=this.xf("Query.endAt",r,s,!1);return new u(fn(this.Ff,p),this.firestore,this.d_)},u.prototype.isEqual=function(r){if(!(r instanceof u))throw Gt("isEqual","Query",1,r);return this.firestore===r.firestore&&Wi(this.Ff,r.Ff)&&this.d_===r.d_},u.prototype.withConverter=function(r){return new u(this.Ff,this.firestore,r)},u.prototype.xf=function(r,s,f,p){if(Ht(r,1,s),s instanceof Is)return O(r,P.__spreadArrays([s],f),1),function(w,D,T,F,$){if(!F)throw new B(R.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+T+"().");for(var K=[],Y=0,ae=Ii(w);Y<ae.length;Y++){var be=ae[Y];if(be.field.p())K.push($t(D,F.key));else{var Se=F.field(be.field);if(gt(Se))throw new B(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Se){var Ke=be.field.R();throw new B(R.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Ke+"' (used as the orderBy) does not exist.")}K.push(Se)}}return new Gr(K,$)}(this.Ff,this.firestore.__,r,s.Df,p);var v=[s].concat(f);return function(w,D,T,F,$,K){var Y=w.on;if($.length>Y.length)throw new B(R.INVALID_ARGUMENT,"Too many arguments provided to "+F+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var ae=[],be=0;be<$.length;be++){var Se=$[be];if(Y[be].field.p()){if("string"!=typeof Se)throw new B(R.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+F+"(), but got a "+typeof Se);if(!Co(w)&&-1!==Se.indexOf("/"))throw new B(R.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+F+"() must be a plain document ID, but '"+Se+"' contains a slash.");var Ke=w.path.child(x.g(Se));if(!k.F(Ke))throw new B(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+F+"() must result in a valid document path, but '"+Ke+"' is not because it contains an odd number of segments.");var Be=new k(Ke);ae.push($t(D,Be))}else{var it=Dc(T,F,Se);ae.push(it)}}return new Gr(ae,K)}(this.Ff,this.firestore.__,this.firestore.mf,r,v,p)},u.prototype.onSnapshot=function(){for(var r,s,f,p=this,v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];ue("Query.onSnapshot",arguments,1,4);var D={},T=0;if("object"!=typeof v[T]||ga(v[T])||(ft("Query.onSnapshot",D=v[T],["includeMetadataChanges"]),He("Query.onSnapshot","boolean","includeMetadataChanges",D.includeMetadataChanges),T++),ga(v[T])){var F=v[T];v[T]=null===(r=F.next)||void 0===r?void 0:r.bind(F),v[T+1]=null===(s=F.error)||void 0===s?void 0:s.bind(F),v[T+2]=null===(f=F.complete)||void 0===f?void 0:f.bind(F)}else Ve("Query.onSnapshot","function",T,v[T]),ce("Query.onSnapshot","function",T+1,v[T+1]),ce("Query.onSnapshot","function",T+2,v[T+2]);var $={next:function(K){v[T]&&v[T](new Ts(p.firestore,p.Ff,K,p.d_))},error:v[T+1],complete:v[T+2]};return Mc(this.Ff),this.firestore.hf().listen(this.Ff,D,$)},u.prototype.get=function(r){var s=this;ue("Query.get",arguments,0,1),Of("Query.get",r),Mc(this.Ff);var f=this.firestore.hf();return(r&&"cache"===r.source?f.j_(this.Ff):f.K_(this.Ff,r)).then(function(p){return new Ts(s.firestore,s.Ff,p,s.d_)})},u}(),Ts=function(){function u(r,s,f,p){this.yf=r,this.$f=s,this.kf=f,this.d_=p,this.Mf=null,this.Of=null,this.metadata=new Nf(f.hasPendingWrites,f.fromCache)}return Object.defineProperty(u.prototype,"docs",{get:function(){var r=[];return this.forEach(function(s){return r.push(s)}),r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),u.prototype.forEach=function(r,s){var f=this;ue("QuerySnapshot.forEach",arguments,1,2),Ve("QuerySnapshot.forEach","function",1,r),this.kf.docs.forEach(function(p){r.call(s,f.Lf(p,f.metadata.fromCache,f.kf.Wt.has(p.key)))})},Object.defineProperty(u.prototype,"query",{get:function(){return new Nc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),u.prototype.docChanges=function(r){r&&(ft("QuerySnapshot.docChanges",r,["includeMetadataChanges"]),He("QuerySnapshot.docChanges","boolean","includeMetadataChanges",r.includeMetadataChanges));var s=!(!r||!r.includeMetadataChanges);if(s&&this.kf.Kt)throw new B(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===s||(this.Mf=function(f,p,v){if(f.Qt.m()){var w=0;return f.docChanges.map(function(T){return{type:"added",doc:v(T.doc,f.fromCache,f.Wt.has(T.doc.key)),oldIndex:-1,newIndex:w++}})}var D=f.Qt;return f.docChanges.filter(function(T){return p||3!==T.type}).map(function(T){var F=v(T.doc,f.fromCache,f.Wt.has(T.doc.key)),$=-1,K=-1;return 0!==T.type&&($=D.indexOf(T.doc.key),D=D.delete(T.doc.key)),1!==T.type&&(K=(D=D.add(T.doc)).indexOf(T.doc.key)),{type:Rc(T.type),doc:F,oldIndex:$,newIndex:K}})}(this.kf,s,this.Lf.bind(this)),this.Of=s),this.Mf},u.prototype.isEqual=function(r){if(!(r instanceof u))throw Gt("isEqual","QuerySnapshot",1,r);return this.yf===r.yf&&Wi(this.$f,r.$f)&&this.kf.isEqual(r.kf)&&this.d_===r.d_},u.prototype.Lf=function(r,s,f){return new As(this.yf,r.key,r,s,f,this.d_)},u}(),xc=function(u){function r(s,f,p){var v=this;if((v=u.call(this,Zs(s),f,p)||this).Bf=s,s.length%2!=1)throw new B(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s.R()+" has "+s.length);return v}return P.__extends(r,u),Object.defineProperty(r.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){var s=this.Ff.path.h();return s.m()?null:new Ds(new k(s),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),r.prototype.doc=function(s){ue("CollectionReference.doc",arguments,0,1),0===arguments.length&&(s=Rt.k()),Ve("CollectionReference.doc","non-empty string",1,s);var f=x.g(s);return Ds.Rf(this.Ff.path.child(f),this.firestore,this.d_)},r.prototype.add=function(s){O("CollectionReference.add",arguments,1);var f=this.d_?this.d_.toFirestore(s):s;Ve("CollectionReference.add","object",1,f);var p=this.doc();return new Ds(p.f_,this.firestore,null).set(f).then(function(){return p})},r.prototype.withConverter=function(s){return new r(this.Bf,this.firestore,s)},r}(Nc);function Oc(u,r){if(void 0===r)return{merge:!1};if(ft(u,r,["merge","mergeFields"]),He(u,"boolean","merge",r.merge),void 0!==(v=r.mergeFields)&&function(D,T,F,$,K){if(!($ instanceof Array))throw new B(R.INVALID_ARGUMENT,"Function "+D+"() requires its "+T+" option to be an array, but it was: "+an($));for(var Y=0;Y<$.length;++Y)if(!K($[Y]))throw new B(R.INVALID_ARGUMENT,"Function "+D+"() requires all "+T+" elements to be a string or a FieldPath, but the value at index "+Y+" was: "+an($[Y]))}(u,"mergeFields",0,v,function(s){return"string"==typeof s||s instanceof da}),void 0!==r.mergeFields&&void 0!==r.merge)throw new B(R.INVALID_ARGUMENT,"Invalid options passed to function "+u+'(): You cannot specify both "merge" and "mergeFields".');var v;return r}function Bu(u,r){return void 0===r?{}:(ft(u,r,["serverTimestamps"]),Te(u,0,"serverTimestamps",r.serverTimestamps,["estimate","previous","none"]),r)}function Of(u,r){ce(u,"object",1,r),r&&(ft(u,r,["source"]),Te(u,0,"source",r.source,["default","server","cache"]))}function Ri(u,r,s){if(r instanceof hn){if(r.firestore!==s)throw new B(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}throw Gt(u,"DocumentReference",1,r)}function Rc(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function Sr(u,r,s){return u?s&&(s.merge||s.mergeFields)?u.toFirestore(r,s):u.toFirestore(r):r}var Ml=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return P.__extends(r,u),r.serverTimestamp=function(){q("FieldValue.serverTimestamp",arguments);var s=new bc("serverTimestamp");return s.e_="FieldValue.serverTimestamp",new r(s)},r.delete=function(){q("FieldValue.delete",arguments);var s=new Ho("deleteField");return s.e_="FieldValue.delete",new r(s)},r.arrayUnion=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];te("FieldValue.arrayUnion",arguments,1);var p=function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];return te("arrayUnion()",arguments,1),new Gd("arrayUnion",v)}.apply(void 0,s);return p.e_="FieldValue.arrayUnion",new r(p)},r.arrayRemove=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];te("FieldValue.arrayRemove",arguments,1);var p=function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];return te("arrayRemove()",arguments,1),new wc("arrayRemove",v)}.apply(void 0,s);return p.e_="FieldValue.arrayRemove",new r(p)},r.increment=function(s){Ve("FieldValue.increment","number",1,s),O("FieldValue.increment",arguments,1);var f=new ha("increment",s);return f.e_="FieldValue.increment",new r(f)},r.prototype.isEqual=function(s){return this.l_.isEqual(s.l_)},r}(pa),Wd={Firestore:Al,GeoPoint:Ya,Timestamp:nn,Blob:_r,Transaction:Qa,WriteBatch:Tl,DocumentReference:Ds,DocumentSnapshot:Is,Query:Nc,QueryDocumentSnapshot:As,QuerySnapshot:Ts,CollectionReference:xc,FieldPath:da,FieldValue:Ml,setLogLevel:Al.setLogLevel,CACHE_SIZE_UNLIMITED:Tc};!function(u){u.INTERNAL.registerComponent(new me.Component("firestore",function(f){return p=f.getProvider("app").getImmediate(),v=f.getProvider("auth-internal"),w=new fi,D=new _p(w),new Al(p,v,D,w);var p,v,w,D},"PUBLIC").setServiceProps(Object.assign({},Wd))),u.registerVersion("@firebase/firestore","1.18.0")}(le.default)},300:(nt,de,z)=>{"use strict";function g(){for(var ie=0,J=0,Z=arguments.length;J<Z;J++)ie+=arguments[J].length;var we=Array(ie),Ee=0;for(J=0;J<Z;J++)for(var De=arguments[J],Re=0,Ie=De.length;Re<Ie;Re++,Ee++)we[Ee]=De[Re];return we}z.r(de),z.d(de,{LogLevel:()=>ve,Logger:()=>le,setLogLevel:()=>R,setUserLogHandler:()=>B});var P,Ne=[],ve=(()=>{return(ie=ve||(ve={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ve;var ie})(),ne={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},he=ve.INFO,me=((P={})[ve.DEBUG]="log",P[ve.VERBOSE]="log",P[ve.INFO]="info",P[ve.WARN]="warn",P[ve.ERROR]="error",P),Ae=function(ie,J){for(var Z=[],we=2;we<arguments.length;we++)Z[we-2]=arguments[we];if(!(J<ie.logLevel)){var Ee=(new Date).toISOString(),De=me[J];if(!De)throw new Error("Attempted to log a message with an invalid logType (value: "+J+")");console[De].apply(console,g(["["+Ee+"]  "+ie.name+":"],Z))}},le=function(){function ie(J){this.name=J,this._logLevel=he,this._logHandler=Ae,this._userLogHandler=null,Ne.push(this)}return Object.defineProperty(ie.prototype,"logLevel",{get:function(){return this._logLevel},set:function(J){if(!(J in ve))throw new TypeError('Invalid value "'+J+'" assigned to `logLevel`');this._logLevel=J},enumerable:!1,configurable:!0}),ie.prototype.setLogLevel=function(J){this._logLevel="string"==typeof J?ne[J]:J},Object.defineProperty(ie.prototype,"logHandler",{get:function(){return this._logHandler},set:function(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(J){this._userLogHandler=J},enumerable:!1,configurable:!0}),ie.prototype.debug=function(){for(var J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ve.DEBUG],J)),this._logHandler.apply(this,g([this,ve.DEBUG],J))},ie.prototype.log=function(){for(var J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ve.VERBOSE],J)),this._logHandler.apply(this,g([this,ve.VERBOSE],J))},ie.prototype.info=function(){for(var J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ve.INFO],J)),this._logHandler.apply(this,g([this,ve.INFO],J))},ie.prototype.warn=function(){for(var J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ve.WARN],J)),this._logHandler.apply(this,g([this,ve.WARN],J))},ie.prototype.error=function(){for(var J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,g([this,ve.ERROR],J)),this._logHandler.apply(this,g([this,ve.ERROR],J))},ie}();function R(ie){Ne.forEach(function(J){J.setLogLevel(ie)})}function B(ie,J){for(var Z=function(Re){var Ie=null;J&&J.level&&(Ie=ne[J.level]),Re.userLogHandler=null===ie?null:function(pe,ze){for(var tt=[],We=2;We<arguments.length;We++)tt[We-2]=arguments[We];var _t=tt.map(function(x){if(null==x)return null;if("string"==typeof x)return x;if("number"==typeof x||"boolean"==typeof x)return x.toString();if(x instanceof Error)return x.message;try{return JSON.stringify(x)}catch(H){return null}}).filter(function(x){return x}).join(" ");ze>=(null!=Ie?Ie:pe.logLevel)&&ie({level:ve[ze].toLowerCase(),message:_t,args:tt,type:pe.name})}},we=0,Ee=Ne;we<Ee.length;we++)Z(Ee[we])}},1704:(nt,de,z)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var g=z(5057),P={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ne=function(oe,W){if(!oe)throw ve(W)},ve=function(oe){return new Error("Firebase Database ("+P.SDK_VERSION+") INTERNAL ASSERT FAILED: "+oe)},ne=function(oe){for(var W=[],re=0,ye=0;ye<oe.length;ye++){var fe=oe.charCodeAt(ye);fe<128?W[re++]=fe:fe<2048?(W[re++]=fe>>6|192,W[re++]=63&fe|128):55296==(64512&fe)&&ye+1<oe.length&&56320==(64512&oe.charCodeAt(ye+1))?(fe=65536+((1023&fe)<<10)+(1023&oe.charCodeAt(++ye)),W[re++]=fe>>18|240,W[re++]=fe>>12&63|128,W[re++]=fe>>6&63|128,W[re++]=63&fe|128):(W[re++]=fe>>12|224,W[re++]=fe>>6&63|128,W[re++]=63&fe|128)}return W},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(oe,W){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var re=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[],fe=0;fe<oe.length;fe+=3){var Ze=oe[fe],Xe=fe+1<oe.length,bt=Xe?oe[fe+1]:0,ht=fe+2<oe.length,$e=ht?oe[fe+2]:0,Pn=(15&bt)<<2|$e>>6,Xr=63&$e;ht||(Xr=64,Xe||(Pn=64)),ye.push(re[Ze>>2],re[(3&Ze)<<4|bt>>4],re[Pn],re[Xr])}return ye.join("")},encodeString:function(oe,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(oe):this.encodeByteArray(ne(oe),W)},decodeString:function(oe,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(oe):function(oe){for(var W=[],re=0,ye=0;re<oe.length;){var fe=oe[re++];if(fe<128)W[ye++]=String.fromCharCode(fe);else if(fe>191&&fe<224){var Ze=oe[re++];W[ye++]=String.fromCharCode((31&fe)<<6|63&Ze)}else if(fe>239&&fe<365){var ht=((7&fe)<<18|(63&(Ze=oe[re++]))<<12|(63&(Xe=oe[re++]))<<6|63&oe[re++])-65536;W[ye++]=String.fromCharCode(55296+(ht>>10)),W[ye++]=String.fromCharCode(56320+(1023&ht))}else{Ze=oe[re++];var Xe=oe[re++];W[ye++]=String.fromCharCode((15&fe)<<12|(63&Ze)<<6|63&Xe)}}return W.join("")}(this.decodeStringToByteArray(oe,W))},decodeStringToByteArray:function(oe,W){this.init_();for(var re=W?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[],fe=0;fe<oe.length;){var Ze=re[oe.charAt(fe++)],bt=fe<oe.length?re[oe.charAt(fe)]:0,$e=++fe<oe.length?re[oe.charAt(fe)]:64,et=++fe<oe.length?re[oe.charAt(fe)]:64;if(++fe,null==Ze||null==bt||null==$e||null==et)throw Error();ye.push(Ze<<2|bt>>4),64!==$e&&(ye.push(bt<<4&240|$e>>2),64!==et&&ye.push($e<<6&192|et))}return ye},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},le=function(oe){try{return me.decodeString(oe,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function B(oe,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return W}for(var ye in W)!W.hasOwnProperty(ye)||(oe[ye]=B(oe[ye],W[ye]));return oe}var ie=function(){function oe(){var W=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(re,ye){W.resolve=re,W.reject=ye})}return oe.prototype.wrapCallback=function(W){var re=this;return function(ye,fe){ye?re.reject(ye):re.resolve(fe),"function"==typeof W&&(re.promise.catch(function(){}),1===W.length?W(ye):W(ye,fe))}},oe}();function J(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(oe){return!1}}var k=function(oe){function W(re,ye){var fe=oe.call(this,ye)||this;return fe.code=re,fe.name="FirebaseError",Object.setPrototypeOf(fe,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(fe,q.prototype.create),fe}return g.__extends(W,oe),W}(Error),q=function(){function oe(W,re,ye){this.service=W,this.serviceName=re,this.errors=ye}return oe.prototype.create=function(W){for(var re=[],ye=1;ye<arguments.length;ye++)re[ye-1]=arguments[ye];for(var fe=re[0]||{},Ze=this.service+"/"+W,Xe=this.errors[W],bt=Xe?O(Xe,fe):"Error",ht=this.serviceName+": "+bt+" ("+Ze+").",$e=new k(Ze,ht),Rn=0,et=Object.keys(fe);Rn<et.length;Rn++){var Pn=et[Rn];"_"!==Pn.slice(-1)&&(Pn in $e&&console.warn('Overwriting FirebaseError base field "'+Pn+'" can cause unexpected behavior.'),$e[Pn]=fe[Pn])}return $e},oe}();function O(oe,W){return oe.replace(te,function(re,ye){var fe=W[ye];return null!=fe?String(fe):"<"+ye+"?>"})}var te=/\{\$([^}]+)}/g;function ue(oe){return JSON.parse(oe)}var ce=function(oe){var W={},re={},ye={},fe="";try{var Ze=oe.split(".");W=ue(le(Ze[0])||""),re=ue(le(Ze[1])||""),fe=Ze[2],ye=re.d||{},delete re.d}catch(Xe){}return{header:W,claims:re,data:ye,signature:fe}},Jr=function(){function oe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}return oe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},oe.prototype.compress_=function(W,re){re||(re=0);var ye=this.W_;if("string"==typeof W)for(var fe=0;fe<16;fe++)ye[fe]=W.charCodeAt(re)<<24|W.charCodeAt(re+1)<<16|W.charCodeAt(re+2)<<8|W.charCodeAt(re+3),re+=4;else for(fe=0;fe<16;fe++)ye[fe]=W[re]<<24|W[re+1]<<16|W[re+2]<<8|W[re+3],re+=4;for(fe=16;fe<80;fe++)ye[fe]=4294967295&((Ze=ye[fe-3]^ye[fe-8]^ye[fe-14]^ye[fe-16])<<1|Ze>>>31);var et,Pn,Xe=this.chain_[0],bt=this.chain_[1],ht=this.chain_[2],$e=this.chain_[3],Rn=this.chain_[4];for(fe=0;fe<80;fe++){fe<40?fe<20?(et=$e^bt&(ht^$e),Pn=1518500249):(et=bt^ht^$e,Pn=1859775393):fe<60?(et=bt&ht|$e&(bt|ht),Pn=2400959708):(et=bt^ht^$e,Pn=3395469782);var Ze=(Xe<<5|Xe>>>27)+et+Rn+Pn+ye[fe]&4294967295;Rn=$e,$e=ht,ht=4294967295&(bt<<30|bt>>>2),bt=Xe,Xe=Ze}this.chain_[0]=this.chain_[0]+Xe&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+ht&4294967295,this.chain_[3]=this.chain_[3]+$e&4294967295,this.chain_[4]=this.chain_[4]+Rn&4294967295},oe.prototype.update=function(W,re){if(null!=W){void 0===re&&(re=W.length);for(var ye=re-this.blockSize,fe=0,Ze=this.buf_,Xe=this.inbuf_;fe<re;){if(0===Xe)for(;fe<=ye;)this.compress_(W,fe),fe+=this.blockSize;if("string"==typeof W){for(;fe<re;)if(Ze[Xe]=W.charCodeAt(fe),++fe,++Xe===this.blockSize){this.compress_(Ze),Xe=0;break}}else for(;fe<re;)if(Ze[Xe]=W[fe],++fe,++Xe===this.blockSize){this.compress_(Ze),Xe=0;break}}this.inbuf_=Xe,this.total_+=re}},oe.prototype.digest=function(){var W=[],re=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ye=this.blockSize-1;ye>=56;ye--)this.buf_[ye]=255&re,re/=256;this.compress_(this.buf_);var fe=0;for(ye=0;ye<5;ye++)for(var Ze=24;Ze>=0;Ze-=8)W[fe]=this.chain_[ye]>>Ze&255,++fe;return W},oe}(),Zt=function(){function oe(W,re){var ye=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(function(){W(ye)}).catch(function(fe){ye.error(fe)})}return oe.prototype.next=function(W){this.forEachObserver(function(re){re.next(W)})},oe.prototype.error=function(W){this.forEachObserver(function(re){re.error(W)}),this.close(W)},oe.prototype.complete=function(){this.forEachObserver(function(W){W.complete()}),this.close()},oe.prototype.subscribe=function(W,re,ye){var Ze,fe=this;if(void 0===W&&void 0===re&&void 0===ye)throw new Error("Missing Observer.");void 0===(Ze=function(oe,W){if("object"!=typeof oe||null===oe)return!1;for(var re=0,ye=["next","error","complete"];re<ye.length;re++){var fe=ye[re];if(fe in oe&&"function"==typeof oe[fe])return!0}return!1}(W)?W:{next:W,error:re,complete:ye}).next&&(Ze.next=Je),void 0===Ze.error&&(Ze.error=Je),void 0===Ze.complete&&(Ze.complete=Je);var Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{fe.finalError?Ze.error(fe.finalError):Ze.complete()}catch(bt){}}),this.observers.push(Ze),Xe},oe.prototype.unsubscribeOne=function(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},oe.prototype.forEachObserver=function(W){if(!this.finalized)for(var re=0;re<this.observers.length;re++)this.sendOne(re,W)},oe.prototype.sendOne=function(W,re){var ye=this;this.task.then(function(){if(void 0!==ye.observers&&void 0!==ye.observers[W])try{re(ye.observers[W])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})},oe.prototype.close=function(W){var re=this;this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(function(){re.observers=void 0,re.onNoObservers=void 0}))},oe}();function Je(){}function un(oe,W,re){var ye="";switch(W){case 1:ye=re?"first":"First";break;case 2:ye=re?"second":"Second";break;case 3:ye=re?"third":"Third";break;case 4:ye=re?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return oe+" failed: "+(ye+" argument ")}de.CONSTANTS=P,de.Deferred=ie,de.ErrorFactory=q,de.FirebaseError=k,de.MAX_VALUE_MILLIS=144e5,de.RANDOM_FACTOR=.5,de.Sha1=Jr,de.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},de.assert=Ne,de.assertionError=ve,de.async=function(oe,W){return function(){for(var re=[],ye=0;ye<arguments.length;ye++)re[ye]=arguments[ye];Promise.resolve(!0).then(function(){oe.apply(void 0,re)}).catch(function(fe){W&&W(fe)})}},de.base64=me,de.base64Decode=le,de.base64Encode=function(oe){var W=ne(oe);return me.encodeByteArray(W,!0)},de.calculateBackoffMillis=function(oe,W,re){void 0===W&&(W=1e3),void 0===re&&(re=2);var ye=W*Math.pow(re,oe),fe=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+fe)},de.contains=function(oe,W){return Object.prototype.hasOwnProperty.call(oe,W)},de.createSubscribe=function(oe,W){var re=new Zt(oe,W);return re.subscribe.bind(re)},de.decode=ce,de.deepCopy=function(oe){return B(void 0,oe)},de.deepExtend=B,de.errorPrefix=un,de.getUA=J,de.isAdmin=function(oe){var W=ce(oe).claims;return"object"==typeof W&&!0===W.admin},de.isBrowser=function(){return"object"==typeof self&&self.self===self},de.isBrowserExtension=function(){var oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id},de.isElectron=function(){return J().indexOf("Electron/")>=0},de.isEmpty=function(oe){for(var W in oe)if(Object.prototype.hasOwnProperty.call(oe,W))return!1;return!0},de.isIE=function(){var oe=J();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0},de.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},de.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())},de.isNode=we,de.isNodeSdk=function(){return!0===P.NODE_CLIENT||!0===P.NODE_ADMIN},de.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},de.isSafari=function(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},de.isUWP=function(){return J().indexOf("MSAppHost/")>=0},de.isValidFormat=function(oe){var re=ce(oe).claims;return!!re&&"object"==typeof re&&re.hasOwnProperty("iat")},de.isValidTimestamp=function(oe){var W=ce(oe).claims,re=Math.floor((new Date).getTime()/1e3),ye=0,fe=0;return"object"==typeof W&&(W.hasOwnProperty("nbf")?ye=W.nbf:W.hasOwnProperty("iat")&&(ye=W.iat),fe=W.hasOwnProperty("exp")?W.exp:ye+86400),!!re&&!!ye&&!!fe&&re>=ye&&re<=fe},de.issuedAtTime=function(oe){var W=ce(oe).claims;return"object"==typeof W&&W.hasOwnProperty("iat")?W.iat:null},de.jsonEval=ue,de.map=function(oe,W,re){var ye={};for(var fe in oe)Object.prototype.hasOwnProperty.call(oe,fe)&&(ye[fe]=W.call(re,oe[fe],fe,oe));return ye},de.querystring=function(oe){for(var W=[],re=function(ht,$e){Array.isArray($e)?$e.forEach(function(Rn){W.push(encodeURIComponent(ht)+"="+encodeURIComponent(Rn))}):W.push(encodeURIComponent(ht)+"="+encodeURIComponent($e))},ye=0,fe=Object.entries(oe);ye<fe.length;ye++){var Ze=fe[ye];re(Ze[0],Ze[1])}return W.length?"&"+W.join("&"):""},de.querystringDecode=function(oe){var W={};return oe.replace(/^\?/,"").split("&").forEach(function(ye){if(ye){var fe=ye.split("=");W[fe[0]]=fe[1]}}),W},de.safeGet=function(oe,W){if(Object.prototype.hasOwnProperty.call(oe,W))return oe[W]},de.stringLength=function(oe){for(var W=0,re=0;re<oe.length;re++){var ye=oe.charCodeAt(re);ye<128?W++:ye<2048?W+=2:ye>=55296&&ye<=56319?(W+=4,re++):W+=3}return W},de.stringToByteArray=function(oe){for(var W=[],re=0,ye=0;ye<oe.length;ye++){var fe=oe.charCodeAt(ye);if(fe>=55296&&fe<=56319){var Ze=fe-55296;ye++,Ne(ye<oe.length,"Surrogate pair missing trail surrogate."),fe=65536+(Ze<<10)+(oe.charCodeAt(ye)-56320)}fe<128?W[re++]=fe:fe<2048?(W[re++]=fe>>6|192,W[re++]=63&fe|128):fe<65536?(W[re++]=fe>>12|224,W[re++]=fe>>6&63|128,W[re++]=63&fe|128):(W[re++]=fe>>18|240,W[re++]=fe>>12&63|128,W[re++]=fe>>6&63|128,W[re++]=63&fe|128)}return W},de.stringify=function(oe){return JSON.stringify(oe)},de.validateArgCount=function(oe,W,re,ye){var fe;if(ye<W?fe="at least "+W:ye>re&&(fe=0===re?"none":"no more than "+re),fe)throw new Error(oe+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+fe+".")},de.validateCallback=function(oe,W,re,ye){if((!ye||re)&&"function"!=typeof re)throw new Error(un(oe,W,ye)+"must be a valid function.")},de.validateContextObject=function(oe,W,re,ye){if((!ye||re)&&("object"!=typeof re||null===re))throw new Error(un(oe,W,ye)+"must be a valid context object.")},de.validateIndexedDBOpenable=function(){return new Promise(function(oe,W){try{var re=!0,ye="validate-browser-context-for-indexeddb-analytics-module",fe=window.indexedDB.open(ye);fe.onsuccess=function(){fe.result.close(),re||window.indexedDB.deleteDatabase(ye),oe(!0)},fe.onupgradeneeded=function(){re=!1},fe.onerror=function(){var Ze;W((null===(Ze=fe.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(Ze){W(Ze)}})},de.validateNamespace=function(oe,W,re,ye){if((!ye||re)&&"string"!=typeof re)throw new Error(un(oe,W,ye)+"must be a valid firebase namespace.")}},2870:(nt,de,z)=>{"use strict";z.r(de),z.d(de,{default:()=>fs,ErrorCode:()=>Eu,EventType:()=>To,WebChannel:()=>si,XhrIo:()=>Cu,createWebChannelTransport:()=>$r});var g=function(m,I){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,V){S.__proto__=V}||function(S,V){for(var X in V)Object.prototype.hasOwnProperty.call(V,X)&&(S[X]=V[X])})(m,I)};function Ne(m){var I="function"==typeof Symbol&&Symbol.iterator,S=I&&m[I],V=0;if(S)return S.call(m);if(m&&"number"==typeof m.length)return{next:function(){return m&&V>=m.length&&(m=void 0),{value:m&&m[V++],done:!m}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")}var ne,ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he=he||{},me=ve||self;function Ae(){}function le(m){var I=typeof m;return"object"!=I?I:m?Array.isArray(m)?"array":I:"null"}function R(m){var I=le(m);return"array"==I||"object"==I&&"number"==typeof m.length}function B(m){var I=typeof m;return"object"==I&&null!=m||"function"==I}var J="closure_uid_"+(1e9*Math.random()>>>0),Z=0;function we(m,I,S){return m.call.apply(m.bind,arguments)}function Ee(m,I,S){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,V),m.apply(I,X)}}return function(){return m.apply(I,arguments)}}function De(m,I,S){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?we:Ee).apply(null,arguments)}function Re(m,I){var S=Array.prototype.slice.call(arguments,1);return function(){var V=S.slice();return V.push.apply(V,arguments),m.apply(this,V)}}var Ie=Date.now;function pe(m,I){function S(){}S.prototype=I.prototype,m.S=I.prototype,m.prototype=new S,m.prototype.constructor=m}function ze(){this.j=this.j,this.i=this.i}ze.prototype.j=!1,ze.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(m){Object.prototype.hasOwnProperty.call(m,J)&&m[J]||(m[J]=++Z)}(this)},ze.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var We=Array.prototype.indexOf?function(m,I){return Array.prototype.indexOf.call(m,I,void 0)}:function(m,I){if("string"==typeof m)return"string"!=typeof I||1!=I.length?-1:m.indexOf(I,0);for(var S=0;S<m.length;S++)if(S in m&&m[S]===I)return S;return-1},_t=Array.prototype.forEach?function(m,I,S){Array.prototype.forEach.call(m,I,S)}:function(m,I,S){for(var V=m.length,X="string"==typeof m?m.split(""):m,_e=0;_e<V;_e++)_e in X&&I.call(S,X[_e],_e,m)};function H(m){return Array.prototype.concat.apply([],arguments)}function L(m){var I=m.length;if(0<I){for(var S=Array(I),V=0;V<I;V++)S[V]=m[V];return S}return[]}function k(m){return/^[\s\xa0]*$/.test(m)}var ue,q=String.prototype.trim?function(m){return m.trim()}:function(m){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(m)[1]};function O(m,I){return-1!=m.indexOf(I)}function te(m,I){return m<I?-1:m>I?1:0}e:{var Ve=me.navigator;if(Ve){var ce=Ve.userAgent;if(ce){ue=ce;break e}}ue=""}function Ue(m,I,S){for(var V in m)I.call(S,m[V],V,m)}function He(m){var I={};for(var S in m)I[S]=m[S];return I}var Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ye(m,I){for(var S,V,X=1;X<arguments.length;X++){for(S in V=arguments[X])m[S]=V[S];for(var _e=0;_e<Te.length;_e++)S=Te[_e],Object.prototype.hasOwnProperty.call(V,S)&&(m[S]=V[S])}}function It(m){return It[" "](m),m}It[" "]=Ae;var Nt,m,an=O(ue,"Opera"),Ht=O(ue,"Trident")||O(ue,"MSIE"),ft=O(ue,"Edge"),Gt=ft||Ht,Jr=O(ue,"Gecko")&&!(O(ue.toLowerCase(),"webkit")&&!O(ue,"Edge"))&&!(O(ue,"Trident")||O(ue,"MSIE"))&&!O(ue,"Edge"),gi=O(ue.toLowerCase(),"webkit")&&!O(ue,"Edge");function Zt(){var m=me.document;return m?m.documentMode:void 0}e:{var Rt="",Je=(m=ue,Jr?/rv:([^\);]+)(\)|;)/.exec(m):ft?/Edge\/([\d\.]+)/.exec(m):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(m):gi?/WebKit\/(\S+)/.exec(m):an?/(?:Version)[ \/]?(\S+)/.exec(m):void 0);if(Je&&(Rt=Je?Je[1]:""),Ht){var Ot=Zt();if(null!=Ot&&Ot>parseFloat(Rt)){Nt=String(Ot);break e}}Nt=Rt}var un={};function Vt(m){return function(m,I){var S=un;return Object.prototype.hasOwnProperty.call(S,m)?S[m]:S[m]=I()}(m,function(){for(var I=0,S=q(String(Nt)).split("."),V=q(String(m)).split("."),X=Math.max(S.length,V.length),_e=0;0==I&&_e<X;_e++){var Ge=S[_e]||"",Mt=V[_e]||"";do{if(Ge=/(\d*)(\D*)(.*)/.exec(Ge)||["","","",""],Mt=/(\d*)(\D*)(.*)/.exec(Mt)||["","","",""],0==Ge[0].length&&0==Mt[0].length)break;I=te(0==Ge[1].length?0:parseInt(Ge[1],10),0==Mt[1].length?0:parseInt(Mt[1],10))||te(0==Ge[2].length,0==Mt[2].length)||te(Ge[2],Mt[2]),Ge=Ge[3],Mt=Mt[3]}while(0==I)}return 0<=I})}var On=me.document&&Ht&&(Zt()||parseInt(Nt,10))||void 0,_r=!Ht||9<=Number(On),Ls=Ht&&!Vt("9"),rt=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var m=!1,I=Object.defineProperty({},"passive",{get:function(){m=!0}});try{me.addEventListener("test",Ae,I),me.removeEventListener("test",Ae,I)}catch(S){}return m}();function Xt(m,I){this.type=m,this.a=this.target=I,this.defaultPrevented=!1}function nn(m,I){if(Xt.call(this,m?m.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,m){var S=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.a=I,I=m.relatedTarget){if(Jr){e:{try{It(I.nodeName);var X=!0;break e}catch(_e){}X=!1}X||(I=null)}}else"mouseover"==S?I=m.fromElement:"mouseout"==S&&(I=m.toElement);this.relatedTarget=I,V?(this.clientX=void 0!==V.clientX?V.clientX:V.pageX,this.clientY=void 0!==V.clientY?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:dt[m.pointerType]||"",this.c=m,m.defaultPrevented&&this.b()}}Xt.prototype.b=function(){this.defaultPrevented=!0},pe(nn,Xt);var dt={2:"touch",3:"pen",4:"mouse"};nn.prototype.b=function(){nn.S.b.call(this);var m=this.c;if(m.preventDefault)m.preventDefault();else if(m.returnValue=!1,Ls)try{(m.ctrlKey||112<=m.keyCode&&123>=m.keyCode)&&(m.keyCode=-1)}catch(I){}};var oe="closure_listenable_"+(1e6*Math.random()|0),W=0;function re(m,I,S,V,X){this.listener=m,this.proxy=null,this.src=I,this.type=S,this.capture=!!V,this.ca=X,this.key=++W,this.Y=this.Z=!1}function ye(m){m.Y=!0,m.listener=null,m.proxy=null,m.src=null,m.ca=null}function fe(m){this.src=m,this.a={},this.b=0}function Ze(m,I){var S=I.type;if(S in m.a){var _e,V=m.a[S],X=We(V,I);(_e=0<=X)&&Array.prototype.splice.call(V,X,1),_e&&(ye(I),0==m.a[S].length&&(delete m.a[S],m.b--))}}function Xe(m,I,S,V){for(var X=0;X<m.length;++X){var _e=m[X];if(!_e.Y&&_e.listener==I&&_e.capture==!!S&&_e.ca==V)return X}return-1}fe.prototype.add=function(m,I,S,V,X){var _e=m.toString();(m=this.a[_e])||(m=this.a[_e]=[],this.b++);var Ge=Xe(m,I,V,X);return-1<Ge?(I=m[Ge],S||(I.Z=!1)):((I=new re(I,this.src,_e,!!V,X)).Z=S,m.push(I)),I};var bt="closure_lm_"+(1e6*Math.random()|0),ht={};function $e(m,I,S,V,X){if(V&&V.once)return Pn(m,I,S,V,X);if(Array.isArray(I)){for(var _e=0;_e<I.length;_e++)$e(m,I[_e],S,V,X);return null}return S=jr(S),m&&m[oe]?m.va(I,S,B(V)?!!V.capture:!!V,X):Rn(m,I,S,!1,V,X)}function Rn(m,I,S,V,X,_e){if(!I)throw Error("Invalid event type");var Ge=B(X)?!!X.capture:!!X;if(Ge&&!_r)return null;var Mt=ji(m);if(Mt||(m[bt]=Mt=new fe(m)),(S=Mt.add(I,S,V,Ge,_e)).proxy)return S;if(V=function(){var m=bn,I=_r?function(S){return m.call(I.src,I.listener,S)}:function(S){if(!(S=m.call(I.src,I.listener,S)))return S};return I}(),S.proxy=V,V.src=m,V.listener=S,m.addEventListener)rt||(X=Ge),void 0===X&&(X=!1),m.addEventListener(I.toString(),V,X);else if(m.attachEvent)m.attachEvent(St(I.toString()),V);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(V)}return S}function Pn(m,I,S,V,X){if(Array.isArray(I)){for(var _e=0;_e<I.length;_e++)Pn(m,I[_e],S,V,X);return null}return S=jr(S),m&&m[oe]?m.wa(I,S,B(V)?!!V.capture:!!V,X):Rn(m,I,S,!0,V,X)}function Xr(m,I,S,V,X){if(Array.isArray(I))for(var _e=0;_e<I.length;_e++)Xr(m,I[_e],S,V,X);else V=B(V)?!!V.capture:!!V,S=jr(S),m&&m[oe]?(m=m.c,(I=String(I).toString())in m.a&&-1<(S=Xe(_e=m.a[I],S,V,X))&&(ye(_e[S]),Array.prototype.splice.call(_e,S,1),0==_e.length&&(delete m.a[I],m.b--))):m&&(m=ji(m))&&(I=m.a[I.toString()],m=-1,I&&(m=Xe(I,S,V,X)),(S=-1<m?I[m]:null)&&rn(S))}function rn(m){if("number"!=typeof m&&m&&!m.Y){var I=m.src;if(I&&I[oe])Ze(I.c,m);else{var S=m.type,V=m.proxy;I.removeEventListener?I.removeEventListener(S,V,m.capture):I.detachEvent?I.detachEvent(St(S),V):I.addListener&&I.removeListener&&I.removeListener(V),(S=ji(I))?(Ze(S,m),0==S.b&&(S.src=null,I[bt]=null)):ye(m)}}}function St(m){return m in ht?ht[m]:ht[m]="on"+m}function Or(m,I){var S=m.listener,V=m.ca||m.src;return m.Z&&rn(m),S.call(V,I)}function bn(m,I){if(m.Y)return!0;if(!_r){if(!I)e:{I=["window","event"];for(var S=me,V=0;V<I.length;V++)if(null==(S=S[I[V]])){I=null;break e}I=S}return Or(m,I=new nn(I,this))}return Or(m,new nn(I,this))}function ji(m){return(m=m[bt])instanceof fe?m:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function jr(m){return"function"==le(m)?m:(m[co]||(m[co]=function(I){return m.handleEvent(I)}),m[co])}function cn(){ze.call(this),this.c=new fe(this),this.J=this,this.C=null}function mi(m,I,S,V){if(!(I=m.c.a[String(I)]))return!0;I=I.concat();for(var X=!0,_e=0;_e<I.length;++_e){var Ge=I[_e];if(Ge&&!Ge.Y&&Ge.capture==S){var Mt=Ge.listener,At=Ge.ca||Ge.src;Ge.Z&&Ze(m.c,Ge),X=!1!==Mt.call(At,V)&&X}}return X&&!V.defaultPrevented}pe(cn,ze),cn.prototype[oe]=!0,(ne=cn.prototype).addEventListener=function(m,I,S,V){$e(this,m,I,S,V)},ne.removeEventListener=function(m,I,S,V){Xr(this,m,I,S,V)},ne.dispatchEvent=function(m){var I,S=this.C;if(S)for(I=[];S;S=S.C)I.push(S);S=this.J;var V=m.type||m;if("string"==typeof m)m=new Xt(m,S);else if(m instanceof Xt)m.target=m.target||S;else{var X=m;Ye(m=new Xt(V,S),X)}if(X=!0,I)for(var _e=I.length-1;0<=_e;_e--){var Ge=m.a=I[_e];X=mi(Ge,V,!0,m)&&X}if(X=mi(Ge=m.a=S,V,!0,m)&&X,X=mi(Ge,V,!1,m)&&X,I)for(_e=0;_e<I.length;_e++)X=mi(Ge=m.a=I[_e],V,!1,m)&&X;return X},ne.G=function(){if(cn.S.G.call(this),this.c){var I,m=this.c;for(I in m.a){for(var S=m.a[I],V=0;V<S.length;V++)ye(S[V]);delete m.a[I],m.b--}}this.C=null},ne.va=function(m,I,S,V){return this.c.add(String(m),I,!1,S,V)},ne.wa=function(m,I,S,V){return this.c.add(String(m),I,!0,S,V)};var lo=me.JSON.stringify;function Ta(){this.b=this.a=null}var Ui,ec=new(function(){function m(I,S,V){this.f=V,this.c=I,this.g=S,this.b=0,this.a=null}return m.prototype.get=function(){var I;return 0<this.b?(this.b--,this.a=(I=this.a).next,I.next=null):I=this.c(),I},m}())(function(){return new Vs},function(m){m.reset()},100);function Yt(){var m=Us,I=null;return m.a&&(I=m.a,m.a=m.a.next,m.a||(m.b=null),I.next=null),I}function Vs(){this.next=this.b=this.a=null}function js(m){me.setTimeout(function(){throw m},0)}function Ko(m,I){Ui||function(){var m=me.Promise.resolve(void 0);Ui=function(){m.then(Mn)}}(),Qo||(Ui(),Qo=!0),Us.add(m,I)}Ta.prototype.add=function(m,I){var S=ec.get();S.set(m,I),this.b?this.b.next=S:this.a=S,this.b=S},Vs.prototype.set=function(m,I){this.a=m,this.b=I,this.next=null},Vs.prototype.reset=function(){this.next=this.b=this.a=null};var Qo=!1,Us=new Ta;function Mn(){for(var m;m=Yt();){try{m.a.call(m.b)}catch(S){js(S)}var I=ec;I.g(m),I.b<I.f&&(I.b++,m.next=I.a,I.a=m)}Qo=!1}function br(m,I){cn.call(this),this.b=m||1,this.a=I||me,this.f=De(this.Ya,this),this.g=Ie()}function ei(m){m.aa=!1,m.M&&(m.a.clearTimeout(m.M),m.M=null)}function qn(m,I,S){if("function"==le(m))S&&(m=De(m,S));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=De(m.handleEvent,m)}return 2147483647<Number(I)?-1:me.setTimeout(m,I||0)}function tc(m){m.a=qn(function(){m.a=null,m.c&&(m.c=!1,tc(m))},m.h);var I=m.b;m.b=null,m.g.apply(null,I)}pe(br,cn),(ne=br.prototype).aa=!1,ne.M=null,ne.Ya=function(){if(this.aa){var m=Ie()-this.g;0<m&&m<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-m):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(ei(this),this.start()))}},ne.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ie())},ne.G=function(){br.S.G.call(this),ei(this),delete this.a};var wr=function(m){function I(S,V,X){var _e=m.call(this)||this;return _e.g=null!=X?S.bind(X):S,_e.h=V,_e.b=null,_e.c=!1,_e.a=null,_e}return function(m,I){function S(){this.constructor=m}g(m,I),m.prototype=null===I?Object.create(I):(S.prototype=I.prototype,new S)}(I,m),I.prototype.f=function(S){this.b=arguments,this.a?this.c=!0:tc(this)},I.prototype.G=function(){m.prototype.G.call(this),this.a&&(me.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},I}(ze);function qe(m){ze.call(this),this.b=m,this.a={}}pe(qe,ze);var gt=[];function en(m,I,S,V){Array.isArray(S)||(S&&(gt[0]=S.toString()),S=gt);for(var X=0;X<S.length;X++){var _e=$e(I,S[X],V||m.handleEvent,!1,m.b||m);if(!_e)break;m.a[_e.key]=_e}}function jn(m){Ue(m.a,function(I,S){this.a.hasOwnProperty(S)&&rn(I)},m),m.a={}}function vi(){this.a=!0}function jt(m,I,S,V){m.info(function(){return"XMLHTTP TEXT ("+I+"): "+function(m,I){if(!m.a)return I;if(!I)return null;try{var S=JSON.parse(I);if(S)for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var V=S[m];if(!(2>V.length)){var X=V[1];if(Array.isArray(X)&&!(1>X.length)){var _e=X[0];if("noop"!=_e&&"stop"!=_e&&"close"!=_e)for(var Ge=1;Ge<X.length;Ge++)X[Ge]=""}}}return lo(S)}catch(Mt){return I}}(m,S)+(V?" "+V:"")})}qe.prototype.G=function(){qe.S.G.call(this),jn(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vi.prototype.info=function(){};var ct=null;function Bi(){return ct=ct||new cn}function hr(m){Xt.call(this,"serverreachability",m)}function tn(m){var I=Bi();I.dispatchEvent(new hr(I,m))}function pr(m){Xt.call(this,"statevent",m)}function $t(m){var I=Bi();I.dispatchEvent(new pr(I,m))}function Hi(m){Xt.call(this,"timingevent",m)}function gr(m,I){if("function"!=le(m))throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){m()},I)}pe(hr,Xt),pe(pr,Xt),pe(Hi,Xt);var Qn={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},qt={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Xo(){}function Bs(){}Xo.prototype.a=null;var _i,fo={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ho(){Xt.call(this,"d")}function Gi(){Xt.call(this,"c")}function Nn(){}function es(m,I,S,V){this.g=m,this.c=I,this.f=S,this.T=V||1,this.J=new qe(this),this.P=bi,this.R=new br(m=Gt?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}pe(ho,Xt),pe(Gi,Xt),pe(Nn,Xo),_i=new Nn;var bi=45e3,Pt={},po={};function go(m,I,S){m.H=1,m.i=yo(Er(I)),m.j=S,m.I=!0,ni(m,null)}function ni(m,I){m.u=Ie(),Hs(m),m.l=Er(m.i);var S=m.l,V=m.T;Array.isArray(V)||(V=[String(V)]),Un(S.b,"t",V),m.D=0,m.a=Ra(m.g,m.g.C?I:null),0<m.O&&(m.F=new wr(De(m.Ca,m,m.a),m.O)),en(m.J,m.a,"readystatechange",m.Wa),I=m.B?He(m.B):{},m.j?(m.m||(m.m="POST"),I["Content-Type"]="application/x-www-form-urlencoded",m.a.ba(m.l,m.m,m.j,I)):(m.m="GET",m.a.ba(m.l,m.m,null,I)),tn(1),function(m,I,S,V,X,_e){m.info(function(){if(m.a)if(_e)for(var Ge="",Mt=_e.split("&"),At=0;At<Mt.length;At++){var Bn=Mt[At].split("=");if(1<Bn.length){var Xn=Bn[0];Bn=Bn[1];var cr=Xn.split("_");Ge=2<=cr.length&&"type"==cr[1]?Ge+(Xn+"=")+Bn+"&":Ge+(Xn+"=redacted&")}}else Ge=null;else Ge=_e;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+I+"\n"+S+"\n"+Ge})}(m.c,m.m,m.l,m.f,m.T,m.j)}function Dn(m,I,S){for(var V=!0;!m.A&&m.D<S.length;){var X=hu(m,S);if(X==po){4==I&&(m.h=4,$t(14),V=!1),jt(m.c,m.f,null,"[Incomplete Response]");break}if(X==Pt){m.h=4,$t(15),jt(m.c,m.f,S,"[Invalid Chunk]"),V=!1;break}jt(m.c,m.f,X,null),pu(m,X)}4==I&&0==S.length&&(m.h=1,$t(16),V=!1),m.b=m.b&&V,V?0<S.length&&!m.W&&(m.W=!0,(I=m.g).a==m&&I.V&&!I.F&&(I.c.info("Great, no buffering proxy detected. Bytes received: "+S.length),Zn(I),I.F=!0)):(jt(m.c,m.f,S,"[Invalid Chunked Response]"),$i(m),Ma(m))}function hu(m,I){var S=m.D,V=I.indexOf("\n",S);return-1==V?po:(S=Number(I.substring(S,V)),isNaN(S)?Pt:(V+=1)+S>I.length?po:(I=I.substr(V,S),m.D=V+S,I))}function Hs(m){m.U=Ie()+m.P,ts(m,m.P)}function ts(m,I){if(null!=m.o)throw Error("WatchDog timer not null");m.o=gr(De(m.Ua,m),I)}function Gs(m){m.o&&(me.clearTimeout(m.o),m.o=null)}function Ma(m){0==m.g.v||m.A||Ao(m.g,m)}function $i(m){Gs(m);var I=m.F;I&&"function"==typeof I.ja&&I.ja(),m.F=null,ei(m.R),jn(m.J),m.a&&(I=m.a,m.a=null,I.abort(),I.ja())}function pu(m,I){try{var S=m.g;if(0!=S.v&&(S.a==m||bo(S.b,m)))if(S.I=m.N,!m.C&&bo(S.b,m)&&3==S.v){try{var V=S.ka.a.parse(I)}catch(An){V=null}if(Array.isArray(V)&&3==V.length){var X=V;if(0==X[0])e:if(S.j)S.oa=X[1],0<S.oa-S.P&&37500>X[2]&&S.H&&0==S.o&&!S.m&&(S.m=gr(De(S.Ra,S),6e3));else{if(S.a){if(!(S.a.u+3e3<m.u))break e;us(S),fn(S)}Ki(S),$t(18)}if(1>=xa(S.b)&&S.ea){try{S.ea()}catch(An){}S.ea=void 0}}else Gr(S,11)}else if((m.C||S.a==m)&&us(S),!k(I))for(I=V=S.ka.a.parse(I),V=0;V<I.length;V++)if(S.P=(X=I[V])[0],X=X[1],2==S.v)if("c"==X[0]){S.J=X[1],S.ga=X[2];var _e=X[3];null!=_e&&(S.ha=_e,S.c.info("VER="+S.ha));var Ge=X[4];null!=Ge&&(S.pa=Ge,S.c.info("SVER="+S.pa));var Mt=X[5];if(null!=Mt&&"number"==typeof Mt&&0<Mt){var At=1.5*Mt;S.D=At,S.c.info("backChannelRequestTimeoutMs_="+At)}At=S;var Bn=m.a;if(Bn){var Xn=Bn.a?Bn.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var cr=At.b;!cr.a&&(O(Xn,"spdy")||O(Xn,"quic")||O(Xn,"h2"))&&(cr.f=cr.g,cr.a=new Set,cr.b&&(Ut(cr,cr.b),cr.b=null))}if(At.A){var Ks=Bn.a?Bn.a.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(At.na=Ks,ln(At.B,At.A,Ks))}}S.v=3,S.f&&S.f.ta(),S.V&&(S.N=Ie()-m.u,S.c.info("Handshake RTT: "+S.N+"ms"));var So=m;if((At=S).la=Ys(At,At.C?At.ga:null,At.fa),So.C){wu(At.b,So);var Mo=So,Ir=At.D;Ir&&Mo.setTimeout(Ir),Mo.o&&(Gs(Mo),Hs(Mo)),At.a=So}else Io(At);0<S.g.length&&ar(S)}else"stop"!=X[0]&&"close"!=X[0]||Gr(S,7);else 3==S.v&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?Gr(S,7):as(S):"noop"!=X[0]&&S.f&&S.f.sa(X),S.o=0);tn(4)}catch(An){}}function gu(m,I){if(m.forEach&&"function"==typeof m.forEach)m.forEach(I,void 0);else if(R(m)||"string"==typeof m)_t(m,I,void 0);else{if(m.L&&"function"==typeof m.L)var S=m.L();else if(m.K&&"function"==typeof m.K)S=void 0;else if(R(m)||"string"==typeof m){S=[];for(var V=m.length,X=0;X<V;X++)S.push(X)}else for(X in S=[],V=0,m)S[V++]=X;X=(V=function(m){if(m.K&&"function"==typeof m.K)return m.K();if("string"==typeof m)return m.split("");if(R(m)){for(var I=[],S=m.length,V=0;V<S;V++)I.push(m[V]);return I}for(V in I=[],S=0,m)I[S++]=m[V];return I}(m)).length;for(var _e=0;_e<X;_e++)I.call(void 0,V[_e],S&&S[_e],m)}}function ns(m,I){this.b={},this.a=[],this.c=0;var S=arguments.length;if(1<S){if(S%2)throw Error("Uneven number of arguments");for(var V=0;V<S;V+=2)this.set(arguments[V],arguments[V+1])}else if(m)if(m instanceof ns)for(S=m.L(),V=0;V<S.length;V++)this.set(S[V],m.get(S[V]));else for(V in m)this.set(V,m[V])}function mu(m){if(m.c!=m.a.length){for(var I=0,S=0;I<m.a.length;){var V=m.a[I];mo(m.b,V)&&(m.a[S++]=V),I++}m.a.length=S}if(m.c!=m.a.length){var X={};for(S=I=0;I<m.a.length;)mo(X,V=m.a[I])||(m.a[S++]=V,X[V]=1),I++;m.a.length=S}}function mo(m,I){return Object.prototype.hasOwnProperty.call(m,I)}(ne=es.prototype).setTimeout=function(m){this.P=m},ne.Wa=function(m){m=m.target;var I=this.F;I&&3==Pr(m)?I.f():this.Ca(m)},ne.Ca=function(m){try{if(m==this.a)e:{var I=Pr(this.a),S=this.a.ua(),V=this.a.X();if(!(3>I||3==I&&!Gt&&!this.a.$())){this.A||4!=I||7==S||tn(8==S||0>=V?3:2),Gs(this);var X=this.a.X();this.N=X;var _e=this.a.$();if(this.b=200==X,function(m,I,S,V,X,_e,Ge){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+I+"\n"+S+"\n"+_e+" "+Ge})}(this.c,this.m,this.l,this.f,this.T,I,X),this.b){if(this.V&&!this.C){t:{if(this.a){var Ge,Mt=this.a;if((Ge=Mt.a?Mt.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ge)){var At=Ge;break t}}At=null}if(!At){this.b=!1,this.h=3,$t(12),$i(this),Ma(this);break e}jt(this.c,this.f,At,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,pu(this,At)}this.I?(Dn(this,I,_e),Gt&&this.b&&3==I&&(en(this.J,this.R,"tick",this.Va),this.R.start())):(jt(this.c,this.f,_e,null),pu(this,_e)),4==I&&$i(this),this.b&&!this.A&&(4==I?Ao(this.g,this):(this.b=!1,Hs(this)))}else 400==X&&0<_e.indexOf("Unknown SID")?(this.h=3,$t(12)):(this.h=0,$t(13)),$i(this),Ma(this)}}}catch(Bn){}},ne.Va=function(){if(this.a){var m=Pr(this.a),I=this.a.$();this.D<I.length&&(Gs(this),Dn(this,m,I),this.b&&4!=m&&Hs(this))}},ne.cancel=function(){this.A=!0,$i(this)},ne.Ua=function(){this.o=null;var m=Ie();0<=m-this.U?(function(m,I){m.info(function(){return"TIMEOUT: "+I})}(this.c,this.l),2!=this.H&&(tn(3),$t(17)),$i(this),this.h=2,Ma(this)):ts(this,this.U-m)},(ne=ns.prototype).K=function(){mu(this);for(var m=[],I=0;I<this.a.length;I++)m.push(this.b[this.a[I]]);return m},ne.L=function(){return mu(this),this.a.concat()},ne.get=function(m,I){return mo(this.b,m)?this.b[m]:I},ne.set=function(m,I){mo(this.b,m)||(this.c++,this.a.push(m)),this.b[m]=I},ne.forEach=function(m,I){for(var S=this.L(),V=0;V<S.length;V++){var X=S[V],_e=this.get(X);m.call(I,_e,X,this)}};var yu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rs(m,I){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,m instanceof rs){this.a=void 0!==I?I:m.a,ri(this,m.f),this.j=m.j,$s(this,m.c),qs(this,m.h),this.g=m.g,I=m.b;var S=new Ei;S.c=I.c,I.a&&(S.a=new ns(I.a),S.b=I.b),vu(this,S),this.i=m.i}else m&&(S=String(m).match(yu))?(this.a=!!I,ri(this,S[1]||"",!0),this.j=_o(S[2]||""),$s(this,S[3]||"",!0),qs(this,S[4]),this.g=_o(S[5]||"",!0),vu(this,S[6]||"",!0),this.i=_o(S[7]||"")):(this.a=!!I,this.b=new Ei(null,this.a))}function Er(m){return new rs(m)}function ri(m,I,S){m.f=S?_o(I,!0):I,m.f&&(m.f=m.f.replace(/:$/,""))}function $s(m,I,S){m.c=S?_o(I,!0):I}function qs(m,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);m.h=I}else m.h=null}function vu(m,I,S){I instanceof Ei?(m.b=I,function(m,I){I&&!m.f&&(Cr(m),m.c=null,m.a.forEach(function(S,V){var X=V.toLowerCase();V!=X&&(Jn(this,V),Un(this,X,S))},m)),m.f=I}(m.b,m.a)):(S||(I=Ur(I,qi)),m.b=new Ei(I,m.a))}function ln(m,I,S){m.b.set(I,S)}function yo(m){return ln(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ie()).toString(36)),m}function _o(m,I){return m?I?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ur(m,I,S){return"string"==typeof m?(m=encodeURI(m).replace(I,wi),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wi(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}rs.prototype.toString=function(){var m=[],I=this.f;I&&m.push(Ur(I,nc,!0),":");var S=this.c;return(S||"file"==I)&&(m.push("//"),(I=this.j)&&m.push(Ur(I,nc,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(S=this.h)&&m.push(":",String(S))),(S=this.g)&&(this.c&&"/"!=S.charAt(0)&&m.push("/"),m.push(Ur(S,"/"==S.charAt(0)?rc:is,!0))),(S=this.b.toString())&&m.push("?",S),(S=this.i)&&m.push("#",Ur(S,ic)),m.join("")};var nc=/[#\/\?@]/g,is=/[#\?:]/g,rc=/[#\?]/g,qi=/[#\?@]/g,ic=/#/g;function Ei(m,I){this.b=this.a=null,this.c=m||null,this.f=!!I}function Cr(m){m.a||(m.a=new ns,m.b=0,m.c&&function(m,I){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var V=m[S].indexOf("="),X=null;if(0<=V){var _e=m[S].substring(0,V);X=m[S].substring(V+1)}else _e=m[S];I(_e,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}(m.c,function(I,S){m.add(decodeURIComponent(I.replace(/\+/g," ")),S)}))}function Jn(m,I){Cr(m),I=or(m,I),mo(m.a.b,I)&&(m.c=null,m.b-=m.a.get(I).length,mo((m=m.a).b,I)&&(delete m.b[I],m.c--,m.a.length>2*m.c&&mu(m)))}function Na(m,I){return Cr(m),I=or(m,I),mo(m.a.b,I)}function Un(m,I,S){Jn(m,I),0<S.length&&(m.c=null,m.a.set(or(m,I),L(S)),m.b+=S.length)}function or(m,I){return I=String(I),m.f&&(I=I.toLowerCase()),I}function _u(m,I){this.b=m,this.a=I}function os(m){this.g=m||wn,m=me.PerformanceNavigationTiming?0<(m=me.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(me.ia&&me.ia.ya&&me.ia.ya()&&me.ia.ya().qb),this.f=m?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ne=Ei.prototype).add=function(m,I){Cr(this),this.c=null,m=or(this,m);var S=this.a.get(m);return S||this.a.set(m,S=[]),S.push(I),this.b+=1,this},ne.forEach=function(m,I){Cr(this),this.a.forEach(function(S,V){_t(S,function(X){m.call(I,X,V,this)},this)},this)},ne.L=function(){Cr(this);for(var m=this.a.K(),I=this.a.L(),S=[],V=0;V<I.length;V++)for(var X=m[V],_e=0;_e<X.length;_e++)S.push(I[V]);return S},ne.K=function(m){Cr(this);var I=[];if("string"==typeof m)Na(this,m)&&(I=H(I,this.a.get(or(this,m))));else{m=this.a.K();for(var S=0;S<m.length;S++)I=H(I,m[S])}return I},ne.set=function(m,I){return Cr(this),this.c=null,Na(this,m=or(this,m))&&(this.b-=this.a.get(m).length),this.a.set(m,[I]),this.b+=1,this},ne.get=function(m,I){return m&&0<(m=this.K(m)).length?String(m[0]):I},ne.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var m=[],I=this.a.L(),S=0;S<I.length;S++){var V=I[S],X=encodeURIComponent(String(V));V=this.K(V);for(var _e=0;_e<V.length;_e++){var Ge=X;""!==V[_e]&&(Ge+="="+encodeURIComponent(String(V[_e]))),m.push(Ge)}}return this.c=m.join("&")};var wn=10;function bu(m){return!!m.b||!!m.a&&m.a.size>=m.f}function xa(m){return m.b?1:m.a?m.a.size:0}function bo(m,I){return m.b?m.b==I:!!m.a&&m.a.has(I)}function Ut(m,I){m.a?m.a.add(I):m.b=I}function wu(m,I){m.b&&m.b==I?m.b=null:m.a&&m.a.has(I)&&m.a.delete(I)}function wo(m){var I,S;if(null!=m.b)return m.c.concat(m.b.s);if(null!=m.a&&0!==m.a.size){var V=m.c;try{for(var X=Ne(m.a.values()),_e=X.next();!_e.done;_e=X.next())V=V.concat(_e.value.s)}catch(Mt){I={error:Mt}}finally{try{_e&&!_e.done&&(S=X.return)&&S.call(X)}finally{if(I)throw I.error}}return V}return L(m.c)}function Eo(){}function Rr(){this.a=new Eo}function Oa(m,I,S){var V=S||"";try{gu(m,function(X,_e){var Ge=X;B(X)&&(Ge=lo(X)),I.push(V+_e+"="+encodeURIComponent(Ge))})}catch(X){throw I.push(V+"type="+encodeURIComponent("_badmap")),X}}function sr(m,I,S,V,X){try{I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null,X(V)}catch(_e){}}os.prototype.cancel=function(){var m,I;if(this.c=wo(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var S=Ne(this.a.values()),V=S.next();!V.done;V=S.next())V.value.cancel()}catch(_e){m={error:_e}}finally{try{V&&!V.done&&(I=S.return)&&I.call(S)}finally{if(m)throw m.error}}this.a.clear()}},Eo.prototype.stringify=function(m){return me.JSON.stringify(m,void 0)},Eo.prototype.parse=function(m){return me.JSON.parse(m,void 0)};var zn=me.JSON.parse;function In(m){cn.call(this),this.headers=new ns,this.H=m||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zs,this.D=this.F=!1}pe(In,cn);var zs="",Ft=/^https?$/i,on=["POST","PUT"];function Br(m){return"content-type"==m.toLowerCase()}function at(m,I){m.b=!1,m.a&&(m.g=!0,m.a.abort(),m.g=!1),m.f=I,m.h=5,Zs(m),ii(m)}function Zs(m){m.u||(m.u=!0,m.dispatchEvent("complete"),m.dispatchEvent("error"))}function Di(m){if(m.b&&void 0!==he&&(!m.s[1]||4!=Pr(m)||2!=m.X()))if(m.l&&4==Pr(m))qn(m.za,0,m);else if(m.dispatchEvent("readystatechange"),4==Pr(m)){m.b=!1;try{var V,I=m.X();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}if(!(V=S)){var X;if(X=0===I){var _e=String(m.B).match(yu)[1]||null;if(!_e&&me.self&&me.self.location){var Ge=me.self.location.protocol;_e=Ge.substr(0,Ge.length-1)}X=!Ft.test(_e?_e.toLowerCase():"")}V=X}if(V)m.dispatchEvent("complete"),m.dispatchEvent("success");else{m.h=6;try{var Mt=2<Pr(m)?m.a.statusText:""}catch(At){Mt=""}m.f=Mt+" ["+m.X()+"]",Zs(m)}}finally{ii(m)}}}function ii(m,I){if(m.a){ss(m);var S=m.a,V=m.s[0]?Ae:null;m.a=null,m.s=null,I||m.dispatchEvent("ready");try{S.onreadystatechange=V}catch(X){}}}function ss(m){m.a&&m.D&&(m.a.ontimeout=null),m.m&&(me.clearTimeout(m.m),m.m=null)}function Pr(m){return m.a?m.a.readyState:0}function Ii(m,I,S){e:{for(V in S){var V=!1;break e}V=!0}V||(S=function(m){var I="";return Ue(m,function(S,V){I+=V,I+=":",I+=S,I+="\r\n"}),I}(S),"string"==typeof m?null!=S&&encodeURIComponent(String(S)):ln(m,I,S))}function xe(m,I,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||I}function Dt(m){this.pa=0,this.g=[],this.c=new vi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=xe("failFast",!1,m),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=xe("baseRetryDelayMs",5e3,m),this.Ma=xe("retryDelaySeedMs",1e4,m),this.Ja=xe("forwardChannelMaxRetries",2,m),this.ma=xe("forwardChannelRequestTimeoutMs",2e4,m),this.Ka=m&&m.g||void 0,this.D=void 0,this.C=m&&m.supportsCrossDomainXhr||!1,this.J="",this.b=new os(m&&m.concurrentRequestLimit),this.ka=new Rr,this.da=m&&m.fastHandshake||!1,this.Ga=m&&m.b||!1,m&&m.f&&(this.c.a=!1),m&&m.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&m&&m.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function as(m){if(Wi(m),3==m.v){var I=m.R++,S=Er(m.B);ln(S,"SID",m.J),ln(S,"RID",I),ln(S,"TYPE","terminate"),Wn(m,S),(I=new es(m,m.c,I,void 0)).H=2,I.i=yo(Er(S)),S=!1,me.navigator&&me.navigator.sendBeacon&&(S=me.navigator.sendBeacon(I.i.toString(),"")),!S&&me.Image&&((new Image).src=I.i,S=!0),S||(I.a=Ra(I.g,null),I.a.ba(I.i)),I.u=Ie(),Hs(I)}cs(m)}function fn(m){m.a&&(Zn(m),m.a.cancel(),m.a=null)}function Wi(m){fn(m),m.j&&(me.clearTimeout(m.j),m.j=null),us(m),m.b.cancel(),m.h&&("number"==typeof m.h&&me.clearTimeout(m.h),m.h=null)}function Zi(m,I){m.g.push(new _u(m.La++,I)),3==m.v&&ar(m)}function ar(m){bu(m.b)||m.h||(m.h=!0,Ko(m.Ba,m),m.u=0)}function Yi(m,I){var S;S=I?I.f:m.R++;var V=Er(m.B);ln(V,"SID",m.J),ln(V,"RID",S),ln(V,"AID",m.P),Wn(m,V),m.i&&m.l&&Ii(V,m.i,m.l),S=new es(m,m.c,S,m.u+1),null===m.i&&(S.B=m.l),I&&(m.g=I.s.concat(m.g)),I=rl(m,S,1e3),S.setTimeout(Math.round(.5*m.ma)+Math.round(.5*m.ma*Math.random())),Ut(m.b,S),go(S,V,I)}function Wn(m,I){m.f&&gu({},function(S,V){ln(I,V,S)})}function rl(m,I,S){S=Math.min(m.g.length,S);var V=m.f?De(m.f.Ha,m.f,m):null;e:for(var X=m.g,_e=-1;;){var Ge=["count="+S];-1==_e?0<S?Ge.push("ofs="+(_e=X[0].b)):_e=0:Ge.push("ofs="+_e);for(var Mt=!0,At=0;At<S;At++){var Bn=X[At].b,Xn=X[At].a;if(0>(Bn-=_e))_e=Math.max(0,X[At].b-100),Mt=!1;else try{Oa(Xn,Ge,"req"+Bn+"_")}catch(cr){V&&V(Xn)}}if(Mt){V=Ge.join("&");break e}}return m=m.g.splice(0,S),I.s=m,V}function Io(m){m.a||m.j||(m.U=1,Ko(m.Aa,m),m.o=0)}function Ki(m){return!(m.a||m.j||3<=m.o||(m.U++,m.j=gr(De(m.Aa,m),oi(m,m.o)),m.o++,0))}function Zn(m){null!=m.s&&(me.clearTimeout(m.s),m.s=null)}function Hr(m){m.a=new es(m,m.c,"rpc",m.U),null===m.i&&(m.a.B=m.l),m.a.O=0;var I=Er(m.la);ln(I,"RID","rpc"),ln(I,"SID",m.J),ln(I,"CI",m.H?"0":"1"),ln(I,"AID",m.P),Wn(m,I),ln(I,"TYPE","xmlhttp"),m.i&&m.l&&Ii(I,m.i,m.l),m.D&&m.a.setTimeout(m.D);var S=m.a;m=m.ga,S.H=1,S.i=yo(Er(I)),S.j=null,S.I=!0,ni(S,m)}function us(m){null!=m.m&&(me.clearTimeout(m.m),m.m=null)}function Ao(m,I){var S=null;if(m.a==I){us(m),Zn(m),m.a=null;var V=2}else{if(!bo(m.b,I))return;S=I.s,wu(m.b,I),V=1}if(m.I=I.N,0!=m.v)if(I.b)if(1==V){S=I.j?I.j.length:0,I=Ie()-I.u;var X=m.u;(V=Bi()).dispatchEvent(new Hi(V,S,I,X)),ar(m)}else Io(m);else if(3==(X=I.h)||0==X&&0<m.I||!(1==V&&function(m,I){return!(xa(m.b)>=m.b.f-(m.h?1:0)||(m.h?(m.g=I.s.concat(m.g),0):1==m.v||2==m.v||m.u>=(m.Ia?0:m.Ja)||(m.h=gr(De(m.Ba,m,I),oi(m,m.u)),m.u++,0)))}(m,I)||2==V&&Ki(m)))switch(S&&0<S.length&&(I=m.b,I.c=I.c.concat(S)),X){case 1:Gr(m,5);break;case 4:Gr(m,10);break;case 3:Gr(m,6);break;default:Gr(m,2)}}function oi(m,I){var S=m.Fa+Math.floor(Math.random()*m.Ma);return m.f||(S*=2),S*I}function Gr(m,I){if(m.c.info("Error code "+I),2==I){var S=null;m.f&&(S=null);var V=De(m.Xa,m);S||(S=new rs("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||ri(S,"https"),yo(S)),function(m,I){var S=new vi;if(me.Image){var V=new Image;V.onload=Re(sr,S,V,"TestLoadImage: loaded",!0,I),V.onerror=Re(sr,S,V,"TestLoadImage: error",!1,I),V.onabort=Re(sr,S,V,"TestLoadImage: abort",!1,I),V.ontimeout=Re(sr,S,V,"TestLoadImage: timeout",!1,I),me.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else I(!1)}(S.toString(),V)}else $t(2);m.v=0,m.f&&m.f.ra(I),cs(m),Wi(m)}function cs(m){m.v=0,m.I=-1,m.f&&((0!=wo(m.b).length||0!=m.g.length)&&(m.b.c.length=0,L(m.g),m.g.length=0),m.f.qa())}function Ys(m,I,S){var V=function(m){return m instanceof rs?Er(m):new rs(m,void 0)}(S);if(""!=V.c)I&&$s(V,I+"."+V.c),qs(V,V.h);else{var X=me.location;V=function(m,I,S,V){var X=new rs(null,void 0);return m&&ri(X,m),I&&$s(X,I),S&&qs(X,S),V&&(X.g=V),X}(X.protocol,I?I+"."+X.hostname:X.hostname,+X.port,S)}return m.W&&Ue(m.W,function(_e,Ge){ln(V,Ge,_e)}),S=m.na,(I=m.A)&&S&&ln(V,I,S),ln(V,"VER",m.ha),Wn(m,V),V}function Ra(m,I){if(I&&!m.C)throw Error("Can't create secondary domain capable XhrIo object.");return(I=new In(m.Ka)).F=m.C,I}function Ai(){}function ls(){if(Ht&&!(10<=Number(On)))throw Error("Environmental error: no available transport.")}function Dr(m,I){cn.call(this),this.a=new Dt(I),this.l=m,this.b=I&&I.messageUrlParams||null,m=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.a.l=m,m=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(m?m["X-WebChannel-Content-Type"]=I.messageContentType:m={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.a&&(m?m["X-WebChannel-Client-Profile"]=I.a:m={"X-WebChannel-Client-Profile":I.a}),this.a.O=m,(m=I&&I.httpHeadersOverwriteParam)&&!k(m)&&(this.a.i=m),this.h=I&&I.supportsCrossDomainXhr||!1,this.g=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!k(I)&&(this.a.A=I,null!==(m=this.b)&&I in m&&I in(m=this.b)&&delete m[I]),this.f=new Fe(this)}function ur(m){ho.call(this);var I=m.__sm__;if(I){e:{for(var S in I){m=S;break e}m=void 0}(this.c=m)?(m=this.c,this.data=null!==I&&m in I?I[m]:void 0):this.data=I}else this.data=m}function Pa(){Gi.call(this),this.status=1}function Fe(m){this.a=m}(ne=In.prototype).ba=function(m,I,S,V){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+m);I=I?I.toUpperCase():"GET",this.B=m,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(m){var I;return(I=m.a)||(I=m.a={}),I}(this.H?this.H:_i),this.a.onreadystatechange=De(this.za,this);try{this.A=!0,this.a.open(I,String(m),!0),this.A=!1}catch(_e){return void at(this,_e)}m=S||"";var X=new ns(this.headers);V&&gu(V,function(_e,Ge){X.set(Ge,_e)}),V=function(m){e:{for(var I=Br,S=m.length,V="string"==typeof m?m.split(""):m,X=0;X<S;X++)if(X in V&&I.call(void 0,V[X],X,m)){I=X;break e}I=-1}return 0>I?null:"string"==typeof m?m.charAt(I):m[I]}(X.L()),S=me.FormData&&m instanceof me.FormData,!(0<=We(on,I))||V||S||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),X.forEach(function(_e,Ge){this.a.setRequestHeader(Ge,_e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ss(this),0<this.o&&((this.D=function(m){return Ht&&Vt(9)&&"number"==typeof m.timeout&&void 0!==m.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=De(this.xa,this)):this.m=qn(this.xa,this.o,this)),this.l=!0,this.a.send(m),this.l=!1}catch(_e){at(this,_e)}},ne.xa=function(){void 0!==he&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ne.abort=function(m){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=m||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ii(this))},ne.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ii(this,!0)),In.S.G.call(this)},ne.za=function(){this.j||(this.A||this.l||this.g?Di(this):this.Ta())},ne.Ta=function(){Di(this)},ne.X=function(){try{return 2<Pr(this)?this.a.status:-1}catch(m){return-1}},ne.$=function(){try{return this.a?this.a.responseText:""}catch(m){return""}},ne.Na=function(m){if(this.a){var I=this.a.responseText;return m&&0==I.indexOf(m)&&(I=I.substring(m.length)),zn(I)}},ne.ua=function(){return this.h},ne.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ne=Dt.prototype).ha=8,ne.v=1,ne.Ba=function(m){if(this.h)if(this.h=null,1==this.v){if(!m){this.R=Math.floor(1e5*Math.random()),m=this.R++;var V,I=new es(this,this.c,m,void 0),S=this.l;if(this.O&&(S?Ye(S=He(S),this.O):S=this.O),null===this.i&&(I.B=S),this.da)e:{for(var X=V=0;X<this.g.length;X++){var _e=this.g[X];if(void 0===(_e="__data__"in _e.a&&"string"==typeof(_e=_e.a.__data__)?_e.length:void 0))break;if(4096<(V+=_e)){V=X;break e}if(4096===V||X===this.g.length-1){V=X+1;break e}}V=1e3}else V=1e3;V=rl(this,I,V),ln(X=Er(this.B),"RID",m),ln(X,"CVER",22),this.A&&ln(X,"X-HTTP-Session-Id",this.A),Wn(this,X),this.i&&S&&Ii(X,this.i,S),Ut(this.b,I),this.Ga&&ln(X,"TYPE","init"),this.da?(ln(X,"$req",V),ln(X,"SID","null"),I.V=!0,go(I,X,null)):go(I,X,V),this.v=2}}else 3==this.v&&(m?Yi(this,m):0==this.g.length||bu(this.b)||Yi(this))},ne.Aa=function(){if(this.j=null,Hr(this),this.V&&!(this.F||null==this.a||0>=this.N)){var m=2*this.N;this.c.info("BP detection timer enabled: "+m),this.s=gr(De(this.Sa,this),m)}},ne.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fn(this),Hr(this))},ne.Ra=function(){null!=this.m&&(this.m=null,fn(this),Ki(this),$t(19))},ne.Xa=function(m){m?(this.c.info("Successfully pinged google.com"),$t(2)):(this.c.info("Failed to ping google.com"),$t(1))},(ne=Ai.prototype).ta=function(){},ne.sa=function(){},ne.ra=function(){},ne.qa=function(){},ne.Ha=function(){},ls.prototype.a=function(m,I){return new Dr(m,I)},pe(Dr,cn),(ne=Dr.prototype).addEventListener=function(m,I,S,V){Dr.S.addEventListener.call(this,m,I,S,V)},ne.removeEventListener=function(m,I,S,V){Dr.S.removeEventListener.call(this,m,I,S,V)},ne.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var m=this.a,I=this.l,S=this.b||void 0;$t(0),m.fa=I,m.W=S||{},m.H=m.T,m.B=Ys(m,null,m.fa),ar(m)},ne.close=function(){as(this.a)},ne.Pa=function(m){if("string"==typeof m){var I={};I.__data__=m,Zi(this.a,I)}else this.g?((I={}).__data__=lo(m),Zi(this.a,I)):Zi(this.a,m)},ne.G=function(){this.a.f=null,delete this.f,as(this.a),delete this.a,Dr.S.G.call(this)},pe(ur,ho),pe(Pa,Gi),pe(Fe,Ai),Fe.prototype.ta=function(){this.a.dispatchEvent("a")},Fe.prototype.sa=function(m){this.a.dispatchEvent(new ur(m))},Fe.prototype.ra=function(m){this.a.dispatchEvent(new Pa(m))},Fe.prototype.qa=function(){this.a.dispatchEvent("b")},ls.prototype.createWebChannel=ls.prototype.a,Dr.prototype.send=Dr.prototype.Pa,Dr.prototype.open=Dr.prototype.Oa,Dr.prototype.close=Dr.prototype.close,Qn.NO_ERROR=0,Qn.TIMEOUT=8,Qn.HTTP_ERROR=6,qt.COMPLETE="complete",Bs.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",cn.prototype.listen=cn.prototype.va,In.prototype.listenOnce=In.prototype.wa,In.prototype.getLastError=In.prototype.Qa,In.prototype.getLastErrorCode=In.prototype.ua,In.prototype.getStatus=In.prototype.X,In.prototype.getResponseJson=In.prototype.Na,In.prototype.getResponseText=In.prototype.$,In.prototype.send=In.prototype.ba;var $r=function(){return new ls},Eu=Qn,To=qt,si=Bs,Cu=In;const fs={createWebChannelTransport:$r,ErrorCode:Qn,EventType:qt,WebChannel:Bs,XhrIo:In}},4395:(nt,de,z)=>{"use strict";function P(he){return he&&"object"==typeof he&&"default"in he?he:{default:he}}var Ne=P(z(6279));Ne.default.registerVersion("firebase","7.24.0","app"),nt.exports=Ne.default},7574:(nt,de,z)=>{"use strict";z.d(de,{y:()=>B});var g=z(7393),Ne=z(9181),ve=z(6490),he=z(6554),me=z(4487);var R=z(2494);let B=(()=>{class J{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const Ee=new J;return Ee.source=this,Ee.operator=we,Ee}subscribe(we,Ee,De){const{operator:Re}=this,Ie=function(J,Z,we){if(J){if(J instanceof g.L)return J;if(J[Ne.b])return J[Ne.b]()}return J||Z||we?new g.L(J,Z,we):new g.L(ve.c)}(we,Ee,De);if(Ie.add(Re?Re.call(Ie,this.source):this.source||R.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),R.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(we){try{return this._subscribe(we)}catch(Ee){R.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=Ee),function(J){for(;J;){const{closed:Z,destination:we,isStopped:Ee}=J;if(Z||Ee)return!1;J=we&&we instanceof g.L?we:null}return!0}(we)?we.error(Ee):console.warn(Ee)}}forEach(we,Ee){return new(Ee=ie(Ee))((De,Re)=>{let Ie;Ie=this.subscribe(pe=>{try{we(pe)}catch(ze){Re(ze),Ie&&Ie.unsubscribe()}},Re,De)})}_subscribe(we){const{source:Ee}=this;return Ee&&Ee.subscribe(we)}[he.L](){return this}pipe(...we){return 0===we.length?this:function(J){return 0===J.length?me.y:1===J.length?J[0]:function(we){return J.reduce((Ee,De)=>De(Ee),we)}}(we)(this)}toPromise(we){return new(we=ie(we))((Ee,De)=>{let Re;this.subscribe(Ie=>Re=Ie,Ie=>De(Ie),()=>Ee(Re))})}}return J.create=Z=>new J(Z),J})();function ie(J){if(J||(J=R.v.Promise||Promise),!J)throw new Error("no Promise impl found");return J}},6490:(nt,de,z)=>{"use strict";z.d(de,{c:()=>Ne});var g=z(2494),P=z(4449);const Ne={closed:!0,next(ve){},error(ve){if(g.v.useDeprecatedSynchronousErrorHandling)throw ve;(0,P.z)(ve)},complete(){}}},9765:(nt,de,z)=>{"use strict";z.d(de,{Yc:()=>me,xQ:()=>Ae});var g=z(7574),P=z(7393),Ne=z(5319),ve=z(7971),ne=z(8858),he=z(9181);class me extends P.L{constructor(B){super(B),this.destination=B}}let Ae=(()=>{class R extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[he.b](){return new me(this)}lift(ie){const J=new le(this,this);return J.operator=ie,J}next(ie){if(this.closed)throw new ve.N;if(!this.isStopped){const{observers:J}=this,Z=J.length,we=J.slice();for(let Ee=0;Ee<Z;Ee++)we[Ee].next(ie)}}error(ie){if(this.closed)throw new ve.N;this.hasError=!0,this.thrownError=ie,this.isStopped=!0;const{observers:J}=this,Z=J.length,we=J.slice();for(let Ee=0;Ee<Z;Ee++)we[Ee].error(ie);this.observers.length=0}complete(){if(this.closed)throw new ve.N;this.isStopped=!0;const{observers:ie}=this,J=ie.length,Z=ie.slice();for(let we=0;we<J;we++)Z[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ie){if(this.closed)throw new ve.N;return super._trySubscribe(ie)}_subscribe(ie){if(this.closed)throw new ve.N;return this.hasError?(ie.error(this.thrownError),Ne.w.EMPTY):this.isStopped?(ie.complete(),Ne.w.EMPTY):(this.observers.push(ie),new ne.W(this,ie))}asObservable(){const ie=new g.y;return ie.source=this,ie}}return R.create=(B,ie)=>new le(B,ie),R})();class le extends Ae{constructor(B,ie){super(),this.destination=B,this.source=ie}next(B){const{destination:ie}=this;ie&&ie.next&&ie.next(B)}error(B){const{destination:ie}=this;ie&&ie.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:ie}=this;return ie?this.source.subscribe(B):Ne.w.EMPTY}}},8858:(nt,de,z)=>{"use strict";z.d(de,{W:()=>P});var g=z(5319);class P extends g.w{constructor(ve,ne){super(),this.subject=ve,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ve=this.subject,ne=ve.observers;if(this.subject=null,!ne||0===ne.length||ve.isStopped||ve.closed)return;const he=ne.indexOf(this.subscriber);-1!==he&&ne.splice(he,1)}}},7393:(nt,de,z)=>{"use strict";z.d(de,{L:()=>me});var g=z(9105),P=z(6490),Ne=z(5319),ve=z(9181),ne=z(2494),he=z(4449);class me extends Ne.w{constructor(R,B,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=P.c;break;case 1:if(!R){this.destination=P.c;break}if("object"==typeof R){R instanceof me?(this.syncErrorThrowable=R.syncErrorThrowable,this.destination=R,R.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ae(this,R));break}default:this.syncErrorThrowable=!0,this.destination=new Ae(this,R,B,ie)}}[ve.b](){return this}static create(R,B,ie){const J=new me(R,B,ie);return J.syncErrorThrowable=!1,J}next(R){this.isStopped||this._next(R)}error(R){this.isStopped||(this.isStopped=!0,this._error(R))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(R){this.destination.next(R)}_error(R){this.destination.error(R),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:R}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=R,this}}class Ae extends me{constructor(R,B,ie,J){super(),this._parentSubscriber=R;let Z,we=this;(0,g.m)(B)?Z=B:B&&(Z=B.next,ie=B.error,J=B.complete,B!==P.c&&(we=Object.create(B),(0,g.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=Z,this._error=ie,this._complete=J}next(R){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ne.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,R)&&this.unsubscribe():this.__tryOrUnsub(this._next,R)}}error(R){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:ie}=ne.v;if(this._error)ie&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,R),this.unsubscribe()):(this.__tryOrUnsub(this._error,R),this.unsubscribe());else if(B.syncErrorThrowable)ie?(B.syncErrorValue=R,B.syncErrorThrown=!0):(0,he.z)(R),this.unsubscribe();else{if(this.unsubscribe(),ie)throw R;(0,he.z)(R)}}}complete(){if(!this.isStopped){const{_parentSubscriber:R}=this;if(this._complete){const B=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?(this.__tryOrSetError(R,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(R,B){try{R.call(this._context,B)}catch(ie){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,he.z)(ie)}}__tryOrSetError(R,B,ie){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,ie)}catch(J){return ne.v.useDeprecatedSynchronousErrorHandling?(R.syncErrorValue=J,R.syncErrorThrown=!0,!0):((0,he.z)(J),!0)}return!1}_unsubscribe(){const{_parentSubscriber:R}=this;this._context=null,this._parentSubscriber=null,R.unsubscribe()}}},5319:(nt,de,z)=>{"use strict";z.d(de,{w:()=>he});var g=z(9796),P=z(1555),Ne=z(9105);const ne=(()=>{function Ae(le){return Error.call(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((R,B)=>`${B+1}) ${R.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le,this}return Ae.prototype=Object.create(Error.prototype),Ae})();class he{constructor(le){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,le&&(this._ctorUnsubscribe=!0,this._unsubscribe=le)}unsubscribe(){let le;if(this.closed)return;let{_parentOrParents:R,_ctorUnsubscribe:B,_unsubscribe:ie,_subscriptions:J}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,R instanceof he)R.remove(this);else if(null!==R)for(let Z=0;Z<R.length;++Z)R[Z].remove(this);if((0,Ne.m)(ie)){B&&(this._unsubscribe=void 0);try{ie.call(this)}catch(Z){le=Z instanceof ne?me(Z.errors):[Z]}}if((0,g.k)(J)){let Z=-1,we=J.length;for(;++Z<we;){const Ee=J[Z];if((0,P.K)(Ee))try{Ee.unsubscribe()}catch(De){le=le||[],De instanceof ne?le=le.concat(me(De.errors)):le.push(De)}}}if(le)throw new ne(le)}add(le){let R=le;if(!le)return he.EMPTY;switch(typeof le){case"function":R=new he(le);case"object":if(R===this||R.closed||"function"!=typeof R.unsubscribe)return R;if(this.closed)return R.unsubscribe(),R;if(!(R instanceof he)){const J=R;R=new he,R._subscriptions=[J]}break;default:throw new Error("unrecognized teardown "+le+" added to Subscription.")}let{_parentOrParents:B}=R;if(null===B)R._parentOrParents=this;else if(B instanceof he){if(B===this)return R;R._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return R;B.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[R]:ie.push(R),R}remove(le){const R=this._subscriptions;if(R){const B=R.indexOf(le);-1!==B&&R.splice(B,1)}}}var Ae;function me(Ae){return Ae.reduce((le,R)=>le.concat(R instanceof ne?R.errors:R),[])}he.EMPTY=((Ae=new he).closed=!0,Ae)},2494:(nt,de,z)=>{"use strict";z.d(de,{v:()=>P});let g=!1;const P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Ne){if(Ne){const ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ve.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=Ne},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(nt,de,z)=>{"use strict";z.d(de,{IY:()=>ve,Ds:()=>he,ft:()=>Ae});var g=z(7393),P=z(7574),Ne=z(7444);class ve extends g.L{constructor(R){super(),this.parent=R}_next(R){this.parent.notifyNext(R)}_error(R){this.parent.notifyError(R),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class he extends g.L{notifyNext(R){this.destination.next(R)}notifyError(R){this.destination.error(R)}notifyComplete(){this.destination.complete()}}function Ae(le,R){if(R.closed)return;if(le instanceof P.y)return le.subscribe(R);let B;try{B=(0,Ne.s)(le)(R)}catch(ie){R.error(ie)}return B}},2441:(nt,de,z)=>{"use strict";z.d(de,{c:()=>ne,N:()=>he});var g=z(9765),P=z(7574),Ne=z(5319),ve=z(1307);class ne extends P.y{constructor(B,ie){super(),this.source=B,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new Ne.w,B.add(this.source.subscribe(new me(this.getSubject(),this))),B.closed&&(this._connection=null,B=Ne.w.EMPTY)),B}refCount(){return(0,ve.x)()(this)}}const he=(()=>{const R=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:R._subscribe},_isComplete:{value:R._isComplete,writable:!0},getSubject:{value:R.getSubject},connect:{value:R.connect},refCount:{value:R.refCount}}})();class me extends g.Yc{constructor(B,ie){super(B),this.connectable=ie}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const ie=B._connection;B._refCount=0,B._subject=null,B._connection=null,ie&&ie.unsubscribe()}}}},9193:(nt,de,z)=>{"use strict";z.d(de,{E:()=>P,c:()=>Ne});var g=z(7574);const P=new g.y(ne=>ne.complete());function Ne(ne){return ne?function(ne){return new g.y(he=>ne.schedule(()=>he.complete()))}(ne):P}},4402:(nt,de,z)=>{"use strict";z.d(de,{D:()=>we});var g=z(7574),P=z(7444),Ne=z(5319),ve=z(6554),me=z(4087),Ae=z(377),B=z(4072),ie=z(9489);function we(Ee,De){return De?function(Ee,De){if(null!=Ee){if(function(Ee){return Ee&&"function"==typeof Ee[ve.L]}(Ee))return function(Ee,De){return new g.y(Re=>{const Ie=new Ne.w;return Ie.add(De.schedule(()=>{const pe=Ee[ve.L]();Ie.add(pe.subscribe({next(ze){Ie.add(De.schedule(()=>Re.next(ze)))},error(ze){Ie.add(De.schedule(()=>Re.error(ze)))},complete(){Ie.add(De.schedule(()=>Re.complete()))}}))})),Ie})}(Ee,De);if((0,B.t)(Ee))return function(Ee,De){return new g.y(Re=>{const Ie=new Ne.w;return Ie.add(De.schedule(()=>Ee.then(pe=>{Ie.add(De.schedule(()=>{Re.next(pe),Ie.add(De.schedule(()=>Re.complete()))}))},pe=>{Ie.add(De.schedule(()=>Re.error(pe)))}))),Ie})}(Ee,De);if((0,ie.z)(Ee))return(0,me.r)(Ee,De);if(function(Ee){return Ee&&"function"==typeof Ee[Ae.hZ]}(Ee)||"string"==typeof Ee)return function(Ee,De){if(!Ee)throw new Error("Iterable cannot be null");return new g.y(Re=>{const Ie=new Ne.w;let pe;return Ie.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),Ie.add(De.schedule(()=>{pe=Ee[Ae.hZ](),Ie.add(De.schedule(function(){if(Re.closed)return;let ze,tt;try{const We=pe.next();ze=We.value,tt=We.done}catch(We){return void Re.error(We)}tt?Re.complete():(Re.next(ze),this.schedule())}))})),Ie})}(Ee,De)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,De):Ee instanceof g.y?Ee:new g.y((0,P.s)(Ee))}},6693:(nt,de,z)=>{"use strict";z.d(de,{n:()=>ve});var g=z(7574),P=z(5015),Ne=z(4087);function ve(ne,he){return he?(0,Ne.r)(ne,he):new g.y((0,P.V)(ne))}},6682:(nt,de,z)=>{"use strict";z.d(de,{T:()=>ne});var g=z(7574),P=z(4869),Ne=z(3282),ve=z(6693);function ne(...he){let me=Number.POSITIVE_INFINITY,Ae=null,le=he[he.length-1];return(0,P.K)(le)?(Ae=he.pop(),he.length>1&&"number"==typeof he[he.length-1]&&(me=he.pop())):"number"==typeof le&&(me=he.pop()),null===Ae&&1===he.length&&he[0]instanceof g.y?he[0]:(0,Ne.J)(me)((0,ve.n)(he,Ae))}},5917:(nt,de,z)=>{"use strict";z.d(de,{of:()=>ve});var g=z(4869),P=z(6693),Ne=z(4087);function ve(...ne){let he=ne[ne.length-1];return(0,g.K)(he)?(ne.pop(),(0,Ne.r)(ne,he)):(0,P.n)(ne)}},8002:(nt,de,z)=>{"use strict";z.d(de,{U:()=>P});var g=z(7393);function P(ne,he){return function(Ae){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ae.lift(new Ne(ne,he))}}class Ne{constructor(he,me){this.project=he,this.thisArg=me}call(he,me){return me.subscribe(new ve(he,this.project,this.thisArg))}}class ve extends g.L{constructor(he,me,Ae){super(he),this.project=me,this.count=0,this.thisArg=Ae||this}_next(he){let me;try{me=this.project.call(this.thisArg,he,this.count++)}catch(Ae){return void this.destination.error(Ae)}this.destination.next(me)}}},3282:(nt,de,z)=>{"use strict";z.d(de,{J:()=>Ne});var g=z(9773),P=z(4487);function Ne(ve=Number.POSITIVE_INFINITY){return(0,g.zg)(P.y,ve)}},9773:(nt,de,z)=>{"use strict";z.d(de,{zg:()=>ve});var g=z(8002),P=z(4402),Ne=z(5345);function ve(Ae,le,R=Number.POSITIVE_INFINITY){return"function"==typeof le?B=>B.pipe(ve((ie,J)=>(0,P.D)(Ae(ie,J)).pipe((0,g.U)((Z,we)=>le(ie,Z,J,we))),R)):("number"==typeof le&&(R=le),B=>B.lift(new ne(Ae,R)))}class ne{constructor(le,R=Number.POSITIVE_INFINITY){this.project=le,this.concurrent=R}call(le,R){return R.subscribe(new he(le,this.project,this.concurrent))}}class he extends Ne.Ds{constructor(le,R,B=Number.POSITIVE_INFINITY){super(le),this.project=R,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(le){this.active<this.concurrent?this._tryNext(le):this.buffer.push(le)}_tryNext(le){let R;const B=this.index++;try{R=this.project(le,B)}catch(ie){return void this.destination.error(ie)}this.active++,this._innerSub(R)}_innerSub(le){const R=new Ne.IY(this),B=this.destination;B.add(R);const ie=(0,Ne.ft)(le,R);ie!==R&&B.add(ie)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(le){this.destination.next(le)}notifyComplete(){const le=this.buffer;this.active--,le.length>0?this._next(le.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(nt,de,z)=>{"use strict";z.d(de,{ht:()=>B,QV:()=>le});var g=z(7393),P=z(9193),Ne=z(5917),ve=z(7574);class Ae{constructor(Z,we,Ee){this.kind=Z,this.value=we,this.error=Ee,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,we,Ee){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return we&&we(this.error);case"C":return Ee&&Ee()}}accept(Z,we,Ee){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,we,Ee)}toObservable(){switch(this.kind){case"N":return(0,Ne.of)(this.value);case"E":return J=this.error,new ve.y(we=>we.error(J));case"C":return(0,P.c)()}var J;throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new Ae("N",Z):Ae.undefinedValueNotification}static createError(Z){return new Ae("E",void 0,Z)}static createComplete(){return Ae.completeNotification}}function le(J,Z=0){return function(Ee){return Ee.lift(new R(J,Z))}}Ae.completeNotification=new Ae("C"),Ae.undefinedValueNotification=new Ae("N",void 0);class R{constructor(Z,we=0){this.scheduler=Z,this.delay=we}call(Z,we){return we.subscribe(new B(Z,this.scheduler,this.delay))}}class B extends g.L{constructor(Z,we,Ee=0){super(Z),this.scheduler=we,this.delay=Ee}static dispatch(Z){const{notification:we,destination:Ee}=Z;we.observe(Ee),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(B.dispatch,this.delay,new ie(Z,this.destination)))}_next(Z){this.scheduleMessage(Ae.createNext(Z))}_error(Z){this.scheduleMessage(Ae.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(Ae.createComplete()),this.unsubscribe()}}class ie{constructor(Z,we){this.notification=Z,this.destination=we}}},1307:(nt,de,z)=>{"use strict";z.d(de,{x:()=>P});var g=z(7393);function P(){return function(he){return he.lift(new Ne(he))}}class Ne{constructor(he){this.connectable=he}call(he,me){const{connectable:Ae}=this;Ae._refCount++;const le=new ve(he,Ae),R=me.subscribe(le);return le.closed||(le.connection=Ae.connect()),R}}class ve extends g.L{constructor(he,me){super(he),this.connectable=me}_unsubscribe(){const{connectable:he}=this;if(!he)return void(this.connection=null);this.connectable=null;const me=he._refCount;if(me<=0)return void(this.connection=null);if(he._refCount=me-1,me>1)return void(this.connection=null);const{connection:Ae}=this,le=he._connection;this.connection=null,le&&(!Ae||le===Ae)&&le.unsubscribe()}}},3101:(nt,de,z)=>{"use strict";z.d(de,{R:()=>De});var g=z(7574);let P=1;const Ne=Promise.resolve(),ve={};function ne(Ie){return Ie in ve&&(delete ve[Ie],!0)}const he={setImmediate(Ie){const pe=P++;return ve[pe]=!0,Ne.then(()=>ne(pe)&&Ie()),pe},clearImmediate(Ie){ne(Ie)}};var Ae=z(6465),R=z(6102);const J=new class extends R.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:ze}=this;let tt,We=-1,_t=ze.length;pe=pe||ze.shift();do{if(tt=pe.execute(pe.state,pe.delay))break}while(++We<_t&&(pe=ze.shift()));if(this.active=!1,tt){for(;++We<_t&&(pe=ze.shift());)pe.unsubscribe();throw tt}}}(class extends Ae.o{constructor(pe,ze){super(pe,ze),this.scheduler=pe,this.work=ze}requestAsyncId(pe,ze,tt=0){return null!==tt&&tt>0?super.requestAsyncId(pe,ze,tt):(pe.actions.push(this),pe.scheduled||(pe.scheduled=he.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,ze,tt=0){if(null!==tt&&tt>0||null===tt&&this.delay>0)return super.recycleAsyncId(pe,ze,tt);0===pe.actions.length&&(he.clearImmediate(ze),pe.scheduled=void 0)}});var Z=z(9796);class Ee extends g.y{constructor(pe,ze=0,tt=J){var Ie;super(),this.source=pe,this.delayTime=ze,this.scheduler=tt,(!(!(0,Z.k)(Ie=ze)&&Ie-parseFloat(Ie)+1>=0)||ze<0)&&(this.delayTime=0),(!tt||"function"!=typeof tt.schedule)&&(this.scheduler=J)}static create(pe,ze=0,tt=J){return new Ee(pe,ze,tt)}static dispatch(pe){const{source:ze,subscriber:tt}=pe;return this.add(ze.subscribe(tt))}_subscribe(pe){return this.scheduler.schedule(Ee.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function De(Ie,pe=0){return function(tt){return tt.lift(new Re(Ie,pe))}}class Re{constructor(pe,ze){this.scheduler=pe,this.delay=ze}call(pe,ze){return new Ee(ze,this.delay,this.scheduler).subscribe(pe)}}},3342:(nt,de,z)=>{"use strict";z.d(de,{b:()=>ve});var g=z(7393);function P(){}var Ne=z(9105);function ve(me,Ae,le){return function(B){return B.lift(new ne(me,Ae,le))}}class ne{constructor(Ae,le,R){this.nextOrObserver=Ae,this.error=le,this.complete=R}call(Ae,le){return le.subscribe(new he(Ae,this.nextOrObserver,this.error,this.complete))}}class he extends g.L{constructor(Ae,le,R,B){super(Ae),this._tapNext=P,this._tapError=P,this._tapComplete=P,this._tapError=R||P,this._tapComplete=B||P,(0,Ne.m)(le)?(this._context=this,this._tapNext=le):le&&(this._context=le,this._tapNext=le.next||P,this._tapError=le.error||P,this._tapComplete=le.complete||P)}_next(Ae){try{this._tapNext.call(this._context,Ae)}catch(le){return void this.destination.error(le)}this.destination.next(Ae)}_error(Ae){try{this._tapError.call(this._context,Ae)}catch(le){return void this.destination.error(le)}this.destination.error(Ae)}_complete(){try{this._tapComplete.call(this._context)}catch(Ae){return void this.destination.error(Ae)}return this.destination.complete()}}},4087:(nt,de,z)=>{"use strict";z.d(de,{r:()=>Ne});var g=z(7574),P=z(5319);function Ne(ve,ne){return new g.y(he=>{const me=new P.w;let Ae=0;return me.add(ne.schedule(function(){Ae!==ve.length?(he.next(ve[Ae++]),he.closed||me.add(this.schedule())):he.complete()})),me})}},6465:(nt,de,z)=>{"use strict";z.d(de,{o:()=>Ne});var g=z(5319);class P extends g.w{constructor(ne,he){super()}schedule(ne,he=0){return this}}class Ne extends P{constructor(ne,he){super(ne,he),this.scheduler=ne,this.work=he,this.pending=!1}schedule(ne,he=0){if(this.closed)return this;this.state=ne;const me=this.id,Ae=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(Ae,me,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(Ae,this.id,he),this}requestAsyncId(ne,he,me=0){return setInterval(ne.flush.bind(ne,this),me)}recycleAsyncId(ne,he,me=0){if(null!==me&&this.delay===me&&!1===this.pending)return he;clearInterval(he)}execute(ne,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ne,he);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,he){let Ae,me=!1;try{this.work(ne)}catch(le){me=!0,Ae=!!le&&le||new Error(le)}if(me)return this.unsubscribe(),Ae}_unsubscribe(){const ne=this.id,he=this.scheduler,me=he.actions,Ae=me.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ae&&me.splice(Ae,1),null!=ne&&(this.id=this.recycleAsyncId(he,ne,null)),this.delay=null}}},6102:(nt,de,z)=>{"use strict";z.d(de,{v:()=>P});let g=(()=>{class Ne{constructor(ne,he=Ne.now){this.SchedulerAction=ne,this.now=he}schedule(ne,he=0,me){return new this.SchedulerAction(this,ne).schedule(me,he)}}return Ne.now=()=>Date.now(),Ne})();class P extends g{constructor(ve,ne=g.now){super(ve,()=>P.delegate&&P.delegate!==this?P.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ve,ne=0,he){return P.delegate&&P.delegate!==this?P.delegate.schedule(ve,ne,he):super.schedule(ve,ne,he)}flush(ve){const{actions:ne}=this;if(this.active)return void ne.push(ve);let he;this.active=!0;do{if(he=ve.execute(ve.state,ve.delay))break}while(ve=ne.shift());if(this.active=!1,he){for(;ve=ne.shift();)ve.unsubscribe();throw he}}}},3637:(nt,de,z)=>{"use strict";z.d(de,{z:()=>Ne});var g=z(6465);const Ne=new(z(6102).v)(g.o)},7771:(nt,de,z)=>{"use strict";z.d(de,{c:()=>he,N:()=>ne});var g=z(6465),Ne=z(6102);const ne=new class extends Ne.v{}(class extends g.o{constructor(Ae,le){super(Ae,le),this.scheduler=Ae,this.work=le}schedule(Ae,le=0){return le>0?super.schedule(Ae,le):(this.delay=le,this.state=Ae,this.scheduler.flush(this),this)}execute(Ae,le){return le>0||this.closed?super.execute(Ae,le):this._execute(Ae,le)}requestAsyncId(Ae,le,R=0){return null!==R&&R>0||null===R&&this.delay>0?super.requestAsyncId(Ae,le,R):Ae.flush(this)}}),he=ne},377:(nt,de,z)=>{"use strict";z.d(de,{hZ:()=>P});const P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(nt,de,z)=>{"use strict";z.d(de,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(nt,de,z)=>{"use strict";z.d(de,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(nt,de,z)=>{"use strict";z.d(de,{N:()=>P});const P=(()=>{function Ne(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Ne.prototype=Object.create(Error.prototype),Ne})()},4449:(nt,de,z)=>{"use strict";function g(P){setTimeout(()=>{throw P},0)}z.d(de,{z:()=>g})},4487:(nt,de,z)=>{"use strict";function g(P){return P}z.d(de,{y:()=>g})},9796:(nt,de,z)=>{"use strict";z.d(de,{k:()=>g});const g=Array.isArray||(P=>P&&"number"==typeof P.length)},9489:(nt,de,z)=>{"use strict";z.d(de,{z:()=>g});const g=P=>P&&"number"==typeof P.length&&"function"!=typeof P},9105:(nt,de,z)=>{"use strict";function g(P){return"function"==typeof P}z.d(de,{m:()=>g})},1555:(nt,de,z)=>{"use strict";function g(P){return null!==P&&"object"==typeof P}z.d(de,{K:()=>g})},4072:(nt,de,z)=>{"use strict";function g(P){return!!P&&"function"!=typeof P.subscribe&&"function"==typeof P.then}z.d(de,{t:()=>g})},4869:(nt,de,z)=>{"use strict";function g(P){return P&&"function"==typeof P.schedule}z.d(de,{K:()=>g})},7444:(nt,de,z)=>{"use strict";z.d(de,{s:()=>B});var g=z(5015),P=z(4449),ve=z(377),he=z(6554),Ae=z(9489),le=z(4072),R=z(1555);const B=ie=>{if(ie&&"function"==typeof ie[he.L])return(ie=>J=>{const Z=ie[he.L]();if("function"!=typeof Z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Z.subscribe(J)})(ie);if((0,Ae.z)(ie))return(0,g.V)(ie);if((0,le.t)(ie))return(ie=>J=>(ie.then(Z=>{J.closed||(J.next(Z),J.complete())},Z=>J.error(Z)).then(null,P.z),J))(ie);if(ie&&"function"==typeof ie[ve.hZ])return(ie=>J=>{const Z=ie[ve.hZ]();for(;;){let we;try{we=Z.next()}catch(Ee){return J.error(Ee),J}if(we.done){J.complete();break}if(J.next(we.value),J.closed)break}return"function"==typeof Z.return&&J.add(()=>{Z.return&&Z.return()}),J})(ie);{const Z=`You provided ${(0,R.K)(ie)?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Z)}}},5015:(nt,de,z)=>{"use strict";z.d(de,{V:()=>g});const g=P=>Ne=>{for(let ve=0,ne=P.length;ve<ne&&!Ne.closed;ve++)Ne.next(P[ve]);Ne.complete()}},5143:(nt,de,z)=>{"use strict";var g=z(3018);let P=null;function Ne(){return P}const me=new g.OlP("DocumentToken");let Ae=(()=>{class c{historyGo(i){throw new Error("Not implemented")}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275prov=(0,g.Yz7)({factory:le,token:c,providedIn:"platform"}),c})();function le(){return(0,g.LFG)(B)}const R=new g.OlP("Location Initialized");let B=(()=>{class c extends Ae{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ne().getBaseHref(this._doc)}onPopState(i){const d=Ne().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",i,!1),()=>d.removeEventListener("popstate",i)}onHashChange(i){const d=Ne().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",i,!1),()=>d.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,d,_){ie()?this._history.pushState(i,d,_):this.location.hash=_}replaceState(i,d,_){ie()?this._history.replaceState(i,d,_):this.location.hash=_}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(me))},c.\u0275prov=(0,g.Yz7)({factory:J,token:c,providedIn:"platform"}),c})();function ie(){return!!window.history.pushState}function J(){return new B((0,g.LFG)(me))}function Z(c,a){if(0==c.length)return a;if(0==a.length)return c;let i=0;return c.endsWith("/")&&i++,a.startsWith("/")&&i++,2==i?c+a.substring(1):1==i?c+a:c+"/"+a}function we(c){const a=c.match(/#|\?|$/),i=a&&a.index||c.length;return c.slice(0,i-("/"===c[i-1]?1:0))+c.slice(i)}function Ee(c){return c&&"?"!==c[0]?"?"+c:c}let De=(()=>{class c{historyGo(i){throw new Error("Not implemented")}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275prov=(0,g.Yz7)({factory:Re,token:c,providedIn:"root"}),c})();function Re(c){const a=(0,g.LFG)(me).location;return new pe((0,g.LFG)(Ae),a&&a.origin||"")}const Ie=new g.OlP("appBaseHref");let pe=(()=>{class c extends De{constructor(i,d){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==d&&(d=this._platformLocation.getBaseHrefFromDOM()),null==d)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=d}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Z(this._baseHref,i)}path(i=!1){const d=this._platformLocation.pathname+Ee(this._platformLocation.search),_=this._platformLocation.hash;return _&&i?`${d}${_}`:d}pushState(i,d,_,C){const M=this.prepareExternalUrl(_+Ee(C));this._platformLocation.pushState(i,d,M)}replaceState(i,d,_,C){const M=this.prepareExternalUrl(_+Ee(C));this._platformLocation.replaceState(i,d,M)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var d,_;null===(_=(d=this._platformLocation).historyGo)||void 0===_||_.call(d,i)}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Ae),g.LFG(Ie,8))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),ze=(()=>{class c extends De{constructor(i,d){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=d&&(this._baseHref=d)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let d=this._platformLocation.hash;return null==d&&(d="#"),d.length>0?d.substring(1):d}prepareExternalUrl(i){const d=Z(this._baseHref,i);return d.length>0?"#"+d:d}pushState(i,d,_,C){let M=this.prepareExternalUrl(_+Ee(C));0==M.length&&(M=this._platformLocation.pathname),this._platformLocation.pushState(i,d,M)}replaceState(i,d,_,C){let M=this.prepareExternalUrl(_+Ee(C));0==M.length&&(M=this._platformLocation.pathname),this._platformLocation.replaceState(i,d,M)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var d,_;null===(_=(d=this._platformLocation).historyGo)||void 0===_||_.call(d,i)}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Ae),g.LFG(Ie,8))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),tt=(()=>{class c{constructor(i,d){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const _=this._platformStrategy.getBaseHref();this._platformLocation=d,this._baseHref=we(x(_)),this._platformStrategy.onPopState(C=>{this._subject.emit({url:this.path(!0),pop:!0,state:C.state,type:C.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,d=""){return this.path()==this.normalize(i+Ee(d))}normalize(i){return c.stripTrailingSlash(function(c,a){return c&&a.startsWith(c)?a.substring(c.length):a}(this._baseHref,x(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,d="",_=null){this._platformStrategy.pushState(_,"",i,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ee(d)),_)}replaceState(i,d="",_=null){this._platformStrategy.replaceState(_,"",i,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ee(d)),_)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var d,_;null===(_=(d=this._platformStrategy).historyGo)||void 0===_||_.call(d,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(d=>{this._notifyUrlChangeListeners(d.url,d.state)}))}_notifyUrlChangeListeners(i="",d){this._urlChangeListeners.forEach(_=>_(i,d))}subscribe(i,d,_){return this._subject.subscribe({next:i,error:d,complete:_})}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(De),g.LFG(Ae))},c.normalizeQueryParams=Ee,c.joinWithSlash=Z,c.stripTrailingSlash=we,c.\u0275prov=(0,g.Yz7)({factory:We,token:c,providedIn:"root"}),c})();function We(){return new tt((0,g.LFG)(De),(0,g.LFG)(Ae))}function x(c){return c.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Zero=0]="Zero",k[k.One=1]="One",k[k.Two=2]="Two",k[k.Few=3]="Few",k[k.Many=4]="Many",k[k.Other=5]="Other",k))();const Je=g.kL8;class Fn{}let ti=(()=>{class c extends Fn{constructor(i){super(),this.locale=i}getPluralCategory(i,d){switch(Je(d||this.locale)(i)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(g.soG))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();function ct(c,a){a=encodeURIComponent(a);for(const i of c.split(";")){const d=i.indexOf("="),[_,C]=-1==d?[i,""]:[i.slice(0,d),i.slice(d+1)];if(_.trim()===a)return decodeURIComponent(C)}return null}class tn{constructor(a,i,d,_){this.$implicit=a,this.ngForOf=i,this.index=d,this.count=_}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class c{constructor(i,d,_){this._viewContainer=i,this._template=d,this._differs=_,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(d){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(c){return c.name||typeof c}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const d=[];i.forEachOperation((_,C,M)=>{if(null==_.previousIndex){const U=this._viewContainer.createEmbeddedView(this._template,new tn(null,this._ngForOf,-1,-1),null===M?void 0:M),ee=new $t(_,U);d.push(ee)}else if(null==M)this._viewContainer.remove(null===C?void 0:C);else if(null!==C){const U=this._viewContainer.get(C);this._viewContainer.move(U,M);const ee=new $t(_,U);d.push(ee)}});for(let _=0;_<d.length;_++)this._perViewChange(d[_].view,d[_].record);for(let _=0,C=this._viewContainer.length;_<C;_++){const M=this._viewContainer.get(_);M.context.index=_,M.context.count=C,M.context.ngForOf=this._ngForOf}i.forEachIdentityChange(_=>{this._viewContainer.get(_.currentIndex).context.$implicit=_.item})}_perViewChange(i,d){i.context.$implicit=d.item}static ngTemplateContextGuard(i,d){return!0}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},c.\u0275dir=g.lG2({type:c,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),c})();class $t{constructor(a,i){this.record=a,this.view=i}}let gr=(()=>{class c{constructor(i,d){this._viewContainer=i,this._context=new Qn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=d}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){qt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){qt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,d){return!0}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(g.s_b),g.Y36(g.Rgc))},c.\u0275dir=g.lG2({type:c,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),c})();class Qn{constructor(){this.$implicit=null,this.ngIf=null}}function qt(c,a){if(a&&!a.createEmbeddedView)throw new Error(`${c} must be a TemplateRef, but received '${(0,g.AaK)(a)}'.`)}let ns=(()=>{class c{transform(i){return JSON.stringify(i,null,2)}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275pipe=g.Yjl({name:"json",type:c,pure:!1}),c})(),ln=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:[{provide:Fn,useClass:ti}]}),c})();let qi=(()=>{class c{}return c.\u0275prov=(0,g.Yz7)({token:c,providedIn:"root",factory:()=>new ic((0,g.LFG)(me),window)}),c})();class ic{constructor(a,i){this.document=a,this.window=i,this.offset=()=>[0,0]}setOffset(a){this.offset=Array.isArray(a)?()=>a:a}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(a){this.supportsScrolling()&&this.window.scrollTo(a[0],a[1])}scrollToAnchor(a){if(!this.supportsScrolling())return;const i=function(c,a){const i=c.getElementById(a)||c.getElementsByName(a)[0];if(i)return i;if("function"==typeof c.createTreeWalker&&c.body&&(c.body.createShadowRoot||c.body.attachShadow)){const d=c.createTreeWalker(c.body,NodeFilter.SHOW_ELEMENT);let _=d.currentNode;for(;_;){const C=_.shadowRoot;if(C){const M=C.getElementById(a)||C.querySelector(`[name="${a}"]`);if(M)return M}_=d.nextNode()}}return null}(this.document,a);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(a){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=a)}}scrollToElement(a){const i=a.getBoundingClientRect(),d=i.left+this.window.pageXOffset,_=i.top+this.window.pageYOffset,C=this.offset();this.window.scrollTo(d-C[0],_-C[1])}attemptFocus(a){return a.focus(),this.document.activeElement===a}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const a=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!a||!a.writable&&!a.set)}catch(a){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(a){return!1}}}function Ei(c){return Object.getOwnPropertyDescriptor(c,"scrollRestoration")}class Na{}class or extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var c;c=new or,P||(P=c)}onAndCancel(a,i,d){return a.addEventListener(i,d,!1),()=>{a.removeEventListener(i,d,!1)}}dispatchEvent(a,i){a.dispatchEvent(i)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,i){return(i=i||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,i){return"window"===i?window:"document"===i?a:"body"===i?a.body:null}getBaseHref(a){const i=(Ci=Ci||document.querySelector("base"),Ci?Ci.getAttribute("href"):null);return null==i?null:function(c){os=os||document.createElement("a"),os.setAttribute("href",c);const a=os.pathname;return"/"===a.charAt(0)?a:`/${a}`}(i)}resetBaseElement(){Ci=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return ct(document.cookie,a)}}let os,Ci=null;const bu=new g.OlP("TRANSITION_ID"),bo=[{provide:g.ip1,useFactory:function(c,a,i){return()=>{i.get(g.CZH).donePromise.then(()=>{const d=Ne(),_=a.querySelectorAll(`style[ng-transition="${c}"]`);for(let C=0;C<_.length;C++)d.remove(_[C])})}},deps:[bu,me,g.zs3],multi:!0}];class Ut{static init(){(0,g.VLi)(new Ut)}addToWindow(a){g.dqk.getAngularTestability=(d,_=!0)=>{const C=a.findTestabilityInTree(d,_);if(null==C)throw new Error("Could not find testability for element.");return C},g.dqk.getAllAngularTestabilities=()=>a.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>a.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(d=>{const _=g.dqk.getAllAngularTestabilities();let C=_.length,M=!1;const U=function(ee){M=M||ee,C--,0==C&&d(M)};_.forEach(function(ee){ee.whenStable(U)})})}findTestabilityInTree(a,i,d){if(null==i)return null;const _=a.getTestability(i);return null!=_?_:d?Ne().isShadowRoot(i)?this.findTestabilityInTree(a,i.host,!0):this.findTestabilityInTree(a,i.parentElement,!0):null}}let wu=(()=>{class c{build(){return new XMLHttpRequest}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();const Di=new g.OlP("EventManagerPlugins");let ii=(()=>{class c{constructor(i,d){this._zone=d,this._eventNameToPlugin=new Map,i.forEach(_=>_.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,d,_){return this._findPluginFor(d).addEventListener(i,d,_)}addGlobalEventListener(i,d,_){return this._findPluginFor(d).addGlobalEventListener(i,d,_)}getZone(){return this._zone}_findPluginFor(i){const d=this._eventNameToPlugin.get(i);if(d)return d;const _=this._plugins;for(let C=0;C<_.length;C++){const M=_[C];if(M.supports(i))return this._eventNameToPlugin.set(i,M),M}throw new Error(`No event manager plugin found for event ${i}`)}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Di),g.LFG(g.R0b))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();class ss{constructor(a){this._doc=a}addGlobalEventListener(a,i,d){const _=Ne().getGlobalEventTarget(this._doc,a);if(!_)throw new Error(`Unsupported event target ${_} for event ${i}`);return this.addEventListener(_,i,d)}}let Pr=(()=>{class c{constructor(){this._stylesSet=new Set}addStyles(i){const d=new Set;i.forEach(_=>{this._stylesSet.has(_)||(this._stylesSet.add(_),d.add(_))}),this.onStylesAdded(d)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),Co=(()=>{class c extends Pr{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,d,_){i.forEach(C=>{const M=this._doc.createElement("style");M.textContent=C,_.push(d.appendChild(M))})}addHost(i){const d=[];this._addStylesToHost(this._stylesSet,i,d),this._hostNodes.set(i,d)}removeHost(i){const d=this._hostNodes.get(i);d&&d.forEach(Ii),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((d,_)=>{this._addStylesToHost(i,_,d)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(Ii))}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(me))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();function Ii(c){Ne().remove(c)}const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dt=/%COMP%/g;function Yi(c,a,i){for(let d=0;d<a.length;d++){let _=a[d];Array.isArray(_)?Yi(c,_,i):(_=_.replace(Dt,c),i.push(_))}return i}function Wn(c){return a=>{if("__ngUnwrap__"===a)return c;!1===c(a)&&(a.preventDefault(),a.returnValue=!1)}}let Io=(()=>{class c{constructor(i,d,_){this.eventManager=i,this.sharedStylesHost=d,this.appId=_,this.rendererByCompId=new Map,this.defaultRenderer=new Ki(i)}createRenderer(i,d){if(!i||!d)return this.defaultRenderer;switch(d.encapsulation){case g.ifc.Emulated:{let _=this.rendererByCompId.get(d.id);return _||(_=new Ao(this.eventManager,this.sharedStylesHost,d,this.appId),this.rendererByCompId.set(d.id,_)),_.applyToHost(i),_}case 1:case g.ifc.ShadowDom:return new oi(this.eventManager,this.sharedStylesHost,i,d);default:if(!this.rendererByCompId.has(d.id)){const _=Yi(d.id,d.styles,[]);this.sharedStylesHost.addStyles(_),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(ii),g.LFG(Co),g.LFG(g.AFp))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();class Ki{constructor(a){this.eventManager=a,this.data=Object.create(null)}destroy(){}createElement(a,i){return i?document.createElementNS(xe[i]||i,a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,i){a.appendChild(i)}insertBefore(a,i,d){a&&a.insertBefore(i,d)}removeChild(a,i){a&&a.removeChild(i)}selectRootElement(a,i){let d="string"==typeof a?document.querySelector(a):a;if(!d)throw new Error(`The selector "${a}" did not match any elements`);return i||(d.textContent=""),d}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,i,d,_){if(_){i=_+":"+i;const C=xe[_];C?a.setAttributeNS(C,i,d):a.setAttribute(i,d)}else a.setAttribute(i,d)}removeAttribute(a,i,d){if(d){const _=xe[d];_?a.removeAttributeNS(_,i):a.removeAttribute(`${d}:${i}`)}else a.removeAttribute(i)}addClass(a,i){a.classList.add(i)}removeClass(a,i){a.classList.remove(i)}setStyle(a,i,d,_){_&(g.JOm.DashCase|g.JOm.Important)?a.style.setProperty(i,d,_&g.JOm.Important?"important":""):a.style[i]=d}removeStyle(a,i,d){d&g.JOm.DashCase?a.style.removeProperty(i):a.style[i]=""}setProperty(a,i,d){a[i]=d}setValue(a,i){a.nodeValue=i}listen(a,i,d){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,i,Wn(d)):this.eventManager.addEventListener(a,i,Wn(d))}}class Ao extends Ki{constructor(a,i,d,_){super(a),this.component=d;const C=Yi(_+"-"+d.id,d.styles,[]);i.addStyles(C),this.contentAttr="_ngcontent-%COMP%".replace(Dt,_+"-"+d.id),this.hostAttr="_nghost-%COMP%".replace(Dt,_+"-"+d.id)}applyToHost(a){super.setAttribute(a,this.hostAttr,"")}createElement(a,i){const d=super.createElement(a,i);return super.setAttribute(d,this.contentAttr,""),d}}class oi extends Ki{constructor(a,i,d,_){super(a),this.sharedStylesHost=i,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Yi(_.id,_.styles,[]);for(let M=0;M<C.length;M++){const U=document.createElement("style");U.textContent=C[M],this.shadowRoot.appendChild(U)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(a,i){return super.appendChild(this.nodeOrShadowRoot(a),i)}insertBefore(a,i,d){return super.insertBefore(this.nodeOrShadowRoot(a),i,d)}removeChild(a,i){return super.removeChild(this.nodeOrShadowRoot(a),i)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}}let Gr=(()=>{class c extends ss{constructor(i){super(i)}supports(i){return!0}addEventListener(i,d,_){return i.addEventListener(d,_,!1),()=>this.removeEventListener(i,d,_)}removeEventListener(i,d,_){return i.removeEventListener(d,_)}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(me))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();const $r=["alt","control","meta","shift"],To={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},si={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I={alt:c=>c.altKey,control:c=>c.ctrlKey,meta:c=>c.metaKey,shift:c=>c.shiftKey};let S=(()=>{class c extends ss{constructor(i){super(i)}supports(i){return null!=c.parseEventName(i)}addEventListener(i,d,_){const C=c.parseEventName(d),M=c.eventCallback(C.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ne().onAndCancel(i,C.domEventName,M))}static parseEventName(i){const d=i.toLowerCase().split("."),_=d.shift();if(0===d.length||"keydown"!==_&&"keyup"!==_)return null;const C=c._normalizeKey(d.pop());let M="";if($r.forEach(ee=>{const Me=d.indexOf(ee);Me>-1&&(d.splice(Me,1),M+=ee+".")}),M+=C,0!=d.length||0===C.length)return null;const U={};return U.domEventName=_,U.fullKey=M,U}static getEventFullKey(i){let d="",_=function(c){let a=c.key;if(null==a){if(a=c.keyIdentifier,null==a)return"Unidentified";a.startsWith("U+")&&(a=String.fromCharCode(parseInt(a.substring(2),16)),3===c.location&&si.hasOwnProperty(a)&&(a=si[a]))}return To[a]||a}(i);return _=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),$r.forEach(C=>{C!=_&&I[C](i)&&(d+=C+".")}),d+=_,d}static eventCallback(i,d,_){return C=>{c.getEventFullKey(C)===i&&_.runGuarded(()=>d(C))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(me))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();const Ir=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){or.makeCurrent(),Ut.init()},multi:!0},{provide:me,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),An=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Di,useClass:Gr,multi:!0,deps:[me,g.R0b,g.Lbi]},{provide:Di,useClass:S,multi:!0,deps:[me]},[],{provide:Io,useClass:Io,deps:[ii,Co,g.AFp]},{provide:g.FYo,useExisting:Io},{provide:Pr,useExisting:Co},{provide:Co,useClass:Co,deps:[me]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:ii,useClass:ii,deps:[Di,g.R0b]},{provide:Na,useClass:wu,deps:[]},[]];let Fa=(()=>{class c{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:c,providers:[{provide:g.AFp,useValue:i.appId},{provide:bu,useExisting:g.AFp},bo]}}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(c,12))},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:An,imports:[ln,g.hGG]}),c})();"undefined"!=typeof window&&window;var st=z(5917),kn=z(7574),Ar=z(9773);function Ti(c,a){return(0,Ar.zg)(c,a,1)}var Ln=z(7393);function ai(c,a){return function(d){return d.lift(new Va(c,a))}}class Va{constructor(a,i){this.predicate=a,this.thisArg=i}call(a,i){return i.subscribe(new Tu(a,this.predicate,this.thisArg))}}class Tu extends Ln.L{constructor(a,i,d){super(a),this.predicate=i,this.thisArg=d,this.count=0}_next(a){let i;try{i=this.predicate.call(this.thisArg,a,this.count++)}catch(d){return void this.destination.error(d)}i&&this.destination.next(a)}}var mt=z(8002);class uc{}class ja{}class qr{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?this.lazyInit="string"==typeof a?()=>{this.headers=new Map,a.split("\n").forEach(i=>{const d=i.indexOf(":");if(d>0){const _=i.slice(0,d),C=_.toLowerCase(),M=i.slice(d+1).trim();this.maybeSetNormalizedName(_,C),this.headers.has(C)?this.headers.get(C).push(M):this.headers.set(C,[M])}})}:()=>{this.headers=new Map,Object.keys(a).forEach(i=>{let d=a[i];const _=i.toLowerCase();"string"==typeof d&&(d=[d]),d.length>0&&(this.headers.set(_,d),this.maybeSetNormalizedName(i,_))})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const i=this.headers.get(a.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,i){return this.clone({name:a,value:i,op:"a"})}set(a,i){return this.clone({name:a,value:i,op:"s"})}delete(a,i){return this.clone({name:a,value:i,op:"d"})}maybeSetNormalizedName(a,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,a)}init(){this.lazyInit&&(this.lazyInit instanceof qr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(i=>{this.headers.set(i,a.headers.get(i)),this.normalizedNames.set(i,a.normalizedNames.get(i))})}clone(a){const i=new qr;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof qr?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([a]),i}applyUpdate(a){const i=a.name.toLowerCase();switch(a.op){case"a":case"s":let d=a.value;if("string"==typeof d&&(d=[d]),0===d.length)return;this.maybeSetNormalizedName(a.name,i);const _=("a"===a.op?this.headers.get(i):void 0)||[];_.push(...d),this.headers.set(i,_);break;case"d":const C=a.value;if(C){let M=this.headers.get(i);if(!M)return;M=M.filter(U=>-1===C.indexOf(U)),0===M.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,M)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>a(this.normalizedNames.get(i),this.headers.get(i)))}}class Qs{encodeKey(a){return Js(a)}encodeValue(a){return Js(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const ff=/%(\d[a-f0-9])/gi,cc={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Js(c){return encodeURIComponent(c).replace(ff,(a,i)=>{var d;return null!==(d=cc[i])&&void 0!==d?d:a})}function sl(c){return`${c}`}class mr{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new Qs,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(c,a){const i=new Map;return c.length>0&&c.replace(/^\?/,"").split("&").forEach(_=>{const C=_.indexOf("="),[M,U]=-1==C?[a.decodeKey(_),""]:[a.decodeKey(_.slice(0,C)),a.decodeValue(_.slice(C+1))],ee=i.get(M)||[];ee.push(U),i.set(M,ee)}),i}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(i=>{const d=a.fromObject[i];this.map.set(i,Array.isArray(d)?d:[d])})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const i=this.map.get(a);return i?i[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,i){return this.clone({param:a,value:i,op:"a"})}appendAll(a){const i=[];return Object.keys(a).forEach(d=>{const _=a[d];Array.isArray(_)?_.forEach(C=>{i.push({param:d,value:C,op:"a"})}):i.push({param:d,value:_,op:"a"})}),this.clone(i)}set(a,i){return this.clone({param:a,value:i,op:"s"})}delete(a,i){return this.clone({param:a,value:i,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const i=this.encoder.encodeKey(a);return this.map.get(a).map(d=>i+"="+this.encoder.encodeValue(d)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const i=new mr({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(a),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const i=("a"===a.op?this.map.get(a.param):void 0)||[];i.push(sl(a.value)),this.map.set(a.param,i);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let d=this.map.get(a.param)||[];const _=d.indexOf(sl(a.value));-1!==_&&d.splice(_,1),d.length>0?this.map.set(a.param,d):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class Xs{constructor(){this.map=new Map}set(a,i){return this.map.set(a,i),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}keys(){return this.map.keys()}}function lc(c){return"undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer}function Mu(c){return"undefined"!=typeof Blob&&c instanceof Blob}function Fr(c){return"undefined"!=typeof FormData&&c instanceof FormData}class zr{constructor(a,i,d,_){let C;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function(c){switch(c){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_?(this.body=void 0!==d?d:null,C=_):C=d,C&&(this.reportProgress=!!C.reportProgress,this.withCredentials=!!C.withCredentials,C.responseType&&(this.responseType=C.responseType),C.headers&&(this.headers=C.headers),C.context&&(this.context=C.context),C.params&&(this.params=C.params)),this.headers||(this.headers=new qr),this.context||(this.context=new Xs),this.params){const M=this.params.toString();if(0===M.length)this.urlWithParams=i;else{const U=i.indexOf("?");this.urlWithParams=i+(-1===U?"?":U<i.length-1?"&":"")+M}}else this.params=new mr,this.urlWithParams=i}serializeBody(){return null===this.body?null:lc(this.body)||Mu(this.body)||Fr(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof mr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fr(this.body)?null:Mu(this.body)?this.body.type||null:lc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){var i;const d=a.method||this.method,_=a.url||this.url,C=a.responseType||this.responseType,M=void 0!==a.body?a.body:this.body,U=void 0!==a.withCredentials?a.withCredentials:this.withCredentials,ee=void 0!==a.reportProgress?a.reportProgress:this.reportProgress;let Me=a.headers||this.headers,Pe=a.params||this.params;const je=null!==(i=a.context)&&void 0!==i?i:this.context;return void 0!==a.setHeaders&&(Me=Object.keys(a.setHeaders).reduce((Qe,ke)=>Qe.set(ke,a.setHeaders[ke]),Me)),a.setParams&&(Pe=Object.keys(a.setParams).reduce((Qe,ke)=>Qe.set(ke,a.setParams[ke]),Pe)),new zr(d,_,M,{params:Pe,headers:Me,context:je,reportProgress:ee,responseType:C,withCredentials:U})}}var En=(()=>((En=En||{})[En.Sent=0]="Sent",En[En.UploadProgress=1]="UploadProgress",En[En.ResponseHeader=2]="ResponseHeader",En[En.DownloadProgress=3]="DownloadProgress",En[En.Response=4]="Response",En[En.User=5]="User",En))();class ea{constructor(a,i=200,d="OK"){this.headers=a.headers||new qr,this.status=void 0!==a.status?a.status:i,this.statusText=a.statusText||d,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class xo extends ea{constructor(a={}){super(a),this.type=En.ResponseHeader}clone(a={}){return new xo({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class al extends ea{constructor(a={}){super(a),this.type=En.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new al({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Wr extends ea{constructor(a){super(a,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function Qi(c,a){return{body:a,headers:c.headers,context:c.context,observe:c.observe,params:c.params,reportProgress:c.reportProgress,responseType:c.responseType,withCredentials:c.withCredentials}}let yn=(()=>{class c{constructor(i){this.handler=i}request(i,d,_={}){let C;if(i instanceof zr)C=i;else{let ee,Me;ee=_.headers instanceof qr?_.headers:new qr(_.headers),_.params&&(Me=_.params instanceof mr?_.params:new mr({fromObject:_.params})),C=new zr(i,d,void 0!==_.body?_.body:null,{headers:ee,context:_.context,params:Me,reportProgress:_.reportProgress,responseType:_.responseType||"json",withCredentials:_.withCredentials})}const M=(0,st.of)(C).pipe(Ti(ee=>this.handler.handle(ee)));if(i instanceof zr||"events"===_.observe)return M;const U=M.pipe(ai(ee=>ee instanceof al));switch(_.observe||"body"){case"body":switch(C.responseType){case"arraybuffer":return U.pipe((0,mt.U)(ee=>{if(null!==ee.body&&!(ee.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ee.body}));case"blob":return U.pipe((0,mt.U)(ee=>{if(null!==ee.body&&!(ee.body instanceof Blob))throw new Error("Response is not a Blob.");return ee.body}));case"text":return U.pipe((0,mt.U)(ee=>{if(null!==ee.body&&"string"!=typeof ee.body)throw new Error("Response is not a string.");return ee.body}));case"json":default:return U.pipe((0,mt.U)(ee=>ee.body))}case"response":return U;default:throw new Error(`Unreachable: unhandled observe type ${_.observe}}`)}}delete(i,d={}){return this.request("DELETE",i,d)}get(i,d={}){return this.request("GET",i,d)}head(i,d={}){return this.request("HEAD",i,d)}jsonp(i,d){return this.request("JSONP",i,{params:(new mr).append(d,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,d={}){return this.request("OPTIONS",i,d)}patch(i,d,_={}){return this.request("PATCH",i,Qi(_,d))}post(i,d,_={}){return this.request("POST",i,Qi(_,d))}put(i,d,_={}){return this.request("PUT",i,Qi(_,d))}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(uc))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();class lr{constructor(a,i){this.next=a,this.interceptor=i}handle(a){return this.interceptor.intercept(a,this.next)}}const Tn=new g.OlP("HTTP_INTERCEPTORS");let Md=(()=>{class c{intercept(i,d){return d.handle(i)}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();const gs=/^\)\]\}',?\n/;let Nd=(()=>{class c{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kn.y(d=>{const _=this.xhrFactory.build();if(_.open(i.method,i.urlWithParams),i.withCredentials&&(_.withCredentials=!0),i.headers.forEach((ke,lt)=>_.setRequestHeader(ke,lt.join(","))),i.headers.has("Accept")||_.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const ke=i.detectContentTypeHeader();null!==ke&&_.setRequestHeader("Content-Type",ke)}if(i.responseType){const ke=i.responseType.toLowerCase();_.responseType="json"!==ke?ke:"text"}const C=i.serializeBody();let M=null;const U=()=>{if(null!==M)return M;const ke=1223===_.status?204:_.status,lt=_.statusText||"OK",zt=new qr(_.getAllResponseHeaders()),Qt=function(c){return"responseURL"in c&&c.responseURL?c.responseURL:/^X-Request-URL:/m.test(c.getAllResponseHeaders())?c.getResponseHeader("X-Request-URL"):null}(_)||i.url;return M=new xo({headers:zt,status:ke,statusText:lt,url:Qt}),M},ee=()=>{let{headers:ke,status:lt,statusText:zt,url:Qt}=U(),Lt=null;204!==lt&&(Lt=void 0===_.response?_.responseText:_.response),0===lt&&(lt=Lt?200:0);let gn=lt>=200&&lt<300;if("json"===i.responseType&&"string"==typeof Lt){const Sn=Lt;Lt=Lt.replace(gs,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(Qr){Lt=Sn,gn&&(gn=!1,Lt={error:Qr,text:Lt})}}gn?(d.next(new al({body:Lt,headers:ke,status:lt,statusText:zt,url:Qt||void 0})),d.complete()):d.error(new Wr({error:Lt,headers:ke,status:lt,statusText:zt,url:Qt||void 0}))},Me=ke=>{const{url:lt}=U(),zt=new Wr({error:ke,status:_.status||0,statusText:_.statusText||"Unknown Error",url:lt||void 0});d.error(zt)};let Pe=!1;const je=ke=>{Pe||(d.next(U()),Pe=!0);let lt={type:En.DownloadProgress,loaded:ke.loaded};ke.lengthComputable&&(lt.total=ke.total),"text"===i.responseType&&!!_.responseText&&(lt.partialText=_.responseText),d.next(lt)},Qe=ke=>{let lt={type:En.UploadProgress,loaded:ke.loaded};ke.lengthComputable&&(lt.total=ke.total),d.next(lt)};return _.addEventListener("load",ee),_.addEventListener("error",Me),_.addEventListener("timeout",Me),_.addEventListener("abort",Me),i.reportProgress&&(_.addEventListener("progress",je),null!==C&&_.upload&&_.upload.addEventListener("progress",Qe)),_.send(C),d.next({type:En.Sent}),()=>{_.removeEventListener("error",Me),_.removeEventListener("abort",Me),_.removeEventListener("load",ee),_.removeEventListener("timeout",Me),i.reportProgress&&(_.removeEventListener("progress",je),null!==C&&_.upload&&_.upload.removeEventListener("progress",Qe)),_.readyState!==_.DONE&&_.abort()}})}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Na))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();const ms=new g.OlP("XSRF_COOKIE_NAME"),xu=new g.OlP("XSRF_HEADER_NAME");class Hn{}let Oo=(()=>{class c{constructor(i,d,_){this.doc=i,this.platform=d,this.cookieName=_,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=ct(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(me),g.LFG(g.Lbi),g.LFG(ms))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),ta=(()=>{class c{constructor(i,d){this.tokenService=i,this.headerName=d}intercept(i,d){const _=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||_.startsWith("http://")||_.startsWith("https://"))return d.handle(i);const C=this.tokenService.getToken();return null!==C&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,C)})),d.handle(i)}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Hn),g.LFG(xu))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),na=(()=>{class c{constructor(i,d){this.backend=i,this.injector=d,this.chain=null}handle(i){if(null===this.chain){const d=this.injector.get(Tn,[]);this.chain=d.reduceRight((_,C)=>new lr(_,C),this.backend)}return this.chain.handle(i)}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(ja),g.LFG(g.zs3))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),Vn=(()=>{class c{static disable(){return{ngModule:c,providers:[{provide:ta,useClass:Md}]}}static withOptions(i={}){return{ngModule:c,providers:[i.cookieName?{provide:ms,useValue:i.cookieName}:[],i.headerName?{provide:xu,useValue:i.headerName}:[]]}}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:[ta,{provide:Tn,useExisting:ta,multi:!0},{provide:Hn,useClass:Oo},{provide:ms,useValue:"XSRF-TOKEN"},{provide:xu,useValue:"X-XSRF-TOKEN"}]}),c})(),ys=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:[yn,{provide:uc,useClass:na},Nd,{provide:ja,useExisting:Nd}],imports:[[Vn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),c})();var dn=z(4402),Ji=z(9765),pf=z(7971);class Xi extends Ji.xQ{constructor(a){super(),this._value=a}get value(){return this.getValue()}_subscribe(a){const i=super._subscribe(a);return i&&!i.closed&&a.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pf.N;return this._value}next(a){super.next(this._value=a)}}var gf=z(4869),fc=z(9796);class Yr extends Ln.L{notifyNext(a,i,d,_,C){this.destination.next(i)}notifyError(a,i){this.destination.error(a)}notifyComplete(a){this.destination.complete()}}class Ba extends Ln.L{constructor(a,i,d){super(),this.parent=a,this.outerValue=i,this.outerIndex=d,this.index=0}_next(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)}_error(a){this.parent.notifyError(a,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Mi=z(7444);function ul(c,a,i,d,_=new Ba(c,i,d)){if(!_.closed)return a instanceof kn.y?a.subscribe(_):(0,Mi.s)(a)(_)}var cl=z(6693);const mf={};class ia{constructor(a){this.resultSelector=a}call(a,i){return i.subscribe(new ll(a,this.resultSelector))}}class ll extends Yr{constructor(a,i){super(a),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(a){this.values.push(mf),this.observables.push(a)}_complete(){const a=this.observables,i=a.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let d=0;d<i;d++)this.add(ul(this,a[d],void 0,d))}}notifyComplete(a){0==(this.active-=1)&&this.destination.complete()}notifyNext(a,i,d){const _=this.values,M=this.toRespond?_[d]===mf?--this.toRespond:this.toRespond:0;_[d]=i,0===M&&(this.resultSelector?this._tryResultSelector(_):this.destination.next(_.slice()))}_tryResultSelector(a){let i;try{i=this.resultSelector.apply(this,a)}catch(d){return void this.destination.error(d)}this.destination.next(i)}}const vs=(()=>{function c(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return c.prototype=Object.create(Error.prototype),c})();var oa=z(3282);function yf(...c){return(0,oa.J)(1)((0,st.of)(...c))}var ci=z(9193);function Ou(c){return new kn.y(a=>{let i;try{i=c()}catch(_){return void a.error(_)}return(i?(0,dn.D)(i):(0,ci.c)()).subscribe(a)})}var Ha=z(2441),Ga=z(5345);function yr(c,a){return"function"==typeof a?i=>i.pipe(yr((d,_)=>(0,dn.D)(c(d,_)).pipe((0,mt.U)((C,M)=>a(d,C,_,M))))):i=>i.lift(new Od(c))}class Od{constructor(a){this.project=a}call(a,i){return i.subscribe(new fl(a,this.project))}}class fl extends Ga.Ds{constructor(a,i){super(a),this.project=i,this.index=0}_next(a){let i;const d=this.index++;try{i=this.project(a,d)}catch(_){return void this.destination.error(_)}this._innerSub(i)}_innerSub(a){const i=this.innerSubscription;i&&i.unsubscribe();const d=new Ga.IY(this),_=this.destination;_.add(d),this.innerSubscription=(0,Ga.ft)(a,d),this.innerSubscription!==d&&_.add(this.innerSubscription)}_complete(){const{innerSubscription:a}=this;(!a||a.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(a){this.destination.next(a)}}const Po=(()=>{function c(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return c.prototype=Object.create(Error.prototype),c})();function _s(c){return a=>0===c?(0,ci.c)():a.lift(new Fo(c))}class Fo{constructor(a){if(this.total=a,this.total<0)throw new Po}call(a,i){return i.subscribe(new Ru(a,this.total))}}class Ru extends Ln.L{constructor(a,i){super(a),this.total=i,this.count=0}_next(a){const i=this.total,d=++this.count;d<=i&&(this.destination.next(a),d===i&&(this.destination.complete(),this.unsubscribe()))}}function vn(...c){const a=c[c.length-1];return(0,gf.K)(a)?(c.pop(),i=>yf(c,i,a)):i=>yf(c,i)}function sa(c,a){let i=!1;return arguments.length>=2&&(i=!0),function(_){return _.lift(new vf(c,a,i))}}class vf{constructor(a,i,d=!1){this.accumulator=a,this.seed=i,this.hasSeed=d}call(a,i){return i.subscribe(new ko(a,this.accumulator,this.seed,this.hasSeed))}}class ko extends Ln.L{constructor(a,i,d,_){super(a),this.accumulator=i,this._seed=d,this.hasSeed=_,this.index=0}get seed(){return this._seed}set seed(a){this.hasSeed=!0,this._seed=a}_next(a){if(this.hasSeed)return this._tryNext(a);this.seed=a,this.destination.next(a)}_tryNext(a){const i=this.index++;let d;try{d=this.accumulator(this.seed,a,i)}catch(_){this.destination.error(_)}this.seed=d,this.destination.next(d)}}function er(c){return function(i){const d=new _f(c),_=i.lift(d);return d.caught=_}}class _f{constructor(a){this.selector=a}call(a,i){return i.subscribe(new bf(a,this.selector,this.caught))}}class bf extends Ga.Ds{constructor(a,i,d){super(a),this.selector=i,this.caught=d}error(a){if(!this.isStopped){let i;try{i=this.selector(a,this.caught)}catch(C){return void super.error(C)}this._unsubscribeAndRecycle();const d=new Ga.IY(this);this.add(d);const _=(0,Ga.ft)(i,d);_!==d&&this.add(_)}}}function hc(c){return function(i){return 0===c?(0,ci.c)():i.lift(new vp(c))}}class vp{constructor(a){if(this.total=a,this.total<0)throw new Po}call(a,i){return i.subscribe(new Lo(a,this.total))}}class Lo extends Ln.L{constructor(a,i){super(a),this.total=i,this.ring=new Array,this.count=0}_next(a){const i=this.ring,d=this.total,_=this.count++;i.length<d?i.push(a):i[_%d]=a}_complete(){const a=this.destination;let i=this.count;if(i>0){const d=this.count>=this.total?this.total:this.count,_=this.ring;for(let C=0;C<d;C++){const M=i++%d;a.next(_[M])}}a.complete()}}function Ni(c=wf){return a=>a.lift(new Vo(c))}class Vo{constructor(a){this.errorFactory=a}call(a,i){return i.subscribe(new jo(a,this.errorFactory))}}class jo extends Ln.L{constructor(a,i){super(a),this.errorFactory=i,this.hasValue=!1}_next(a){this.hasValue=!0,this.destination.next(a)}_complete(){if(this.hasValue)return this.destination.complete();{let a;try{a=this.errorFactory()}catch(i){a=i}this.destination.error(a)}}}function wf(){return new vs}function hl(c=null){return a=>a.lift(new pl(c))}class pl{constructor(a){this.defaultValue=a}call(a,i){return i.subscribe(new pc(a,this.defaultValue))}}class pc extends Ln.L{constructor(a,i){super(a),this.defaultValue=i,this.isEmpty=!0}_next(a){this.isEmpty=!1,this.destination.next(a)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var gl=z(4487);function li(c,a){const i=arguments.length>=2;return d=>d.pipe(c?ai((_,C)=>c(_,C,d)):gl.y,_s(1),i?hl(a):Ni(()=>new vs))}var _n=z(3342),$a=z(1307),yl=z(5319);class Ef{constructor(a){this.callback=a}call(a,i){return i.subscribe(new Pd(a,this.callback))}}class Pd extends Ln.L{constructor(a,i){super(a),this.add(new yl.w(i))}}class bs{constructor(a,i){this.id=a,this.url=i}}class vl extends bs{constructor(a,i,d="imperative",_=null){super(a,i),this.navigationTrigger=d,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class aa extends bs{constructor(a,i,d){super(a,i),this.urlAfterRedirects=d}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cf extends bs{constructor(a,i,d){super(a,i),this.reason=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pu extends bs{constructor(a,i,d){super(a,i),this.error=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gc extends bs{constructor(a,i,d,_){super(a,i),this.urlAfterRedirects=d,this.state=_}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qa extends bs{constructor(a,i,d,_){super(a,i),this.urlAfterRedirects=d,this.state=_}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fd extends bs{constructor(a,i,d,_,C){super(a,i),this.urlAfterRedirects=d,this.state=_,this.shouldActivate=C}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kd extends bs{constructor(a,i,d,_){super(a,i),this.urlAfterRedirects=d,this.state=_}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Df extends bs{constructor(a,i,d,_){super(a,i),this.urlAfterRedirects=d,this.state=_}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ua{constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uo{constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _l{constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class If{constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(a,i,d){this.routerEvent=a,this.position=i,this.anchor=d}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tt="primary";class Ld{constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const i=this.params[a];return Array.isArray(i)?i[0]:i}return null}getAll(a){if(this.has(a)){const i=this.params[a];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function za(c){return new Ld(c)}const Af="ngNavigationCancelingError";function xi(c){const a=Error("NavigationCancelingError: "+c);return a[Af]=!0,a}function bl(c,a,i){const d=i.path.split("/");if(d.length>c.length||"full"===i.pathMatch&&(a.hasChildren()||d.length<c.length))return null;const _={};for(let C=0;C<d.length;C++){const M=d[C],U=c[C];if(M.startsWith(":"))_[M.substring(1)]=U;else if(M!==U.path)return null}return{consumed:c.slice(0,d.length),posParams:_}}function eo(c,a){const i=c?Object.keys(c):void 0,d=a?Object.keys(a):void 0;if(!i||!d||i.length!=d.length)return!1;let _;for(let C=0;C<i.length;C++)if(_=i[C],!Tf(c[_],a[_]))return!1;return!0}function Tf(c,a){if(Array.isArray(c)&&Array.isArray(a)){if(c.length!==a.length)return!1;const i=[...c].sort(),d=[...a].sort();return i.every((_,C)=>d[C]===_)}return c===a}function yc(c){return Array.prototype.concat.apply([],c)}function vc(c){return c.length>0?c[c.length-1]:null}function dr(c,a){for(const i in c)c.hasOwnProperty(i)&&a(c[i],i)}function to(c){return(0,g.CqO)(c)?c:(0,g.QGY)(c)?(0,dn.D)(Promise.resolve(c)):(0,st.of)(c)}const Bd={exact:function wl(c,a,i){if(!fi(c.segments,a.segments)||!ku(c.segments,a.segments,i)||c.numberOfChildren!==a.numberOfChildren)return!1;for(const d in a.children)if(!c.children[d]||!wl(c.children[d],a.children[d],i))return!1;return!0},subset:Wa},Hd={exact:function(c,a){return eo(c,a)},subset:function(c,a){return Object.keys(a).length<=Object.keys(c).length&&Object.keys(a).every(i=>Tf(c[i],a[i]))},ignored:()=>!0};function Sf(c,a,i){return Bd[i.paths](c.root,a.root,i.matrixParams)&&Hd[i.queryParams](c.queryParams,a.queryParams)&&!("exact"===i.fragment&&c.fragment!==a.fragment)}function Wa(c,a,i){return _c(c,a,a.segments,i)}function _c(c,a,i,d){if(c.segments.length>i.length){const _=c.segments.slice(0,i.length);return!(!fi(_,i)||a.hasChildren()||!ku(_,i,d))}if(c.segments.length===i.length){if(!fi(c.segments,i)||!ku(c.segments,i,d))return!1;for(const _ in a.children)if(!c.children[_]||!Wa(c.children[_],a.children[_],d))return!1;return!0}{const _=i.slice(0,c.segments.length),C=i.slice(c.segments.length);return!!(fi(c.segments,_)&&ku(c.segments,_,d)&&c.children[Tt])&&_c(c.children[Tt],a,C,d)}}function ku(c,a,i){return a.every((d,_)=>Hd[i](c[_].parameters,d.parameters))}class ro{constructor(a,i,d){this.root=a,this.queryParams=i,this.fragment=d}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=za(this.queryParams)),this._queryParamMap}toString(){return bp.serialize(this)}}class xt{constructor(a,i){this.segments=a,this.children=i,this.parent=null,dr(i,(d,_)=>d.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oi(this)}}class la{constructor(a,i){this.path=a,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=za(this.parameters)),this._parameterMap}toString(){return pa(this)}}function fi(c,a){return c.length===a.length&&c.every((i,d)=>i.path===a[d].path)}class fa{}class da{parse(a){const i=new Il(a);return new ro(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(a){var c;return`${`/${Ho(a.root,!0)}`}${function(c){const a=Object.keys(c).map(i=>{const d=c[i];return Array.isArray(d)?d.map(_=>`${bc(i)}=${bc(_)}`).join("&"):`${bc(i)}=${bc(d)}`}).filter(i=>!!i);return a.length?`?${a.join("&")}`:""}(a.queryParams)}${"string"==typeof a.fragment?`#${c=a.fragment,encodeURI(c)}`:""}`}}const bp=new da;function Oi(c){return c.segments.map(a=>pa(a)).join("/")}function Ho(c,a){if(!c.hasChildren())return Oi(c);if(a){const i=c.children[Tt]?Ho(c.children[Tt],!1):"",d=[];return dr(c.children,(_,C)=>{C!==Tt&&d.push(`${C}:${Ho(_,!1)}`)}),d.length>0?`${i}(${d.join("//")})`:i}{const i=function(c,a){let i=[];return dr(c.children,(d,_)=>{_===Tt&&(i=i.concat(a(d,_)))}),dr(c.children,(d,_)=>{_!==Tt&&(i=i.concat(a(d,_)))}),i}(c,(d,_)=>_===Tt?[Ho(c.children[Tt],!1)]:[`${_}:${Ho(d,!1)}`]);return 1===Object.keys(c.children).length&&null!=c.children[Tt]?`${Oi(c)}/${i[0]}`:`${Oi(c)}/(${i.join("//")})`}}function El(c){return encodeURIComponent(c).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bc(c){return El(c).replace(/%3B/gi,";")}function wc(c){return El(c).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ha(c){return decodeURIComponent(c)}function Ya(c){return ha(c.replace(/\+/g,"%20"))}function pa(c){return`${wc(c.path)}${function(c){return Object.keys(c).map(a=>`;${wc(a)}=${wc(c[a])}`).join("")}(c.parameters)}`}const qd=/^[^\/()?;=#]+/;function Lu(c){const a=c.match(qd);return a?a[0]:""}const Ec=/^[^=?&#]+/,zd=/^[^?&#]+/;class Il{constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let d={};return this.peekStartsWith("(")&&(d=this.parseParens(!1)),(a.length>0||Object.keys(i).length>0)&&(d[Tt]=new xt(a,i)),d}parseSegment(){const a=Lu(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(a),new la(ha(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const i=Lu(this.remaining);if(!i)return;this.capture(i);let d="";if(this.consumeOptional("=")){const _=Lu(this.remaining);_&&(d=_,this.capture(d))}a[ha(i)]=ha(d)}parseQueryParam(a){const i=function(c){const a=c.match(Ec);return a?a[0]:""}(this.remaining);if(!i)return;this.capture(i);let d="";if(this.consumeOptional("=")){const M=function(c){const a=c.match(zd);return a?a[0]:""}(this.remaining);M&&(d=M,this.capture(d))}const _=Ya(i),C=Ya(d);if(a.hasOwnProperty(_)){let M=a[_];Array.isArray(M)||(M=[M],a[_]=M),M.push(C)}else a[_]=C}parseParens(a){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const d=Lu(this.remaining),_=this.remaining[d.length];if("/"!==_&&")"!==_&&";"!==_)throw new Error(`Cannot parse url '${this.url}'`);let C;d.indexOf(":")>-1?(C=d.substr(0,d.indexOf(":")),this.capture(C),this.capture(":")):a&&(C=Tt);const M=this.parseChildren();i[C]=1===Object.keys(M).length?M[Tt]:new xt([],M),this.consumeOptional("//")}return i}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new Error(`Expected "${a}".`)}}class Cc{constructor(a){this._root=a}get root(){return this._root.value}parent(a){const i=this.pathFromRoot(a);return i.length>1?i[i.length-2]:null}children(a){const i=Dc(a,this._root);return i?i.children.map(d=>d.value):[]}firstChild(a){const i=Dc(a,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(a){const i=Es(a,this._root);return i.length<2?[]:i[i.length-2].children.map(_=>_.value).filter(_=>_!==a)}pathFromRoot(a){return Es(a,this._root).map(i=>i.value)}}function Dc(c,a){if(c===a.value)return a;for(const i of a.children){const d=Dc(c,i);if(d)return d}return null}function Es(c,a){if(c===a.value)return[a];for(const i of a.children){const d=Es(c,i);if(d.length)return d.unshift(a),d}return[]}class Go{constructor(a,i){this.value=a,this.children=i}toString(){return`TreeNode(${this.value})`}}function io(c){const a={};return c&&c.children.forEach(i=>a[i.value.outlet]=i),a}class tr extends Cc{constructor(a,i){super(a),this.snapshot=i,ga(this,a)}toString(){return this.snapshot.toString()}}function Cs(c,a){const i=function(c,a){const M=new Ka([],{},{},"",{},Tt,a,null,c.root,-1,{});return new Mf("",new Go(M,[]))}(c,a),d=new Xi([new la("",{})]),_=new Xi({}),C=new Xi({}),M=new Xi({}),U=new Xi(""),ee=new oo(d,_,M,U,C,Tt,a,i.root);return ee.snapshot=i.root,new tr(new Go(ee,[]),i)}class oo{constructor(a,i,d,_,C,M,U,ee){this.url=a,this.params=i,this.queryParams=d,this.fragment=_,this.data=C,this.outlet=M,this.component=U,this._futureSnapshot=ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(a=>za(a)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(a=>za(a)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nr(c,a="emptyOnly"){const i=c.pathFromRoot;let d=0;if("always"!==a)for(d=i.length-1;d>=1;){const _=i[d],C=i[d-1];if(_.routeConfig&&""===_.routeConfig.path)d--;else{if(C.component)break;d--}}return function(c){return c.reduce((a,i)=>({params:Object.assign(Object.assign({},a.params),i.params),data:Object.assign(Object.assign({},a.data),i.data),resolve:Object.assign(Object.assign({},a.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(d))}class Ka{constructor(a,i,d,_,C,M,U,ee,Me,Pe,je){this.url=a,this.params=i,this.queryParams=d,this.fragment=_,this.data=C,this.outlet=M,this.component=U,this.routeConfig=ee,this._urlSegment=Me,this._lastPathIndex=Pe,this._resolve=je}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=za(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=za(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(d=>d.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mf extends Cc{constructor(a,i){super(i),this.url=a,ga(this,i)}toString(){return Ac(this._root)}}function ga(c,a){a.value._routerState=c,a.children.forEach(i=>ga(c,i))}function Ac(c){const a=c.children.length>0?` { ${c.children.map(Ac).join(", ")} } `:"";return`${c.value}${a}`}function Tc(c){if(c.snapshot){const a=c.snapshot,i=c._futureSnapshot;c.snapshot=i,eo(a.queryParams,i.queryParams)||c.queryParams.next(i.queryParams),a.fragment!==i.fragment&&c.fragment.next(i.fragment),eo(a.params,i.params)||c.params.next(i.params),function(c,a){if(c.length!==a.length)return!1;for(let i=0;i<c.length;++i)if(!eo(c[i],a[i]))return!1;return!0}(a.url,i.url)||c.url.next(i.url),eo(a.data,i.data)||c.data.next(i.data)}else c.snapshot=c._futureSnapshot,c.data.next(c._futureSnapshot.data)}function ju(c,a){return eo(c.params,a.params)&&function(c,a){return fi(c,a)&&c.every((i,d)=>eo(i.parameters,a[d].parameters))}(c.url,a.url)&&!(!c.parent!=!a.parent)&&(!c.parent||ju(c.parent,a.parent))}function Qa(c,a,i){if(i&&c.shouldReuseRoute(a.value,i.value.snapshot)){const d=i.value;d._futureSnapshot=a.value;const _=function(c,a,i){return a.children.map(d=>{for(const _ of i.children)if(c.shouldReuseRoute(d.value,_.value.snapshot))return Qa(c,d,_);return Qa(c,d)})}(c,a,i);return new Go(d,_)}{if(c.shouldAttach(a.value)){const C=c.retrieve(a.value);if(null!==C){const M=C.route;return Tl(a,M),M}}const d=function(c){return new oo(new Xi(c.url),new Xi(c.params),new Xi(c.queryParams),new Xi(c.fragment),new Xi(c.data),c.outlet,c.component,c)}(a.value),_=a.children.map(C=>Qa(c,C));return new Go(d,_)}}function Tl(c,a){if(c.value.routeConfig!==a.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(c.children.length!==a.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");a.value._futureSnapshot=c.value;for(let i=0;i<c.children.length;++i)Tl(c.children[i],a.children[i])}function As(c){return"object"==typeof c&&null!=c&&!c.outlets&&!c.segmentPath}function Ja(c){return"object"==typeof c&&null!=c&&c.outlets}function Sl(c,a,i,d,_){let C={};return d&&dr(d,(M,U)=>{C[U]=Array.isArray(M)?M.map(ee=>`${ee}`):`${M}`}),new ro(i.root===c?a:xf(i.root,c,a),C,_)}function xf(c,a,i){const d={};return dr(c.children,(_,C)=>{d[C]=_===a?i:xf(_,a,i)}),new xt(c.segments,d)}class Sc{constructor(a,i,d){if(this.isAbsolute=a,this.numberOfDoubleDots=i,this.commands=d,a&&d.length>0&&As(d[0]))throw new Error("Root segment cannot have matrix parameters");const _=d.find(Ja);if(_&&_!==vc(d))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mc{constructor(a,i,d){this.segmentGroup=a,this.processChildren=i,this.index=d}}function Oc(c,a,i){if(c||(c=new xt([],{})),0===c.segments.length&&c.hasChildren())return Bu(c,a,i);const d=function(c,a,i){let d=0,_=a;const C={match:!1,pathIndex:0,commandIndex:0};for(;_<c.segments.length;){if(d>=i.length)return C;const M=c.segments[_],U=i[d];if(Ja(U))break;const ee=`${U}`,Me=d<i.length-1?i[d+1]:null;if(_>0&&void 0===ee)break;if(ee&&Me&&"object"==typeof Me&&void 0===Me.outlets){if(!Ml(ee,Me,M))return C;d+=2}else{if(!Ml(ee,{},M))return C;d++}_++}return{match:!0,pathIndex:_,commandIndex:d}}(c,a,i),_=i.slice(d.commandIndex);if(d.match&&d.pathIndex<c.segments.length){const C=new xt(c.segments.slice(0,d.pathIndex),{});return C.children[Tt]=new xt(c.segments.slice(d.pathIndex),c.children),Bu(C,0,_)}return d.match&&0===_.length?new xt(c.segments,{}):d.match&&!c.hasChildren()?Ri(c,a,i):d.match?Bu(c,0,_):Ri(c,a,i)}function Bu(c,a,i){if(0===i.length)return new xt(c.segments,{});{const d=function(c){return Ja(c[0])?c[0].outlets:{[Tt]:c}}(i),_={};return dr(d,(C,M)=>{"string"==typeof C&&(C=[C]),null!==C&&(_[M]=Oc(c.children[M],a,C))}),dr(c.children,(C,M)=>{void 0===d[M]&&(_[M]=C)}),new xt(c.segments,_)}}function Ri(c,a,i){const d=c.segments.slice(0,a);let _=0;for(;_<i.length;){const C=i[_];if(Ja(C)){const ee=Rc(C.outlets);return new xt(d,ee)}if(0===_&&As(i[0])){d.push(new la(c.segments[a].path,Sr(i[0]))),_++;continue}const M=Ja(C)?C.outlets[Tt]:`${C}`,U=_<i.length-1?i[_+1]:null;M&&U&&As(U)?(d.push(new la(M,Sr(U))),_+=2):(d.push(new la(M,{})),_++)}return new xt(d,{})}function Rc(c){const a={};return dr(c,(i,d)=>{"string"==typeof i&&(i=[i]),null!==i&&(a[d]=Ri(new xt([],{}),0,i))}),a}function Sr(c){const a={};return dr(c,(i,d)=>a[d]=`${i}`),a}function Ml(c,a,i){return c==i.path&&eo(a,i.parameters)}class Rf{constructor(a,i,d,_){this.routeReuseStrategy=a,this.futureState=i,this.currState=d,this.forwardEvent=_}activate(a){const i=this.futureState._root,d=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,d,a),Tc(this.futureState.root),this.activateChildRoutes(i,d,a)}deactivateChildRoutes(a,i,d){const _=io(i);a.children.forEach(C=>{const M=C.value.outlet;this.deactivateRoutes(C,_[M],d),delete _[M]}),dr(_,(C,M)=>{this.deactivateRouteAndItsChildren(C,d)})}deactivateRoutes(a,i,d){const _=a.value,C=i?i.value:null;if(_===C)if(_.component){const M=d.getContext(_.outlet);M&&this.deactivateChildRoutes(a,i,M.children)}else this.deactivateChildRoutes(a,i,d);else C&&this.deactivateRouteAndItsChildren(i,d)}deactivateRouteAndItsChildren(a,i){this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,i):this.deactivateRouteAndOutlet(a,i)}detachAndStoreRouteSubtree(a,i){const d=i.getContext(a.value.outlet);if(d&&d.outlet){const _=d.outlet.detach(),C=d.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:_,route:a,contexts:C})}}deactivateRouteAndOutlet(a,i){const d=i.getContext(a.value.outlet),_=d&&a.value.component?d.children:i,C=io(a);for(const M of Object.keys(C))this.deactivateRouteAndItsChildren(C[M],_);d&&d.outlet&&(d.outlet.deactivate(),d.children.onOutletDeactivated(),d.attachRef=null,d.resolver=null,d.route=null)}activateChildRoutes(a,i,d){const _=io(i);a.children.forEach(C=>{this.activateRoutes(C,_[C.value.outlet],d),this.forwardEvent(new Bo(C.value.snapshot))}),a.children.length&&this.forwardEvent(new mc(a.value.snapshot))}activateRoutes(a,i,d){const _=a.value,C=i?i.value:null;if(Tc(_),_===C)if(_.component){const M=d.getOrCreateContext(_.outlet);this.activateChildRoutes(a,i,M.children)}else this.activateChildRoutes(a,i,d);else if(_.component){const M=d.getOrCreateContext(_.outlet);if(this.routeReuseStrategy.shouldAttach(_.snapshot)){const U=this.routeReuseStrategy.retrieve(_.snapshot);this.routeReuseStrategy.store(_.snapshot,null),M.children.onOutletReAttached(U.contexts),M.attachRef=U.componentRef,M.route=U.route.value,M.outlet&&M.outlet.attach(U.componentRef,U.route.value),u(U.route)}else{const U=function(c){for(let a=c.parent;a;a=a.parent){const i=a.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(_.snapshot),ee=U?U.module.componentFactoryResolver:null;M.attachRef=null,M.route=_,M.resolver=ee,M.outlet&&M.outlet.activateWith(_,ee),this.activateChildRoutes(a,null,M.children)}}else this.activateChildRoutes(a,null,d)}}function u(c){Tc(c.value),c.children.forEach(u)}class s{constructor(a,i){this.routes=a,this.module=i}}function f(c){return"function"==typeof c}function v(c){return c instanceof ro}const $=Symbol("INITIAL_VALUE");function K(){return yr(c=>function(...c){let a,i;return(0,gf.K)(c[c.length-1])&&(i=c.pop()),"function"==typeof c[c.length-1]&&(a=c.pop()),1===c.length&&(0,fc.k)(c[0])&&(c=c[0]),(0,cl.n)(c,i).lift(new ia(a))}(c.map(a=>a.pipe(_s(1),vn($)))).pipe(sa((a,i)=>{let d=!1;return i.reduce((_,C,M)=>_!==$?_:(C===$&&(d=!0),d||!1!==C&&M!==i.length-1&&!v(C)?_:C),a)},$),ai(a=>a!==$),(0,mt.U)(a=>v(a)?a:!0===a),_s(1)))}let Y=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=g.Xpm({type:c,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,d){1&i&&g._UZ(0,"router-outlet")},directives:function(){return[jp]},encapsulation:2}),c})();function ae(c,a=""){for(let i=0;i<c.length;i++){const d=c[i];be(d,Se(a,d))}}function be(c,a){c.children&&ae(c.children,a)}function Se(c,a){return a?c||a.path?c&&!a.path?`${c}/`:!c&&a.path?a.path:`${c}/${a.path}`:"":c}function Ke(c){const a=c.children&&c.children.map(Ke),i=a?Object.assign(Object.assign({},c),{children:a}):Object.assign({},c);return!i.component&&(a||i.loadChildren)&&i.outlet&&i.outlet!==Tt&&(i.component=Y),i}function Be(c){return c.outlet||Tt}function it(c,a){const i=c.filter(d=>Be(d)===a);return i.push(...c.filter(d=>Be(d)!==a)),i}const pt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Et(c,a,i){var d;if(""===a.path)return"full"===a.pathMatch&&(c.hasChildren()||i.length>0)?Object.assign({},pt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const C=(a.matcher||bl)(i,c,a);if(!C)return Object.assign({},pt);const M={};dr(C.posParams,(ee,Me)=>{M[Me]=ee.path});const U=C.consumed.length>0?Object.assign(Object.assign({},M),C.consumed[C.consumed.length-1].parameters):M;return{matched:!0,consumedSegments:C.consumed,lastChild:C.consumed.length,parameters:U,positionalParamSegments:null!==(d=C.posParams)&&void 0!==d?d:{}}}function kt(c,a,i,d,_="corrected"){if(i.length>0&&function(c,a,i){return i.some(d=>Ms(c,a,d)&&Be(d)!==Tt)}(c,i,d)){const M=new xt(a,function(c,a,i,d){const _={};_[Tt]=d,d._sourceSegment=c,d._segmentIndexShift=a.length;for(const C of i)if(""===C.path&&Be(C)!==Tt){const M=new xt([],{});M._sourceSegment=c,M._segmentIndexShift=a.length,_[Be(C)]=M}return _}(c,a,d,new xt(i,c.children)));return M._sourceSegment=c,M._segmentIndexShift=a.length,{segmentGroup:M,slicedSegments:[]}}if(0===i.length&&function(c,a,i){return i.some(d=>Ms(c,a,d))}(c,i,d)){const M=new xt(c.segments,function(c,a,i,d,_,C){const M={};for(const U of d)if(Ms(c,i,U)&&!_[Be(U)]){const ee=new xt([],{});ee._sourceSegment=c,ee._segmentIndexShift="legacy"===C?c.segments.length:a.length,M[Be(U)]=ee}return Object.assign(Object.assign({},_),M)}(c,a,i,d,c.children,_));return M._sourceSegment=c,M._segmentIndexShift=a.length,{segmentGroup:M,slicedSegments:i}}const C=new xt(c.segments,c.children);return C._sourceSegment=c,C._segmentIndexShift=a.length,{segmentGroup:C,slicedSegments:i}}function Ms(c,a,i){return(!(c.hasChildren()||a.length>0)||"full"!==i.pathMatch)&&""===i.path}function Xa(c,a,i,d){return!!(Be(c)===d||d!==Tt&&Ms(a,i,c))&&("**"===c.path||Et(a,c,i).matched)}function qo(c,a,i){return 0===a.length&&!c.children[i]}class ma{constructor(a){this.segmentGroup=a||null}}class Pc{constructor(a){this.urlTree=a}}function Fc(c){return new kn.y(a=>a.error(new ma(c)))}function di(c){return new kn.y(a=>a.error(new Pc(c)))}function Ns(c){return new kn.y(a=>a.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${c}'`)))}class Zd{constructor(a,i,d,_,C){this.configLoader=i,this.urlSerializer=d,this.urlTree=_,this.config=C,this.allowRedirects=!0,this.ngModule=a.get(g.h0i)}apply(){const a=kt(this.urlTree.root,[],[],this.config).segmentGroup,i=new xt(a.segments,a.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Tt).pipe((0,mt.U)(C=>this.createUrlTree(Nl(C),this.urlTree.queryParams,this.urlTree.fragment))).pipe(er(C=>{if(C instanceof Pc)return this.allowRedirects=!1,this.match(C.urlTree);throw C instanceof ma?this.noMatchError(C):C}))}match(a){return this.expandSegmentGroup(this.ngModule,this.config,a.root,Tt).pipe((0,mt.U)(_=>this.createUrlTree(Nl(_),a.queryParams,a.fragment))).pipe(er(_=>{throw _ instanceof ma?this.noMatchError(_):_}))}noMatchError(a){return new Error(`Cannot match any routes. URL Segment: '${a.segmentGroup}'`)}createUrlTree(a,i,d){const _=a.segments.length>0?new xt([],{[Tt]:a}):a;return new ro(_,i,d)}expandSegmentGroup(a,i,d,_){return 0===d.segments.length&&d.hasChildren()?this.expandChildren(a,i,d).pipe((0,mt.U)(C=>new xt([],C))):this.expandSegment(a,d,i,d.segments,_,!0)}expandChildren(a,i,d){const _=[];for(const C of Object.keys(d.children))"primary"===C?_.unshift(C):_.push(C);return(0,dn.D)(_).pipe(Ti(C=>{const M=d.children[C],U=it(i,C);return this.expandSegmentGroup(a,U,M,C).pipe((0,mt.U)(ee=>({segment:ee,outlet:C})))}),sa((C,M)=>(C[M.outlet]=M.segment,C),{}),function(c,a){const i=arguments.length>=2;return d=>d.pipe(c?ai((_,C)=>c(_,C,d)):gl.y,hc(1),i?hl(a):Ni(()=>new vs))}())}expandSegment(a,i,d,_,C,M){return(0,dn.D)(d).pipe(Ti(U=>this.expandSegmentAgainstRoute(a,i,d,U,_,C,M).pipe(er(Me=>{if(Me instanceof ma)return(0,st.of)(null);throw Me}))),li(U=>!!U),er((U,ee)=>{if(U instanceof vs||"EmptyError"===U.name){if(qo(i,_,C))return(0,st.of)(new xt([],{}));throw new ma(i)}throw U}))}expandSegmentAgainstRoute(a,i,d,_,C,M,U){return Xa(_,i,C,M)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(a,i,_,C,M):U&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(a,i,d,_,C,M):Fc(i):Fc(i)}expandSegmentAgainstRouteUsingRedirect(a,i,d,_,C,M){return"**"===_.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(a,d,_,M):this.expandRegularSegmentAgainstRouteUsingRedirect(a,i,d,_,C,M)}expandWildCardWithParamsAgainstRouteUsingRedirect(a,i,d,_){const C=this.applyRedirectCommands([],d.redirectTo,{});return d.redirectTo.startsWith("/")?di(C):this.lineralizeSegments(d,C).pipe((0,Ar.zg)(M=>{const U=new xt(M,{});return this.expandSegment(a,U,i,M,_,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(a,i,d,_,C,M){const{matched:U,consumedSegments:ee,lastChild:Me,positionalParamSegments:Pe}=Et(i,_,C);if(!U)return Fc(i);const je=this.applyRedirectCommands(ee,_.redirectTo,Pe);return _.redirectTo.startsWith("/")?di(je):this.lineralizeSegments(_,je).pipe((0,Ar.zg)(Qe=>this.expandSegment(a,i,d,Qe.concat(C.slice(Me)),M,!1)))}matchSegmentAgainstRoute(a,i,d,_,C){if("**"===d.path)return d.loadChildren?(d._loadedConfig?(0,st.of)(d._loadedConfig):this.configLoader.load(a.injector,d)).pipe((0,mt.U)(Qe=>(d._loadedConfig=Qe,new xt(_,{})))):(0,st.of)(new xt(_,{}));const{matched:M,consumedSegments:U,lastChild:ee}=Et(i,d,_);if(!M)return Fc(i);const Me=_.slice(ee);return this.getChildConfig(a,d,_).pipe((0,Ar.zg)(je=>{const Qe=je.module,ke=je.routes,{segmentGroup:lt,slicedSegments:zt}=kt(i,U,Me,ke),Qt=new xt(lt.segments,lt.children);if(0===zt.length&&Qt.hasChildren())return this.expandChildren(Qe,ke,Qt).pipe((0,mt.U)(Qr=>new xt(U,Qr)));if(0===ke.length&&0===zt.length)return(0,st.of)(new xt(U,{}));const Lt=Be(d)===C;return this.expandSegment(Qe,Qt,ke,zt,Lt?Tt:C,!0).pipe((0,mt.U)(Sn=>new xt(U.concat(Sn.segments),Sn.children)))}))}getChildConfig(a,i,d){return i.children?(0,st.of)(new s(i.children,a)):i.loadChildren?void 0!==i._loadedConfig?(0,st.of)(i._loadedConfig):this.runCanLoadGuards(a.injector,i,d).pipe((0,Ar.zg)(_=>{return _?this.configLoader.load(a.injector,i).pipe((0,mt.U)(C=>(i._loadedConfig=C,C))):(c=i,new kn.y(a=>a.error(xi(`Cannot load children because the guard of the route "path: '${c.path}'" returned false`))));var c})):(0,st.of)(new s([],a))}runCanLoadGuards(a,i,d){const _=i.canLoad;if(!_||0===_.length)return(0,st.of)(!0);const C=_.map(M=>{const U=a.get(M);let ee;if((c=U)&&f(c.canLoad))ee=U.canLoad(i,d);else{if(!f(U))throw new Error("Invalid CanLoad guard");ee=U(i,d)}var c;return to(ee)});return(0,st.of)(C).pipe(K(),(0,_n.b)(M=>{if(!v(M))return;const U=xi(`Redirecting to "${this.urlSerializer.serialize(M)}"`);throw U.url=M,U}),(0,mt.U)(M=>!0===M))}lineralizeSegments(a,i){let d=[],_=i.root;for(;;){if(d=d.concat(_.segments),0===_.numberOfChildren)return(0,st.of)(d);if(_.numberOfChildren>1||!_.children[Tt])return Ns(a.redirectTo);_=_.children[Tt]}}applyRedirectCommands(a,i,d){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),a,d)}applyRedirectCreatreUrlTree(a,i,d,_){const C=this.createSegmentGroup(a,i.root,d,_);return new ro(C,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(a,i){const d={};return dr(a,(_,C)=>{if("string"==typeof _&&_.startsWith(":")){const U=_.substring(1);d[C]=i[U]}else d[C]=_}),d}createSegmentGroup(a,i,d,_){const C=this.createSegments(a,i.segments,d,_);let M={};return dr(i.children,(U,ee)=>{M[ee]=this.createSegmentGroup(a,U,d,_)}),new xt(C,M)}createSegments(a,i,d,_){return i.map(C=>C.path.startsWith(":")?this.findPosParam(a,C,_):this.findOrReturn(C,d))}findPosParam(a,i,d){const _=d[i.path.substring(1)];if(!_)throw new Error(`Cannot redirect to '${a}'. Cannot find '${i.path}'.`);return _}findOrReturn(a,i){let d=0;for(const _ of i){if(_.path===a.path)return i.splice(d),_;d++}return a}}function Nl(c){const a={};for(const d of Object.keys(c.children)){const C=Nl(c.children[d]);(C.segments.length>0||C.hasChildren())&&(a[d]=C)}return function(c){if(1===c.numberOfChildren&&c.children[Tt]){const a=c.children[Tt];return new xt(c.segments.concat(a.segments),a.children)}return c}(new xt(c.segments,a))}class Cp{constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class xl{constructor(a,i){this.component=a,this.route=i}}function Dp(c,a,i){const d=c._root;return Rl(d,a?a._root:null,i,[d.value])}function Ol(c,a,i){const d=function(c){if(!c)return null;for(let a=c.parent;a;a=a.parent){const i=a.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(a);return(d?d.module.injector:i).get(c)}function Rl(c,a,i,d,_={canDeactivateChecks:[],canActivateChecks:[]}){const C=io(a);return c.children.forEach(M=>{(function(c,a,i,d,_={canDeactivateChecks:[],canActivateChecks:[]}){const C=c.value,M=a?a.value:null,U=i?i.getContext(c.value.outlet):null;if(M&&C.routeConfig===M.routeConfig){const ee=function(c,a,i){if("function"==typeof i)return i(c,a);switch(i){case"pathParamsChange":return!fi(c.url,a.url);case"pathParamsOrQueryParamsChange":return!fi(c.url,a.url)||!eo(c.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ju(c,a)||!eo(c.queryParams,a.queryParams);case"paramsChange":default:return!ju(c,a)}}(M,C,C.routeConfig.runGuardsAndResolvers);ee?_.canActivateChecks.push(new Cp(d)):(C.data=M.data,C._resolvedData=M._resolvedData),Rl(c,a,C.component?U?U.children:null:i,d,_),ee&&U&&U.outlet&&U.outlet.isActivated&&_.canDeactivateChecks.push(new xl(U.outlet.component,M))}else M&&kc(a,U,_),_.canActivateChecks.push(new Cp(d)),Rl(c,null,C.component?U?U.children:null:i,d,_)})(M,C[M.value.outlet],i,d.concat([M.value]),_),delete C[M.value.outlet]}),dr(C,(M,U)=>kc(M,i.getContext(U),_)),_}function kc(c,a,i){const d=io(c),_=c.value;dr(d,(C,M)=>{kc(C,_.component?a?a.children.getContext(M):null:a,i)}),i.canDeactivateChecks.push(new xl(_.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,_))}class Np{}function Lf(c){return new kn.y(a=>a.error(c))}class xm{constructor(a,i,d,_,C,M){this.rootComponentType=a,this.config=i,this.urlTree=d,this.url=_,this.paramsInheritanceStrategy=C,this.relativeLinkResolution=M}recognize(){const a=kt(this.urlTree.root,[],[],this.config.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,a,Tt);if(null===i)return null;const d=new Ka([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),_=new Go(d,i),C=new Mf(this.url,_);return this.inheritParamsAndData(C._root),C}inheritParamsAndData(a){const i=a.value,d=nr(i,this.paramsInheritanceStrategy);i.params=Object.freeze(d.params),i.data=Object.freeze(d.data),a.children.forEach(_=>this.inheritParamsAndData(_))}processSegmentGroup(a,i,d){return 0===i.segments.length&&i.hasChildren()?this.processChildren(a,i):this.processSegment(a,i,i.segments,d)}processChildren(a,i){const d=[];for(const C of Object.keys(i.children)){const M=i.children[C],U=it(a,C),ee=this.processSegmentGroup(U,M,C);if(null===ee)return null;d.push(...ee)}const _=Qd(d);return _.sort((a,i)=>a.value.outlet===Tt?-1:i.value.outlet===Tt?1:a.value.outlet.localeCompare(i.value.outlet)),_}processSegment(a,i,d,_){for(const C of a){const M=this.processSegmentAgainstRoute(C,i,d,_);if(null!==M)return M}return qo(i,d,_)?[]:null}processSegmentAgainstRoute(a,i,d,_){if(a.redirectTo||!Xa(a,i,d,_))return null;let C,M=[],U=[];if("**"===a.path){const ke=d.length>0?vc(d).parameters:{};C=new Ka(d,ke,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xd(a),Be(a),a.component,a,Jd(i),Pm(i)+d.length,Rp(a))}else{const ke=Et(i,a,d);if(!ke.matched)return null;M=ke.consumedSegments,U=d.slice(ke.lastChild),C=new Ka(M,ke.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xd(a),Be(a),a.component,a,Jd(i),Pm(i)+M.length,Rp(a))}const ee=(c=a).children?c.children:c.loadChildren?c._loadedConfig.routes:[],{segmentGroup:Me,slicedSegments:Pe}=kt(i,M,U,ee.filter(ke=>void 0===ke.redirectTo),this.relativeLinkResolution);var c;if(0===Pe.length&&Me.hasChildren()){const ke=this.processChildren(ee,Me);return null===ke?null:[new Go(C,ke)]}if(0===ee.length&&0===Pe.length)return[new Go(C,[])];const je=Be(a)===_,Qe=this.processSegment(ee,Me,Pe,je?Tt:_);return null===Qe?null:[new Go(C,Qe)]}}function Rm(c){const a=c.value.routeConfig;return a&&""===a.path&&void 0===a.redirectTo}function Qd(c){const a=[],i=new Set;for(const d of c){if(!Rm(d)){a.push(d);continue}const _=a.find(C=>d.value.routeConfig===C.value.routeConfig);void 0!==_?(_.children.push(...d.children),i.add(_)):a.push(d)}for(const d of i){const _=Qd(d.children);a.push(new Go(d.value,_))}return a.filter(d=>!i.has(d))}function Jd(c){let a=c;for(;a._sourceSegment;)a=a._sourceSegment;return a}function Pm(c){let a=c,i=a._segmentIndexShift?a._segmentIndexShift:0;for(;a._sourceSegment;)a=a._sourceSegment,i+=a._segmentIndexShift?a._segmentIndexShift:0;return i-1}function Xd(c){return c.data||{}}function Rp(c){return c.resolve||{}}function Vf(c){return yr(a=>{const i=c(a);return i?(0,dn.D)(i).pipe((0,mt.U)(()=>a)):(0,st.of)(a)})}class Um extends class{shouldDetach(a){return!1}store(a,i){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,i){return a.routeConfig===i.routeConfig}}{}const eh=new g.OlP("ROUTES");class th{constructor(a,i,d,_){this.loader=a,this.compiler=i,this.onLoadStartListener=d,this.onLoadEndListener=_}load(a,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const _=this.loadModuleFactory(i.loadChildren).pipe((0,mt.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(i);const M=C.create(a);return new s(yc(M.injector.get(eh,void 0,g.XFs.Self|g.XFs.Optional)).map(Ke),M)}),er(C=>{throw i._loader$=void 0,C}));return i._loader$=new Ha.c(_,()=>new Ji.xQ).pipe((0,$a.x)()),i._loader$}loadModuleFactory(a){return"string"==typeof a?(0,dn.D)(this.loader.load(a)):to(a()).pipe((0,Ar.zg)(i=>i instanceof g.YKP?(0,st.of)(i):(0,dn.D)(this.compiler.compileModuleAsync(i))))}}class Bm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lc,this.attachRef=null}}class Lc{constructor(){this.contexts=new Map}onChildOutletCreated(a,i){const d=this.getOrCreateContext(a);d.outlet=i,this.contexts.set(a,d)}onChildOutletDestroyed(a){const i=this.getContext(a);i&&(i.outlet=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let i=this.getContext(a);return i||(i=new Bm,this.contexts.set(a,i)),i}getContext(a){return this.contexts.get(a)||null}}class vt{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,i){return a}}function Fp(c){throw c}function kp(c,a,i){return a.parse("/")}function Fl(c,a){return(0,st.of)(null)}const Wo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class c{constructor(i,d,_,C,M,U,ee,Me){this.rootComponentType=i,this.urlSerializer=d,this.rootContexts=_,this.location=C,this.config=Me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ji.xQ,this.errorHandler=Fp,this.malformedUriErrorHandler=kp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fl,afterPreactivation:Fl},this.urlHandlingStrategy=new vt,this.routeReuseStrategy=new Um,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=M.get(g.h0i),this.console=M.get(g.c2e);const Qe=M.get(g.R0b);this.isNgZoneEnabled=Qe instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(Me),this.currentUrlTree=new ro(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new th(U,ee,ke=>this.triggerEvent(new ua(ke)),ke=>this.triggerEvent(new Uo(ke))),this.routerState=Cs(this.currentUrlTree,this.rootComponentType),this.transitions=new Xi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const d=this.events;return i.pipe(ai(_=>0!==_.id),(0,mt.U)(_=>Object.assign(Object.assign({},_),{extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl)})),yr(_=>{let C=!1,M=!1;return(0,st.of)(_).pipe((0,_n.b)(U=>{this.currentNavigation={id:U.id,initialUrl:U.currentRawUrl,extractedUrl:U.extractedUrl,trigger:U.source,extras:U.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yr(U=>{const ee=!this.navigated||U.extractedUrl.toString()!==this.browserUrlTree.toString(),Me=("reload"===this.onSameUrlNavigation||ee)&&this.urlHandlingStrategy.shouldProcessUrl(U.rawUrl);if(so(U.source)&&(this.browserUrlTree=U.rawUrl),Me)return(0,st.of)(U).pipe(yr(Pe=>{const je=this.transitions.getValue();return d.next(new vl(Pe.id,this.serializeUrl(Pe.extractedUrl),Pe.source,Pe.restoredState)),je!==this.transitions.getValue()?ci.E:Promise.resolve(Pe)}),function(c,a,i,d){return yr(_=>function(c,a,i,d,_){return new Zd(c,a,i,d,_).apply()}(c,a,i,_.extractedUrl,d).pipe((0,mt.U)(C=>Object.assign(Object.assign({},_),{urlAfterRedirects:C}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_n.b)(Pe=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Pe.urlAfterRedirects})}),function(c,a,i,d,_){return(0,Ar.zg)(C=>function(c,a,i,d,_="emptyOnly",C="legacy"){try{const M=new xm(c,a,i,d,_,C).recognize();return null===M?Lf(new Np):(0,st.of)(M)}catch(M){return Lf(M)}}(c,a,C.urlAfterRedirects,i(C.urlAfterRedirects),d,_).pipe((0,mt.U)(M=>Object.assign(Object.assign({},C),{targetSnapshot:M}))))}(this.rootComponentType,this.config,Pe=>this.serializeUrl(Pe),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_n.b)(Pe=>{"eager"===this.urlUpdateStrategy&&(Pe.extras.skipLocationChange||this.setBrowserUrl(Pe.urlAfterRedirects,Pe),this.browserUrlTree=Pe.urlAfterRedirects);const je=new gc(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);d.next(je)}));if(ee&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:je,extractedUrl:Qe,source:ke,restoredState:lt,extras:zt}=U,Qt=new vl(je,this.serializeUrl(Qe),ke,lt);d.next(Qt);const Lt=Cs(Qe,this.rootComponentType).snapshot;return(0,st.of)(Object.assign(Object.assign({},U),{targetSnapshot:Lt,urlAfterRedirects:Qe,extras:Object.assign(Object.assign({},zt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=U.rawUrl,this.browserUrlTree=U.urlAfterRedirects,U.resolve(null),ci.E}),Vf(U=>{const{targetSnapshot:ee,id:Me,extractedUrl:Pe,rawUrl:je,extras:{skipLocationChange:Qe,replaceUrl:ke}}=U;return this.hooks.beforePreactivation(ee,{navigationId:Me,appliedUrlTree:Pe,rawUrlTree:je,skipLocationChange:!!Qe,replaceUrl:!!ke})}),(0,_n.b)(U=>{const ee=new qa(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);this.triggerEvent(ee)}),(0,mt.U)(U=>Object.assign(Object.assign({},U),{guards:Dp(U.targetSnapshot,U.currentSnapshot,this.rootContexts)})),function(c,a){return(0,Ar.zg)(i=>{const{targetSnapshot:d,currentSnapshot:_,guards:{canActivateChecks:C,canDeactivateChecks:M}}=i;return 0===M.length&&0===C.length?(0,st.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(c,a,i,d){return(0,dn.D)(c).pipe((0,Ar.zg)(_=>function(c,a,i,d,_){const C=a&&a.routeConfig?a.routeConfig.canDeactivate:null;if(!C||0===C.length)return(0,st.of)(!0);const M=C.map(U=>{const ee=Ol(U,a,_);let Me;if(function(c){return c&&f(c.canDeactivate)}(ee))Me=to(ee.canDeactivate(c,a,i,d));else{if(!f(ee))throw new Error("Invalid CanDeactivate guard");Me=to(ee(c,a,i,d))}return Me.pipe(li())});return(0,st.of)(M).pipe(K())}(_.component,_.route,i,a,d)),li(_=>!0!==_,!0))}(M,d,_,c).pipe((0,Ar.zg)(U=>U&&function(c){return"boolean"==typeof c}(U)?function(c,a,i,d){return(0,dn.D)(a).pipe(Ti(_=>yf(function(c,a){return null!==c&&a&&a(new _l(c)),(0,st.of)(!0)}(_.route.parent,d),function(c,a){return null!==c&&a&&a(new If(c)),(0,st.of)(!0)}(_.route,d),function(c,a,i){const d=a[a.length-1],C=a.slice(0,a.length-1).reverse().map(M=>function(c){const a=c.routeConfig?c.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:c,guards:a}:null}(M)).filter(M=>null!==M).map(M=>Ou(()=>{const U=M.guards.map(ee=>{const Me=Ol(ee,M.node,i);let Pe;if(function(c){return c&&f(c.canActivateChild)}(Me))Pe=to(Me.canActivateChild(d,c));else{if(!f(Me))throw new Error("Invalid CanActivateChild guard");Pe=to(Me(d,c))}return Pe.pipe(li())});return(0,st.of)(U).pipe(K())}));return(0,st.of)(C).pipe(K())}(c,_.path,i),function(c,a,i){const d=a.routeConfig?a.routeConfig.canActivate:null;if(!d||0===d.length)return(0,st.of)(!0);const _=d.map(C=>Ou(()=>{const M=Ol(C,a,i);let U;if(function(c){return c&&f(c.canActivate)}(M))U=to(M.canActivate(a,c));else{if(!f(M))throw new Error("Invalid CanActivate guard");U=to(M(a,c))}return U.pipe(li())}));return(0,st.of)(_).pipe(K())}(c,_.route,i))),li(_=>!0!==_,!0))}(d,C,c,a):(0,st.of)(U)),(0,mt.U)(U=>Object.assign(Object.assign({},i),{guardsResult:U})))})}(this.ngModule.injector,U=>this.triggerEvent(U)),(0,_n.b)(U=>{if(v(U.guardsResult)){const Me=xi(`Redirecting to "${this.serializeUrl(U.guardsResult)}"`);throw Me.url=U.guardsResult,Me}const ee=new Fd(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot,!!U.guardsResult);this.triggerEvent(ee)}),ai(U=>!!U.guardsResult||(this.restoreHistory(U),this.cancelNavigationTransition(U,""),!1)),Vf(U=>{if(U.guards.canActivateChecks.length)return(0,st.of)(U).pipe((0,_n.b)(ee=>{const Me=new kd(ee.id,this.serializeUrl(ee.extractedUrl),this.serializeUrl(ee.urlAfterRedirects),ee.targetSnapshot);this.triggerEvent(Me)}),yr(ee=>{let Me=!1;return(0,st.of)(ee).pipe(function(c,a){return(0,Ar.zg)(i=>{const{targetSnapshot:d,guards:{canActivateChecks:_}}=i;if(!_.length)return(0,st.of)(i);let C=0;return(0,dn.D)(_).pipe(Ti(M=>function(c,a,i,d){return function(c,a,i,d){const _=Object.keys(c);if(0===_.length)return(0,st.of)({});const C={};return(0,dn.D)(_).pipe((0,Ar.zg)(M=>function(c,a,i,d){const _=Ol(c,a,d);return to(_.resolve?_.resolve(a,i):_(a,i))}(c[M],a,i,d).pipe((0,_n.b)(U=>{C[M]=U}))),hc(1),(0,Ar.zg)(()=>Object.keys(C).length===_.length?(0,st.of)(C):ci.E))}(c._resolve,c,a,d).pipe((0,mt.U)(C=>(c._resolvedData=C,c.data=Object.assign(Object.assign({},c.data),nr(c,i).resolve),null)))}(M.route,d,c,a)),(0,_n.b)(()=>C++),hc(1),(0,Ar.zg)(M=>C===_.length?(0,st.of)(i):ci.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_n.b)({next:()=>Me=!0,complete:()=>{Me||(this.restoreHistory(ee),this.cancelNavigationTransition(ee,"At least one route resolver didn't emit any value."))}}))}),(0,_n.b)(ee=>{const Me=new Df(ee.id,this.serializeUrl(ee.extractedUrl),this.serializeUrl(ee.urlAfterRedirects),ee.targetSnapshot);this.triggerEvent(Me)}))}),Vf(U=>{const{targetSnapshot:ee,id:Me,extractedUrl:Pe,rawUrl:je,extras:{skipLocationChange:Qe,replaceUrl:ke}}=U;return this.hooks.afterPreactivation(ee,{navigationId:Me,appliedUrlTree:Pe,rawUrlTree:je,skipLocationChange:!!Qe,replaceUrl:!!ke})}),(0,mt.U)(U=>{const ee=function(c,a,i){const d=Qa(c,a._root,i?i._root:void 0);return new tr(d,a)}(this.routeReuseStrategy,U.targetSnapshot,U.currentRouterState);return Object.assign(Object.assign({},U),{targetRouterState:ee})}),(0,_n.b)(U=>{this.currentUrlTree=U.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,U.rawUrl),this.routerState=U.targetRouterState,"deferred"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,U),this.browserUrlTree=U.urlAfterRedirects)}),((c,a,i)=>(0,mt.U)(d=>(new Rf(a,d.targetRouterState,d.currentRouterState,i).activate(c),d)))(this.rootContexts,this.routeReuseStrategy,U=>this.triggerEvent(U)),(0,_n.b)({next(){C=!0},complete(){C=!0}}),function(c){return a=>a.lift(new Ef(c))}(()=>{if(!C&&!M){const U=`Navigation ID ${_.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(_),this.cancelNavigationTransition(_,U)):this.cancelNavigationTransition(_,U)}this.currentNavigation=null}),er(U=>{if(M=!0,function(c){return c&&c[Af]}(U)){const ee=v(U.url);ee||(this.navigated=!0,this.restoreHistory(_,!0));const Me=new Cf(_.id,this.serializeUrl(_.extractedUrl),U.message);d.next(Me),ee?setTimeout(()=>{const Pe=this.urlHandlingStrategy.merge(U.url,this.rawUrlTree),je={skipLocationChange:_.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||so(_.source)};this.scheduleNavigation(Pe,"imperative",null,je,{resolve:_.resolve,reject:_.reject,promise:_.promise})},0):_.resolve(!1)}else{this.restoreHistory(_,!0);const ee=new Pu(_.id,this.serializeUrl(_.extractedUrl),U);d.next(ee);try{_.resolve(this.errorHandler(U))}catch(Me){_.reject(Me)}}return ci.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const d=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,d)&&setTimeout(()=>{const{source:_,state:C,urlTree:M}=d,U={replaceUrl:!0};if(C){const ee=Object.assign({},C);delete ee.navigationId,delete ee.\u0275routerPageId,0!==Object.keys(ee).length&&(U.state=ee)}this.scheduleNavigation(M,_,C,U)},0),this.lastLocationChangeInfo=d}))}extractLocationChangeInfoFromEvent(i){var d;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(d=i.state)||void 0===d?void 0:d.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,d){if(!i)return!0;const _=d.urlTree.toString()===i.urlTree.toString();return d.transitionId!==i.transitionId||!_||!("hashchange"===d.source&&"popstate"===i.source||"popstate"===d.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){ae(i),this.config=i.map(Ke),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,d={}){const{relativeTo:_,queryParams:C,fragment:M,queryParamsHandling:U,preserveFragment:ee}=d,Me=_||this.routerState.root,Pe=ee?this.currentUrlTree.fragment:M;let je=null;switch(U){case"merge":je=Object.assign(Object.assign({},this.currentUrlTree.queryParams),C);break;case"preserve":je=this.currentUrlTree.queryParams;break;default:je=C||null}return null!==je&&(je=this.removeEmptyProps(je)),function(c,a,i,d,_){if(0===i.length)return Sl(a.root,a.root,a,d,_);const C=function(c){if("string"==typeof c[0]&&1===c.length&&"/"===c[0])return new Sc(!0,0,c);let a=0,i=!1;const d=c.reduce((_,C,M)=>{if("object"==typeof C&&null!=C){if(C.outlets){const U={};return dr(C.outlets,(ee,Me)=>{U[Me]="string"==typeof ee?ee.split("/"):ee}),[..._,{outlets:U}]}if(C.segmentPath)return[..._,C.segmentPath]}return"string"!=typeof C?[..._,C]:0===M?(C.split("/").forEach((U,ee)=>{0==ee&&"."===U||(0==ee&&""===U?i=!0:".."===U?a++:""!=U&&_.push(U))}),_):[..._,C]},[]);return new Sc(i,a,d)}(i);if(C.toRoot())return Sl(a.root,new xt([],{}),a,d,_);const M=function(c,a,i){if(c.isAbsolute)return new Mc(a.root,!0,0);if(-1===i.snapshot._lastPathIndex){const C=i.snapshot._urlSegment;return new Mc(C,C===a.root,0)}const d=As(c.commands[0])?0:1;return function(c,a,i){let d=c,_=a,C=i;for(;C>_;){if(C-=_,d=d.parent,!d)throw new Error("Invalid number of '../'");_=d.segments.length}return new Mc(d,!1,_-C)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+d,c.numberOfDoubleDots)}(C,a,c),U=M.processChildren?Bu(M.segmentGroup,M.index,C.commands):Oc(M.segmentGroup,M.index,C.commands);return Sl(M.segmentGroup,U,a,d,_)}(Me,this.currentUrlTree,i,je,null!=Pe?Pe:null)}navigateByUrl(i,d={skipLocationChange:!1}){const _=v(i)?i:this.parseUrl(i),C=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(C,"imperative",null,d)}navigate(i,d={skipLocationChange:!1}){return function(c){for(let a=0;a<c.length;a++){const i=c[a];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${a}`)}}(i),this.navigateByUrl(this.createUrlTree(i,d),d)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let d;try{d=this.urlSerializer.parse(i)}catch(_){d=this.malformedUriErrorHandler(_,this.urlSerializer,i)}return d}isActive(i,d){let _;if(_=!0===d?Object.assign({},Wo):!1===d?Object.assign({},Lp):d,v(i))return Sf(this.currentUrlTree,i,_);const C=this.parseUrl(i);return Sf(this.currentUrlTree,C,_)}removeEmptyProps(i){return Object.keys(i).reduce((d,_)=>{const C=i[_];return null!=C&&(d[_]=C),d},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new aa(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,d,_,C,M){var U,ee;if(this.disposed)return Promise.resolve(!1);const Me=this.getTransition(),Pe=so(d)&&Me&&!so(Me.source),ke=(this.lastSuccessfulId===Me.id||this.currentNavigation?Me.rawUrl:Me.urlAfterRedirects).toString()===i.toString();if(Pe&&ke)return Promise.resolve(!0);let lt,zt,Qt;M?(lt=M.resolve,zt=M.reject,Qt=M.promise):Qt=new Promise((Sn,Qr)=>{lt=Sn,zt=Qr});const Lt=++this.navigationId;let gn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(_=this.location.getState()),gn=_&&_.\u0275routerPageId?_.\u0275routerPageId:C.replaceUrl||C.skipLocationChange?null!==(U=this.browserPageId)&&void 0!==U?U:0:(null!==(ee=this.browserPageId)&&void 0!==ee?ee:0)+1):gn=0,this.setTransition({id:Lt,targetPageId:gn,source:d,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:C,resolve:lt,reject:zt,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(Sn=>Promise.reject(Sn))}setBrowserUrl(i,d){const _=this.urlSerializer.serialize(i),C=Object.assign(Object.assign({},d.extras.state),this.generateNgRouterState(d.id,d.targetPageId));this.location.isCurrentPathEqualTo(_)||d.extras.replaceUrl?this.location.replaceState(_,"",C):this.location.go(_,"",C)}restoreHistory(i,d=!1){var _,C;if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(_=this.currentNavigation)||void 0===_?void 0:_.finalUrl)||0===M?this.currentUrlTree===(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)&&0===M&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(d&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,d){const _=new Cf(i.id,this.serializeUrl(i.extractedUrl),d);this.triggerEvent(_),i.resolve(!1)}generateNgRouterState(i,d){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:d}:{navigationId:i}}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(g.DyG),g.LFG(fa),g.LFG(Lc),g.LFG(tt),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();function so(c){return"imperative"!==c}let Gu=(()=>{class c{constructor(i,d,_){this.router=i,this.route=d,this.locationStrategy=_,this.commands=[],this.onChanges=new Ji.xQ,this.subscription=i.events.subscribe(C=>{C instanceof aa&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,d,_,C,M){if(0!==i||d||_||C||M||"string"==typeof this.target&&"_self"!=this.target)return!0;const U={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,U),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(Kr),g.Y36(oo),g.Y36(De))},c.\u0275dir=g.lG2({type:c,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,d){1&i&&g.NdJ("click",function(C){return d.onClick(C.button,C.ctrlKey,C.shiftKey,C.altKey,C.metaKey)}),2&i&&(g.Ikx("href",d.href,g.LSH),g.uIk("target",d.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),c})();function eu(c){return""===c||!!c}let jp=(()=>{class c{constructor(i,d,_,C,M){this.parentContexts=i,this.location=d,this.resolver=_,this.changeDetector=M,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=C||Tt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,d){this.activated=i,this._activatedRoute=d,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,d){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const M=(d=d||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),U=this.parentContexts.getOrCreateContext(this.name).children,ee=new ya(i,U,this.location.injector);this.activated=this.location.createComponent(M,this.location.length,ee),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(Lc),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},c.\u0275dir=g.lG2({type:c,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),c})();class ya{constructor(a,i,d){this.route=a,this.childContexts=i,this.parent=d}get(a,i){return a===oo?this.route:a===Lc?this.childContexts:this.parent.get(a,i)}}class Ll{}class Uf{preload(a,i){return(0,st.of)(null)}}let Gm=(()=>{class c{constructor(i,d,_,C,M){this.router=i,this.injector=C,this.preloadingStrategy=M,this.loader=new th(d,_,Me=>i.triggerEvent(new ua(Me)),Me=>i.triggerEvent(new Uo(Me)))}setUpPreloading(){this.subscription=this.router.events.pipe(ai(i=>i instanceof aa),Ti(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(g.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,d){const _=[];for(const C of d)if(C.loadChildren&&!C.canLoad&&C._loadedConfig){const M=C._loadedConfig;_.push(this.processRoutes(M.module,M.routes))}else C.loadChildren&&!C.canLoad?_.push(this.preloadConfig(i,C)):C.children&&_.push(this.processRoutes(i,C.children));return(0,dn.D)(_).pipe((0,oa.J)(),(0,mt.U)(C=>{}))}preloadConfig(i,d){return this.preloadingStrategy.preload(d,()=>(d._loadedConfig?(0,st.of)(d._loadedConfig):this.loader.load(i.injector,d)).pipe((0,Ar.zg)(C=>(d._loadedConfig=C,this.processRoutes(C.module,C.routes)))))}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Kr),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Ll))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),rh=(()=>{class c{constructor(i,d,_={}){this.router=i,this.viewportScroller=d,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration=_.scrollPositionRestoration||"disabled",_.anchorScrolling=_.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof vl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof aa&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof ws&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,d){this.router.triggerEvent(new ws(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,d))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Kr),g.LFG(qi),g.LFG(void 0))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();const Vc=new g.OlP("ROUTER_CONFIGURATION"),Up=new g.OlP("ROUTER_FORROOT_GUARD"),Bp=[tt,{provide:fa,useClass:da},{provide:Kr,useFactory:function(c,a,i,d,_,C,M,U={},ee,Me){const Pe=new Kr(null,c,a,i,d,_,C,yc(M));return ee&&(Pe.urlHandlingStrategy=ee),Me&&(Pe.routeReuseStrategy=Me),function(c,a){c.errorHandler&&(a.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(a.malformedUriErrorHandler=c.malformedUriErrorHandler),c.onSameUrlNavigation&&(a.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(a.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.relativeLinkResolution&&(a.relativeLinkResolution=c.relativeLinkResolution),c.urlUpdateStrategy&&(a.urlUpdateStrategy=c.urlUpdateStrategy)}(U,Pe),U.enableTracing&&Pe.events.subscribe(je=>{var Qe,ke;null===(Qe=console.group)||void 0===Qe||Qe.call(console,`Router Event: ${je.constructor.name}`),console.log(je.toString()),console.log(je),null===(ke=console.groupEnd)||void 0===ke||ke.call(console)}),Pe},deps:[fa,Lc,tt,g.zs3,g.v3s,g.Sil,eh,Vc,[class{},new g.FiY],[class{},new g.FiY]]},Lc,{provide:oo,useFactory:function(c){return c.routerState.root},deps:[Kr]},{provide:g.v3s,useClass:g.EAV},Gm,Uf,class{preload(a,i){return i().pipe(er(()=>(0,st.of)(null)))}},{provide:Vc,useValue:{enableTracing:!1}}];function Hp(){return new g.PXZ("Router",Kr)}let qm=(()=>{class c{constructor(i,d){}static forRoot(i,d){return{ngModule:c,providers:[Bp,zm(i),{provide:Up,useFactory:o_,deps:[[Kr,new g.FiY,new g.tp0]]},{provide:Vc,useValue:d||{}},{provide:De,useFactory:i_,deps:[Ae,[new g.tBr(Ie),new g.FiY],Vc]},{provide:rh,useFactory:ih,deps:[Kr,qi,Vc]},{provide:Ll,useExisting:d&&d.preloadingStrategy?d.preloadingStrategy:Uf},{provide:g.PXZ,multi:!0,useFactory:Hp},[Gp,{provide:g.ip1,multi:!0,useFactory:c_,deps:[Gp]},{provide:Wm,useFactory:l_,deps:[Gp]},{provide:g.tb,multi:!0,useExisting:Wm}]]}}static forChild(i){return{ngModule:c,providers:[zm(i)]}}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Up,8),g.LFG(Kr,8))},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({}),c})();function ih(c,a,i){return i.scrollOffset&&a.setOffset(i.scrollOffset),new rh(c,a,i)}function i_(c,a,i={}){return i.useHash?new ze(c,a):new pe(c,a)}function o_(c){return"guarded"}function zm(c){return[{provide:g.deG,multi:!0,useValue:c},{provide:eh,multi:!0,useValue:c}]}let Gp=(()=>{class c{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ji.xQ}appInitializer(){return this.injector.get(R,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let d=null;const _=new Promise(U=>d=U),C=this.injector.get(Kr),M=this.injector.get(Vc);return"disabled"===M.initialNavigation?(C.setUpLocationChangeListener(),d(!0)):"enabled"===M.initialNavigation||"enabledBlocking"===M.initialNavigation?(C.hooks.afterPreactivation=()=>this.initNavigation?(0,st.of)(null):(this.initNavigation=!0,d(!0),this.resultOfPreactivationDone),C.initialNavigation()):d(!0),_})}bootstrapListener(i){const d=this.injector.get(Vc),_=this.injector.get(Gm),C=this.injector.get(rh),M=this.injector.get(Kr),U=this.injector.get(g.z2F);i===U.components[0]&&(("enabledNonBlocking"===d.initialNavigation||void 0===d.initialNavigation)&&M.initialNavigation(),_.setUpPreloading(),C.init(),M.resetRootComponentType(U.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(g.zs3))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();function c_(c){return c.appInitializer.bind(c)}function l_(c){return c.bootstrapListener.bind(c)}const Wm=new g.OlP("Router Initializer"),oh=function(){return["/coctails"]},Zm=function(){return["/custom-drink"]},$p=function(){return["/display-local"]};let sh=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-root"]],decls:25,vars:6,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top"],[1,"container"],[1,"rotate"],[1,"navbar-brand",3,"routerLink"],["src","../assets/images/brandlogo.PNG","width","30","height","30","alt","brand logo",1,"d-inline-block","align-top"],[1,"display-5"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse","nav-item"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","index.html",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"routerLink"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["role","main"]],template:function(i,d){1&i&&(g.TgZ(0,"body"),g.TgZ(1,"header"),g.TgZ(2,"nav",0),g.TgZ(3,"div",1),g.TgZ(4,"span",2),g.TgZ(5,"a",3),g._UZ(6,"img",4),g.TgZ(7,"span",5),g._uU(8," Coctail Palace "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"button",6),g._UZ(10,"span",7),g.qZA(),g.TgZ(11,"div",8),g.TgZ(12,"ul",9),g.TgZ(13,"li",10),g.TgZ(14,"a",11),g._uU(15,"Home "),g.qZA(),g.qZA(),g.TgZ(16,"li",12),g.TgZ(17,"a",13),g._uU(18,"Create Cocktail "),g.qZA(),g.qZA(),g.TgZ(19,"li",14),g.TgZ(20,"a",15),g._uU(21," Local Favourites"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"main",16),g._UZ(23,"router-outlet"),g.qZA(),g._UZ(24,"body"),g.qZA()),2&i&&(g.xp6(5),g.Q6J("routerLink",g.DdM(3,oh)),g.xp6(12),g.Q6J("routerLink",g.DdM(4,Zm)),g.xp6(3),g.Q6J("routerLink",g.DdM(5,$p)))},directives:[Gu,jp],styles:["body[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}.nav-item[_ngcontent-%COMP%]{padding-left:3em}.rotate[_ngcontent-%COMP%]{width:80px;color:#271e1e;height:80px;animation:rotation infinite 7s linear;padding-right:15rem}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}body[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > nav[_ngcontent-%COMP%]{background-color:#16140d}body[_ngcontent-%COMP%] > main[_ngcontent-%COMP%] > .container#carouselExampleIndicators[_ngcontent-%COMP%]{transition:all .5s ease-in-out;background:rgb(137,143,31)}.box[_ngcontent-%COMP%]:hover{background-color:#4b4a1e;cursor:pointer}"]}),c})();const Bf_firebaseConfig={apiKey:"AIzaSyCNvUMxHPTAx6GMHBUeqH39JK5WmTTcnRE",authDomain:"coctail-palace.firebaseapp.com",projectId:"coctail-palace",storageBucket:"coctail-palace.appspot.com",messagingSenderId:"1032635802278",appId:"1:1032635802278:web:22597017101d57f3ae8a67"};var ah=z(1555);function qp(...c){if(1===c.length){const a=c[0];if((0,fc.k)(a))return Zo(a,null);if((0,ah.K)(a)&&Object.getPrototypeOf(a)===Object.prototype){const i=Object.keys(a);return Zo(i.map(d=>a[d]),i)}}if("function"==typeof c[c.length-1]){const a=c.pop();return Zo(c=1===c.length&&(0,fc.k)(c[0])?c[0]:c,null).pipe((0,mt.U)(i=>a(...i)))}return Zo(c,null)}function Zo(c,a){return new kn.y(i=>{const d=c.length;if(0===d)return void i.complete();const _=new Array(d);let C=0,M=0;for(let U=0;U<d;U++){const ee=(0,dn.D)(c[U]);let Me=!1;i.add(ee.subscribe({next:Pe=>{Me||(Me=!0,M++),_[U]=Pe},error:Pe=>i.error(Pe),complete:()=>{C++,(C===d||!Me)&&(M===d&&i.next(a?a.reduce((Pe,je,Qe)=>(Pe[je]=_[Qe],Pe),{}):_),i.complete())}}))}})}var zp=z(3637);function uh(){return c=>c.lift(new d_)}class d_{call(a,i){return i.subscribe(new ch(a))}}class ch extends Ln.L{constructor(a){super(a),this.hasPrev=!1}_next(a){let i;this.hasPrev?i=[this.prev,a]:this.hasPrev=!0,this.prev=a,i&&this.destination.next(i)}}class Wp{constructor(a,i){this.compare=a,this.keySelector=i}call(a,i){return i.subscribe(new Km(a,this.compare,this.keySelector))}}class Km extends Ln.L{constructor(a,i,d){super(a),this.keySelector=d,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(a,i){return a===i}_next(a){let i;try{const{keySelector:_}=this;i=_?_(a):a}catch(_){return this.destination.error(_)}let d=!1;if(this.hasKey)try{const{compare:_}=this;d=_(this.key,i)}catch(_){return this.destination.error(_)}else this.hasKey=!0;d||(this.key=i,this.destination.next(a))}}var tu=z(309),Gn=z(57),jc=z(4395),lh=z.n(jc);z(5910),z(6682),z(7771),z(8858),z(3101);const Gf=new g.OlP("angularfire2.auth.use-emulator");function Xp(c,a){return function(c,a=zp.z){return new kn.y(i=>{let d;return null!=a?a.schedule(()=>{d=c.onSnapshot({includeMetadataChanges:!0},i)}):d=c.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=d&&d()}})}(c,a)}function eg(c,a){return Xp(c,a).pipe((0,mt.U)(i=>({payload:i,type:"query"})))}function hh(c,a){return eg(c,a).pipe(vn(void 0),uh(),(0,mt.U)(([i,d])=>{const _=d.payload.docChanges(),C=_.map(M=>({type:M.type,payload:M}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(d.payload.metadata)&&d.payload.docs.forEach((M,U)=>{const ee=_.find(Pe=>Pe.doc.ref.isEqual(M.ref)),Me=null==i?void 0:i.payload.docs.find(Pe=>Pe.ref.isEqual(M.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(M.metadata)||!ee&&Me&&JSON.stringify(Me.metadata)===JSON.stringify(M.metadata)||C.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:M}})}),C}))}function ph(c,a,i){return hh(c,i).pipe(sa((d,_)=>function(c,a,i){return a.forEach(d=>{i.indexOf(d.type)>-1&&(c=function(c,a){switch(a.type){case"added":if(!c[a.newIndex]||!c[a.newIndex].doc.ref.isEqual(a.doc.ref))return gh(c,a.newIndex,0,a);break;case"modified":if(null==c[a.oldIndex]||c[a.oldIndex].doc.ref.isEqual(a.doc.ref)){if(a.oldIndex!==a.newIndex){const i=c.slice();return i.splice(a.oldIndex,1),i.splice(a.newIndex,0,a),i}return gh(c,a.newIndex,1,a)}break;case"removed":if(c[a.oldIndex]&&c[a.oldIndex].doc.ref.isEqual(a.doc.ref))return gh(c,a.oldIndex,1)}return c}(c,d))}),c}(d,_.map(C=>C.payload),a),[]),i=>i.lift(new Wp(void 0,void 0)),(0,mt.U)(d=>d.map(_=>({type:_.type,payload:_}))))}function gh(c,a,i,...d){const _=c.slice();return _.splice(a,i,...d),_}function yh(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class tg{constructor(a,i,d){this.ref=a,this.query=i,this.afs=d}stateChanges(a){let i=hh(this.query,this.afs.schedulers.outsideAngular);return a&&a.length>0&&(i=i.pipe((0,mt.U)(d=>d.filter(_=>a.indexOf(_.type)>-1)))),i.pipe(vn(void 0),uh(),ai(([d,_])=>_.length>0||!d),(0,mt.U)(([d,_])=>_),this.afs.keepUnstableUntilFirst)}auditTrail(a){return this.stateChanges(a).pipe(sa((i,d)=>[...i,...d],[]))}snapshotChanges(a){const i=yh(a);return ph(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(a={}){return eg(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(i=>i.payload.docs.map(d=>a.idField?Object.assign(Object.assign({},d.data()),{[a.idField]:d.id}):d.data())),this.afs.keepUnstableUntilFirst)}get(a){return(0,dn.D)(this.query.get(a)).pipe((0,tu.QV)(this.afs.schedulers.insideAngular))}add(a){return this.ref.add(a)}doc(a){return new ng(this.ref.doc(a),this.afs)}}class ng{constructor(a,i){this.ref=a,this.afs=i}set(a,i){return this.ref.set(a,i)}update(a){return this.ref.update(a)}delete(){return this.ref.delete()}collection(a,i){const d=this.ref.collection(a),{ref:_,query:C}=ig(d,i);return new tg(_,C,this.afs)}snapshotChanges(){return(c=this.ref,a=this.afs.schedulers.outsideAngular,Xp(c,a).pipe(vn(void 0),uh(),(0,mt.U)(([i,d])=>d.exists?(null==i?void 0:i.exists)?{payload:d,type:"modified"}:{payload:d,type:"added"}:{payload:d,type:"removed"}))).pipe(this.afs.keepUnstableUntilFirst);var c,a}valueChanges(a={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:i})=>a.idField?Object.assign(Object.assign({},i.data()),{[a.idField]:i.id}):i.data()))}get(a){return(0,dn.D)(this.ref.get(a)).pipe((0,tu.QV)(this.afs.schedulers.insideAngular))}}class ny{constructor(a,i){this.query=a,this.afs=i}stateChanges(a){return a&&0!==a.length?hh(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(i=>i.filter(d=>a.indexOf(d.type)>-1)),ai(i=>i.length>0),this.afs.keepUnstableUntilFirst):hh(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(a){return this.stateChanges(a).pipe(sa((i,d)=>[...i,...d],[]))}snapshotChanges(a){const i=yh(a);return ph(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(a={}){return eg(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(d=>d.payload.docs.map(_=>a.idField?Object.assign({[a.idField]:_.id},_.data()):_.data())),this.afs.keepUnstableUntilFirst)}get(a){return(0,dn.D)(this.query.get(a)).pipe((0,tu.QV)(this.afs.schedulers.insideAngular))}}const $f=new g.OlP("angularfire2.enableFirestorePersistence"),vh=new g.OlP("angularfire2.firestore.persistenceSettings"),_h=new g.OlP("angularfire2.firestore.settings"),rg=new g.OlP("angularfire2.firestore.use-emulator");function ig(c,a=(i=>i)){return{query:a(c),ref:c}}let bh=(()=>{class c{constructor(i,d,_,C,M,U,ee,Me,Pe){this.schedulers=new Gn.HU(U),this.keepUnstableUntilFirst=(0,Gn.ss)(this.schedulers);const je=(0,Gn.on)(i,U,d);!lh().auth&&Pe&&(0,Gn.yq)();const Qe=Me;[this.firestore,this.persistenceEnabled$]=(0,Gn.sI)(`${je.name}.firestore`,"AngularFirestore",je,()=>{const ke=U.runOutsideAngular(()=>je.firestore());if(C&&ke.settings(C),Qe&&ke.useEmulator(...Qe),_&&!function(c){return"server"===c}(M)){const lt=()=>{try{return(0,dn.D)(ke.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(zt){return"undefined"!=typeof console&&console.warn(zt),(0,st.of)(!1)}};return[ke,U.runOutsideAngular(lt)]}return[ke,(0,st.of)(!1)]},[C,Qe,_])}collection(i,d){let _;_="string"==typeof i?this.firestore.collection(i):i;const{ref:C,query:M}=ig(_,d),U=this.schedulers.ngZone.run(()=>C);return new tg(U,M,this)}collectionGroup(i,d){const _=d||(M=>M),C=this.firestore.collectionGroup(i);return new ny(_(C),this)}doc(i){let d;d="string"==typeof i?this.firestore.doc(i):i;const _=this.schedulers.ngZone.run(()=>d);return new ng(_,this)}createId(){return this.firestore.collection("_").doc().id}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(Gn.Dh),g.LFG(Gn.xv,8),g.LFG($f,8),g.LFG(_h,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(vh,8),g.LFG(rg,8),g.LFG(Gf,8))},c.\u0275prov=g.Yz7({factory:function(){return new c(g.LFG(Gn.Dh),g.LFG(Gn.xv,8),g.LFG($f,8),g.LFG(_h,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(vh,8),g.LFG(rg,8),g.LFG(Gf,8))},token:c,providedIn:"any"}),c})(),og=(()=>{class c{static enablePersistence(i){return{ngModule:c,providers:[{provide:$f,useValue:!0},{provide:vh,useValue:i}]}}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:[bh]}),c})();const ry=new Array(5).fill(0);let Fi=(()=>{class c{constructor(i,d){this.http=i,this.db=d,this._coctails=[],this.baseUrl="https://www.thecocktaildb.com/api/json/v1/1/random.php"}getRandomCocktails(){return qp(ry.fill(this.http.get(this.baseUrl),0,5))}getRandomCocktail(){return this.http.get(this.baseUrl)}set setCoctails(i){this._coctails=i}get coctails(){return[...this._coctails]}getCoctailById(i){return Object.assign({},this._coctails.find(d=>d.idDrink==i))}createCustomCoctail(i){return this.db.collection("coctails").add(i)}getCustomCoctails(){return this.db.collection("coctails",d=>d.orderBy("dateModified","desc").limit(5)).valueChanges()}searchCustomCoctails(i,d){return this.db.collection("coctails",_=>_.orderBy("strDrink").startAt(i).endAt(d)).valueChanges()}}return c.\u0275fac=function(i){return new(i||c)(g.LFG(yn),g.LFG(bh))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const wh=function(c){return["/cocktail-details/",c]};function iy(c,a){if(1&c&&(g.TgZ(0,"div",13),g._UZ(1,"img",14),g.TgZ(2,"div",15),g.TgZ(3,"h5",16),g._uU(4),g.qZA(),g.TgZ(5,"p",17),g.TgZ(6,"small",18),g._uU(7),g.qZA(),g.qZA(),g.TgZ(8,"a",19),g._uU(9," Details "),g.qZA(),g.qZA(),g.qZA()),2&c){const i=a.$implicit;g.xp6(1),g.s9C("src",i.strDrinkThumb,g.LSH),g.xp6(3),g.Oqu(i.strDrink),g.xp6(3),g.hij("Modified: ",i.dateModified," "),g.xp6(1),g.Q6J("routerLink",g.VKq(4,wh,i.idDrink))}}function oy(c,a){if(1&c&&(g.TgZ(0,"div",11),g.YNc(1,iy,10,6,"div",12),g.qZA()),2&c){const i=g.oxw();g.xp6(1),g.Q6J("ngForOf",i.cocktailsArrays)}}function m_(c,a){1&c&&(g._UZ(0,"br"),g.TgZ(1,"abbr",20),g._uU(2,"loading cocktail"),g.qZA())}function sg(c,a){1&c&&(g.TgZ(0,"abbr"),g._uU(1," please wait loading drinks... "),g.qZA())}function sy(c,a){if(1&c){const i=g.EpF();g.TgZ(0,"div",13),g.TgZ(1,"div",21),g.TgZ(2,"ol",22),g._UZ(3,"li",23),g.qZA(),g.TgZ(4,"div",24),g.TgZ(5,"div",25),g._UZ(6,"img",26),g.TgZ(7,"div"),g.TgZ(8,"h5",16),g._uU(9),g.qZA(),g.TgZ(10,"p",17),g.TgZ(11,"small",18),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"a",27),g.NdJ("click",function(){return g.CHM(i),g.oxw().getRandomCocktail()}),g._UZ(14,"span",28),g.TgZ(15,"span",29),g._uU(16,"Previous"),g.qZA(),g.qZA(),g.TgZ(17,"a",30),g.NdJ("click",function(){return g.CHM(i),g.oxw().getRandomCocktail()}),g._UZ(18,"span",31),g.TgZ(19,"span",29),g._uU(20,"Next"),g.qZA(),g.qZA(),g.qZA(),g.YNc(21,sg,2,0,"ng-template",null,6,g.W1O),g.qZA()}if(2&c){const i=g.oxw();g.xp6(6),g.s9C("src",i.randomCocktail.strDrinkThumb,g.LSH),g.xp6(3),g.Oqu(i.randomCocktail.strDrink),g.xp6(3),g.hij("Modified: ",i.randomCocktail.dateModified,"")}}let ag=(()=>{class c{constructor(i){this.api=i,this.title="Five Favs",this.cocktailsArrays=[],this.randomCocktail={}}ngOnInit(){this.getDrinks()}getDrinks(){this.api.getRandomCocktails().toPromise().then(i=>{i.forEach(d=>{const _=Object.assign({},d.drinks[0]);this.cocktailsArrays.push(_)}),this.api.setCoctails=this.cocktailsArrays})}getRandomCocktail(){this.api.getRandomCocktail().toPromise().then(i=>{console.log(JSON.stringify(i,null,2)),this.randomCocktail=Object.assign({},i.drinks[0])})}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(Fi))},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-random-drinks"]],decls:15,vars:6,consts:[[1,"jumbotron","jumbotron-other","container-fluid"],[1,"container"],[1,"display-3","text-white"],[1,"row"],[1,"col-md-8"],["class","card-columns",4,"ngIf","ngIfElse"],["loader",""],[1,"col-md-3"],[1,"container-fluid"],[1,"badge-info","btn-sm",3,"click"],["class","card",4,"ngIf","ngIfElse"],[1,"card-columns"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],["title",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","Card image cap",1,"card-img-top","img-fluid",3,"src"],["role","button","data-slide","prev",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["role","button","data-slide","next",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,d){if(1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h1",2),g._uU(3,"Grab a Drink"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.YNc(6,oy,2,1,"div",5),g.YNc(7,m_,3,0,"ng-template",null,6,g.W1O),g.qZA(),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"button",9),g.NdJ("click",function(){return d.getRandomCocktail()}),g._uU(12,"Sample a Random Coctail"),g.qZA(),g.YNc(13,sy,23,3,"div",10),g.ALo(14,"json"),g.qZA(),g.qZA(),g.qZA()),2&i){const _=g.MAs(8);g.xp6(6),g.Q6J("ngIf",d.cocktailsArrays.length>0)("ngIfElse",_),g.xp6(7),g.Q6J("ngIf","{}"!=g.lcZ(14,4,d.randomCocktail))("ngIfElse",_)}},directives:[gr,pr,Gu],pipes:[ns],styles:[".jumbotron[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 100vw #0000001a;height:30vh;background-size:cover}.jumbotron-other[_ngcontent-%COMP%]{background:url(oldfashioned.9007eb5d38fd24af3ed9.jpg) no-repeat fixed}.jumbotron[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 100vw #0000001a;height:40vh;background-size:cover}"]}),c})(),ay=(()=>{class c{constructor(i,d){this.api=i,this.route=d}ngOnInit(){const i=this.route.snapshot.paramMap.get("idDrink");this.coctailDetails=this.api.getCoctailById(i)}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(Fi),g.Y36(oo))},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-cocktail-details"]],decls:32,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],[1,"card-group"],[1,"card"],["alt","Coctail Image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"col-md-8"],[1,"card","text-center"],[1,"card-header"],[1,"nav","nav-pills","card-header-pills"],[1,"nav-item"],["href","#",1,"nav-link","active"],[1,"nav-link"]],template:function(i,d){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g._UZ(5,"img",5),g.TgZ(6,"div",6),g.TgZ(7,"h5",7),g._uU(8),g.qZA(),g.TgZ(9,"p",8),g._uU(10),g.qZA(),g.TgZ(11,"p",8),g.TgZ(12,"small",9),g._uU(13),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",10),g.TgZ(15,"div",11),g.TgZ(16,"div",12),g.TgZ(17,"ul",13),g.TgZ(18,"li",14),g.TgZ(19,"a",15),g._uU(20,"Ingredients"),g.qZA(),g.TgZ(21,"p",8),g._uU(22),g.qZA(),g.TgZ(23,"p",8),g._uU(24),g.qZA(),g.TgZ(25,"p",8),g._uU(26),g.qZA(),g.qZA(),g.TgZ(27,"li",14),g.TgZ(28,"a",16),g._uU(29,"Intructions"),g.qZA(),g.TgZ(30,"p",8),g._uU(31),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(5),g.MGl("src","",d.coctailDetails.strDrinkThumb," ",g.LSH),g.xp6(3),g.hij("",d.coctailDetails.strDrink," "),g.xp6(2),g.hij("Type: ",d.coctailDetails.strAlcoholic,""),g.xp6(3),g.hij("Date Modified: ",d.coctailDetails.strIngredient3,""),g.xp6(9),g.Oqu(d.coctailDetails.strIngredient1),g.xp6(2),g.Oqu(d.coctailDetails.strIngredient2),g.xp6(2),g.Oqu(d.coctailDetails.strIngredient3),g.xp6(5),g.Oqu(d.coctailDetails.strInstructions))},styles:[""]}),c})(),qf=(()=>{class c{constructor(i,d){this._renderer=i,this._elementRef=d,this.onChange=_=>{},this.onTouched=()=>{}}setProperty(i,d){this._renderer.setProperty(this._elementRef.nativeElement,i,d)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(g.Qsj),g.Y36(g.SBq))},c.\u0275dir=g.lG2({type:c}),c})(),qu=(()=>{class c extends qf{}return c.\u0275fac=function(){let a;return function(d){return(a||(a=g.n5z(c)))(d||c)}}(),c.\u0275dir=g.lG2({type:c,features:[g.qOj]}),c})();const xs=new g.OlP("NgValueAccessor"),uy={provide:xs,useExisting:(0,g.Gpc)(()=>Hc),multi:!0},Ch=new g.OlP("CompositionEventMode");let Hc=(()=>{class c extends qf{constructor(i,d,_){super(i,d),this._compositionMode=_,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const c=Ne()?Ne().getUserAgent():"";return/android (\d+)/.test(c.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Ch,8))},c.\u0275dir=g.lG2({type:c,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,d){1&i&&g.NdJ("input",function(C){return d._handleInput(C.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(C){return d._compositionEnd(C.target.value)})},features:[g._Bn([uy]),g.qOj]}),c})();const vr=new g.OlP("NgValidators"),zu=new g.OlP("NgAsyncValidators");function Zu(c){return null!=c}function Sh(c){const a=(0,g.QGY)(c)?(0,dn.D)(c):c;return(0,g.CqO)(a),a}function Gc(c){let a={};return c.forEach(i=>{a=null!=i?Object.assign(Object.assign({},a),i):a}),0===Object.keys(a).length?null:a}function $c(c,a){return a.map(i=>i(c))}function Zf(c){return c.map(a=>function(c){return!c.validate}(a)?a:i=>a.validate(i))}function Nh(c){return null!=c?function(c){if(!c)return null;const a=c.filter(Zu);return 0==a.length?null:function(i){return Gc($c(i,a))}}(Zf(c)):null}function Oh(c){return null!=c?function(c){if(!c)return null;const a=c.filter(Zu);return 0==a.length?null:function(i){return qp($c(i,a).map(Sh)).pipe((0,mt.U)(Gc))}}(Zf(c)):null}function Yf(c,a){return null===c?[a]:Array.isArray(c)?[...c,a]:[c,a]}function Kf(c){return c?Array.isArray(c)?c:[c]:[]}function va(c,a){return Array.isArray(c)?c.includes(a):c===a}function Rh(c,a){const i=Kf(a);return Kf(c).forEach(_=>{va(i,_)||i.push(_)}),i}function hg(c,a){return Kf(a).filter(i=>!va(c,i))}let pg=(()=>{class c{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Nh(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Oh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,d){return!!this.control&&this.control.hasError(i,d)}getError(i,d){return this.control?this.control.getError(i,d):null}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275dir=g.lG2({type:c}),c})(),rr=(()=>{class c extends pg{get formDirective(){return null}get path(){return null}}return c.\u0275fac=function(){let a;return function(d){return(a||(a=g.n5z(c)))(d||c)}}(),c.\u0275dir=g.lG2({type:c,features:[g.qOj]}),c})();class ru extends pg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gg{constructor(a){this._cd=a}is(a){var i,d,_;return"submitted"===a?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(_=null===(d=this._cd)||void 0===d?void 0:d.control)||void 0===_?void 0:_[a])}}let mg=(()=>{class c extends gg{constructor(i){super(i)}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(ru,2))},c.\u0275dir=g.lG2({type:c,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,d){2&i&&g.ekj("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))},features:[g.qOj]}),c})(),yg=(()=>{class c extends gg{constructor(i){super(i)}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(rr,10))},c.\u0275dir=g.lG2({type:c,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,d){2&i&&g.ekj("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))("ng-submitted",d.is("submitted"))},features:[g.qOj]}),c})();function qc(c,a){Gl(c,a),a.valueAccessor.writeValue(c.value),function(c,a){a.valueAccessor.registerOnChange(i=>{c._pendingValue=i,c._pendingChange=!0,c._pendingDirty=!0,"change"===c.updateOn&&Fh(c,a)})}(c,a),function(c,a){const i=(d,_)=>{a.valueAccessor.writeValue(d),_&&a.viewToModelUpdate(d)};c.registerOnChange(i),a._registerOnDestroy(()=>{c._unregisterOnChange(i)})}(c,a),function(c,a){a.valueAccessor.registerOnTouched(()=>{c._pendingTouched=!0,"blur"===c.updateOn&&c._pendingChange&&Fh(c,a),"submit"!==c.updateOn&&c.markAsTouched()})}(c,a),function(c,a){if(a.valueAccessor.setDisabledState){const i=d=>{a.valueAccessor.setDisabledState(d)};c.registerOnDisabledChange(i),a._registerOnDestroy(()=>{c._unregisterOnDisabledChange(i)})}}(c,a)}function Xf(c,a){c.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(a)})}function Gl(c,a){const i=function(c){return c._rawValidators}(c);null!==a.validator?c.setValidators(Yf(i,a.validator)):"function"==typeof i&&c.setValidators([i]);const d=function(c){return c._rawAsyncValidators}(c);null!==a.asyncValidator?c.setAsyncValidators(Yf(d,a.asyncValidator)):"function"==typeof d&&c.setAsyncValidators([d]);const _=()=>c.updateValueAndValidity();Xf(a._rawValidators,_),Xf(a._rawAsyncValidators,_)}function Fh(c,a){c._pendingDirty&&c.markAsDirty(),c.setValue(c._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(c._pendingValue),c._pendingChange=!1}function Lh(c,a){const i=c.indexOf(a);i>-1&&c.splice(i,1)}const Yu="VALID",ed="INVALID",Ku="PENDING",zc="DISABLED";function ki(c){return(td(c)?c.validators:c)||null}function gy(c){return Array.isArray(c)?Nh(c):c||null}function Mg(c,a){return(td(a)?a.asyncValidators:c)||null}function my(c){return Array.isArray(c)?Oh(c):c||null}function td(c){return null!=c&&!Array.isArray(c)&&"object"==typeof c}class nd{constructor(a,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=i,this._composedValidatorFn=gy(this._rawValidators),this._composedAsyncValidatorFn=my(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===Yu}get invalid(){return this.status===ed}get pending(){return this.status==Ku}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=gy(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=my(a)}addValidators(a){this.setValidators(Rh(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(Rh(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(hg(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(hg(a,this._rawAsyncValidators))}hasValidator(a){return va(this._rawValidators,a)}hasAsyncValidator(a){return va(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=Ku,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const i=this._parentMarkedDirty(a.onlySelf);this.status=zc,this.errors=null,this._forEachChild(d=>{d.disable(Object.assign(Object.assign({},a),{onlySelf:!0}))}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},a),{skipPristineCheck:i})),this._onDisabledChange.forEach(d=>d(!0))}enable(a={}){const i=this._parentMarkedDirty(a.onlySelf);this.status=Yu,this._forEachChild(d=>{d.enable(Object.assign(Object.assign({},a),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},a),{skipPristineCheck:i})),this._onDisabledChange.forEach(d=>d(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Ku)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=Ku,this._hasOwnPendingAsyncValidator=!0;const i=Sh(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(d=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(d,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,i={}){this.errors=a,this._updateControlsErrors(!1!==i.emitEvent)}get(a){return function(c,a,i){if(null==a||(Array.isArray(a)||(a=a.split(".")),Array.isArray(a)&&0===a.length))return null;let d=c;return a.forEach(_=>{d=d instanceof Vh?d.controls.hasOwnProperty(_)?d.controls[_]:null:d instanceof C_&&d.at(_)||null}),d}(this,a)}getError(a,i){const d=i?this.get(i):this;return d&&d.errors?d.errors[a]:null}hasError(a,i){return!!this.getError(a,i)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ku)?Ku:this._anyControlsHaveStatus(ed)?ed:Yu}_anyControlsHaveStatus(a){return this._anyControls(i=>i.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_isBoxedValue(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){td(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ql extends nd{constructor(a=null,i,d){super(ki(i),Mg(d,i)),this._onChange=[],this._applyFormState(a),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(a,i={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(d=>d(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(a,i={}){this.setValue(a,i)}reset(a=null,i={}){this._applyFormState(a),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){Lh(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){Lh(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){this._isBoxedValue(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}}class Vh extends nd{constructor(a,i,d){super(ki(i),Mg(d,i)),this.controls=a,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,i){return this.controls[a]?this.controls[a]:(this.controls[a]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(a,i,d={}){this.registerControl(a,i),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}removeControl(a,i={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(a,i,d={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],i&&this.registerControl(a,i),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,i={}){this._checkAllValuesPresent(a),Object.keys(a).forEach(d=>{this._throwIfControlMissing(d),this.controls[d].setValue(a[d],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(a,i={}){null!=a&&(Object.keys(a).forEach(d=>{this.controls[d]&&this.controls[d].patchValue(a[d],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(a={},i={}){this._forEachChild((d,_)=>{d.reset(a[_],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(a,i,d)=>(a[d]=i instanceof ql?i.value:i.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(i,d)=>!!d._syncPendingControls()||i);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[a])throw new Error(`Cannot find form control with name: ${a}.`)}_forEachChild(a){Object.keys(this.controls).forEach(i=>{const d=this.controls[i];d&&a(d,i)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const i of Object.keys(this.controls)){const d=this.controls[i];if(this.contains(i)&&a(d))return!0}return!1}_reduceValue(){return this._reduceChildren({},(a,i,d)=>((i.enabled||this.disabled)&&(a[d]=i.value),a))}_reduceChildren(a,i){let d=a;return this._forEachChild((_,C)=>{d=i(d,_,C)}),d}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(a){this._forEachChild((i,d)=>{if(void 0===a[d])throw new Error(`Must supply a value for form control with name: '${d}'.`)})}}class C_ extends nd{constructor(a,i,d){super(ki(i),Mg(d,i)),this.controls=a,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[a]}push(a,i={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(a,i,d={}){this.controls.splice(a,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:d.emitEvent})}removeAt(a,i={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(a,i,d={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),i&&(this.controls.splice(a,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,i={}){this._checkAllValuesPresent(a),a.forEach((d,_)=>{this._throwIfControlMissing(_),this.at(_).setValue(d,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(a,i={}){null!=a&&(a.forEach((d,_)=>{this.at(_)&&this.at(_).patchValue(d,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(a=[],i={}){this._forEachChild((d,_)=>{d.reset(a[_],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(a=>a instanceof ql?a.value:a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_syncPendingControls(){let a=this.controls.reduce((i,d)=>!!d._syncPendingControls()||i,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(a))throw new Error(`Cannot find form control at index ${a}`)}_forEachChild(a){this.controls.forEach((i,d)=>{a(i,d)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(i=>i.enabled&&a(i))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_checkAllValuesPresent(a){this._forEachChild((i,d)=>{if(void 0===a[d])throw new Error(`Must supply a value for form control at index: ${d}.`)})}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}}const Ng={provide:rr,useExisting:(0,g.Gpc)(()=>Wc)},zl=(()=>Promise.resolve(null))();let Wc=(()=>{class c extends rr{constructor(i,d){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new g.vpe,this.form=new Vh({},Nh(i),Oh(d))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){zl.then(()=>{const d=this._findContainer(i.path);i.control=d.registerControl(i.name,i.control),qc(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){zl.then(()=>{const d=this._findContainer(i.path);d&&d.removeControl(i.name),Lh(this._directives,i)})}addFormGroup(i){zl.then(()=>{const d=this._findContainer(i.path),_=new Vh({});(function(c,a){Gl(c,a)})(_,i),d.registerControl(i.name,_),_.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){zl.then(()=>{const d=this._findContainer(i.path);d&&d.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,d){zl.then(()=>{this.form.get(i.path).setValue(d)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function(c,a){c._syncPendingControls(),a.forEach(i=>{const d=i.control;"submit"===d.updateOn&&d._pendingChange&&(i.viewToModelUpdate(d._pendingValue),d._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(vr,10),g.Y36(zu,10))},c.\u0275dir=g.lG2({type:c,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,d){1&i&&g.NdJ("submit",function(C){return d.onSubmit(C)})("reset",function(){return d.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Ng]),g.qOj]}),c})();const Zc={provide:ru,useExisting:(0,g.Gpc)(()=>iu)},ao=(()=>Promise.resolve(null))();let iu=(()=>{class c extends ru{constructor(i,d,_,C){super(),this.control=new ql,this._registered=!1,this.update=new g.vpe,this._parent=i,this._setValidators(d),this._setAsyncValidators(_),this.valueAccessor=function(c,a){if(!a)return null;let i,d,_;return Array.isArray(a),a.forEach(C=>{C.constructor===Hc?i=C:function(c){return Object.getPrototypeOf(c.constructor)===qu}(C)?d=C:_=C}),_||d||i||null}(0,C)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(c,a){if(!c.hasOwnProperty("model"))return!1;const i=c.model;return!!i.isFirstChange()||!Object.is(a,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(c,a){return[...a.path,c]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){ao.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const d=i.isDisabled.currentValue,_=""===d||d&&"false"!==d;ao.then(()=>{_&&!this.control.disabled?this.control.disable():!_&&this.control.disabled&&this.control.enable()})}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(rr,9),g.Y36(vr,10),g.Y36(zu,10),g.Y36(xs,10))},c.\u0275dir=g.lG2({type:c,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Zc]),g.qOj,g.TTD]}),c})(),Rg=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275dir=g.lG2({type:c,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),c})(),Mr=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({}),c})();const Cy={provide:vr,useExisting:(0,g.Gpc)(()=>$h),multi:!0};let $h=(()=>{class c{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?function(c){return function(c){return null==c||0===c.length}(c.value)?{required:!0}:null}(i):null}registerOnValidatorChange(i){this._onChange=i}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275dir=g.lG2({type:c,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,d){2&i&&g.uIk("required",d.required?"":null)},inputs:{required:"required"},features:[g._Bn([Cy])]}),c})(),Ny=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[[Mr]]}),c})(),x_=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[Ny]}),c})(),Oy=(()=>{class c{constructor(i,d){this.coctailService=i,this.router=d,this.coctail={strDrink:"",strCategory:"",strAlcoholic:"",strInstructions:"",strIngredient1:"",strIngredient2:"",strMeasure1:"",strMeasure2:"",strImageSource:"",dateModified:(new Date).getMilliseconds()}}ngOnInit(){}submitCoctail(i){console.log(i),i.valid&&(this.coctailService.createCustomCoctail(this.coctail),i.reset(),this.router.navigate(["display-local"]))}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(Fi),g.Y36(Kr))},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-custom-drink"]],decls:51,vars:8,consts:[[1,"container"],[1,"p-2","pt-md-4","pb-md-3","mx-auto","text-centerd"],[1,"display-4"],[1,"row"],[1,"col-md-8","offset-2"],[1,"mb-3",3,"ngSubmit"],["coctailForm","ngForm"],[1,"form-group"],["for","strDrinkf"],["type","text","required","","placeholder","Enter Name of coctail...","name","strDrink",1,"form-control",3,"ngModel","ngModelChange"],["strDrinkf","ngModel"],["for","strCategoryf"],["type","text","required","","placeholder","E.g Alcoholic...","name","strCategory",1,"form-control",3,"ngModel","ngModelChange"],["strCategoryf","ngModel"],["for","strInstructionsf"],["type","text","required","","placeholder","Enter calories...","name","strCategory",1,"form-control",3,"ngModel","ngModelChange"],["strInstructionsf","ngModel"],["for","strIngredient1f"],["type","text","required","","placeholder","Enter ingredient...","name","strIngredient1",1,"form-control",3,"ngModel","ngModelChange"],["strIngredient1f","ngModel"],["for","strIngredient2f"],["type","text","required","","placeholder","Enter ingredient...","name","strIngredient2",1,"form-control",3,"ngModel","ngModelChange"],["strIngredient2f","ngModel"],["for","strMeasure1f"],["type","text","required","","placeholder","E.g 10ml...","name","strMeasure1",1,"form-control",3,"ngModel","ngModelChange"],["strMeasure1f","ngModel"],["for","strMeasure2f"],["type","text","required","","placeholder","E.g 10ml...","name","strMeasure2",1,"form-control",3,"ngModel","ngModelChange"],["strMeasure2f","ngModel"],["for","strImageSourcef"],["type","text","required","","placeholder","Image URL...","name","strImageSource",1,"form-control",3,"ngModel","ngModelChange"],["strImageSourcef","ngModel"],["type","submit",1,"btn","btn-success","btn-lg","btn-block","mb-3"]],template:function(i,d){if(1&i){const _=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",0),g.TgZ(3,"h2",2),g._uU(4,"Create a custom drink"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"form",5,6),g.NdJ("ngSubmit",function(){g.CHM(_);const M=g.MAs(8);return d.submitCoctail(M)}),g.TgZ(9,"div",7),g.TgZ(10,"label",8),g._uU(11,"Coctail Name"),g.qZA(),g.TgZ(12,"input",9,10),g.NdJ("ngModelChange",function(M){return d.coctail.strDrink=M}),g.qZA(),g.qZA(),g.TgZ(14,"div",7),g.TgZ(15,"label",11),g._uU(16,"Category"),g.qZA(),g.TgZ(17,"input",12,13),g.NdJ("ngModelChange",function(M){return d.coctail.strCategory=M}),g.qZA(),g.qZA(),g.TgZ(19,"div",7),g.TgZ(20,"label",14),g._uU(21,"Instructions"),g.qZA(),g.TgZ(22,"input",15,16),g.NdJ("ngModelChange",function(M){return d.coctail.strInstructions=M}),g.qZA(),g.qZA(),g.TgZ(24,"div",7),g.TgZ(25,"label",17),g._uU(26,"Ingredient 1"),g.qZA(),g.TgZ(27,"input",18,19),g.NdJ("ngModelChange",function(M){return d.coctail.strIngredient1=M}),g.qZA(),g.qZA(),g.TgZ(29,"div",7),g.TgZ(30,"label",20),g._uU(31,"Ingredient 2"),g.qZA(),g.TgZ(32,"input",21,22),g.NdJ("ngModelChange",function(M){return d.coctail.strIngredient2=M}),g.qZA(),g.qZA(),g.TgZ(34,"div",7),g.TgZ(35,"label",23),g._uU(36,"Measurement for ingredient 1"),g.qZA(),g.TgZ(37,"input",24,25),g.NdJ("ngModelChange",function(M){return d.coctail.strMeasure1=M}),g.qZA(),g.qZA(),g.TgZ(39,"div",7),g.TgZ(40,"label",26),g._uU(41,"Measurement for ingredient 2"),g.qZA(),g.TgZ(42,"input",27,28),g.NdJ("ngModelChange",function(M){return d.coctail.strMeasure2=M}),g.qZA(),g.qZA(),g.TgZ(44,"div",7),g.TgZ(45,"label",29),g._uU(46," Enter image URL"),g.qZA(),g.TgZ(47,"input",30,31),g.NdJ("ngModelChange",function(M){return d.coctail.strImageSource=M}),g.qZA(),g.qZA(),g.TgZ(49,"button",32),g._uU(50,"Create Coctail"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&i&&(g.xp6(12),g.Q6J("ngModel",d.coctail.strDrink),g.xp6(5),g.Q6J("ngModel",d.coctail.strCategory),g.xp6(5),g.Q6J("ngModel",d.coctail.strInstructions),g.xp6(5),g.Q6J("ngModel",d.coctail.strIngredient1),g.xp6(5),g.Q6J("ngModel",d.coctail.strIngredient2),g.xp6(5),g.Q6J("ngModel",d.coctail.strMeasure1),g.xp6(5),g.Q6J("ngModel",d.coctail.strMeasure2),g.xp6(5),g.Q6J("ngModel",d.coctail.strImageSource))},directives:[Rg,yg,Wc,Hc,$h,mg,iu],styles:[""]}),c})();const Xc=function(c){return["/cocktail-details/",c]};function Ry(c,a){if(1&c&&(g.TgZ(0,"div",6),g._UZ(1,"img",7),g.TgZ(2,"div",8),g.TgZ(3,"h5",9),g._uU(4),g.qZA(),g.TgZ(5,"a",10),g._uU(6," Details "),g.qZA(),g.qZA(),g.qZA()),2&c){const i=a.$implicit;g.xp6(1),g.s9C("src",i.strImageSource,g.LSH),g.xp6(3),g.Oqu(i.strDrink),g.xp6(1),g.Q6J("routerLink",g.VKq(3,Xc,i.idDrink))}}function Zg(c,a){if(1&c&&(g.TgZ(0,"div",4),g.YNc(1,Ry,7,5,"div",5),g.qZA()),2&c){const i=g.oxw();g.xp6(1),g.Q6J("ngForOf",i.cocktailsArrays)}}function Py(c,a){1&c&&g._uU(0,"please wait loading drinks...")}const ud=[{path:"coctails",component:ag},{path:"display-local",component:(()=>{class c{constructor(i){this.api=i,this.randomCocktail={},this.searching=!1,this.searchField=""}ngOnInit(){this.api.getCustomCoctails().subscribe(i=>{this.cocktailsArrays=i})}search(i){const _=this.searchField.toLowerCase(),C=this.searchField.toLowerCase()+"\uf8ff";this.api.searchCustomCoctails(_,C).subscribe(M=>{console.log(M),this.cocktailsArrays=M})}}return c.\u0275fac=function(i){return new(i||c)(g.Y36(Fi))},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-display-custom"]],decls:6,vars:3,consts:[["name","search","type","text",3,"ngModel","keydown","ngModelChange"],[1,""],["class","card-columns",4,"ngIf","ngIfElse"],["loader",""],[1,"card-columns"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-primary","btn-sm",3,"routerLink"]],template:function(i,d){if(1&i&&(g.TgZ(0,"div"),g.TgZ(1,"input",0),g.NdJ("keydown",function(C){return d.search(C)})("ngModelChange",function(C){return d.searchField=C}),g.qZA(),g.TgZ(2,"div",1),g.YNc(3,Zg,2,1,"div",2),g.YNc(4,Py,1,0,"ng-template",null,3,g.W1O),g.qZA(),g.qZA()),2&i){const _=g.MAs(5);g.xp6(1),g.Q6J("ngModel",d.searchField),g.xp6(2),g.Q6J("ngIf",d.cocktailsArrays.length>0)("ngIfElse",_)}},directives:[Hc,mg,iu,gr,pr,Gu],styles:[""]}),c})()},{path:"custom-drink",component:Oy},{path:"cocktail-details/:idDrink",component:ay},{path:"",redirectTo:"/coctails",pathMatch:"full"},{path:"*",component:ag}];let ky=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=g.oAB({type:c,bootstrap:[sh]}),c.\u0275inj=g.cJS({providers:[],imports:[[qm.forRoot(ud,{enableTracing:!0}),Gn.hO.initializeApp(Bf_firebaseConfig),og,Fa,ys,x_]]}),c})();Ir().bootstrapModule(ky).catch(c=>console.error(c))},7796:(nt,de,z)=>{"use strict";z.r(de),z.d(de,{__extends:()=>P,__assign:()=>Ne,__rest:()=>ve,__decorate:()=>ne,__param:()=>he,__metadata:()=>me,__awaiter:()=>Ae,__generator:()=>le,__createBinding:()=>R,__exportStar:()=>B,__values:()=>ie,__read:()=>J,__spread:()=>Z,__spreadArrays:()=>we,__await:()=>Ee,__asyncGenerator:()=>De,__asyncDelegator:()=>Re,__asyncValues:()=>Ie,__makeTemplateObject:()=>pe,__importStar:()=>ze,__importDefault:()=>tt,__classPrivateFieldGet:()=>We,__classPrivateFieldSet:()=>_t});var g=function(x,H){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,k){L.__proto__=k}||function(L,k){for(var q in k)k.hasOwnProperty(q)&&(L[q]=k[q])})(x,H)};function P(x,H){function L(){this.constructor=x}g(x,H),x.prototype=null===H?Object.create(H):(L.prototype=H.prototype,new L)}var Ne=function(){return(Ne=Object.assign||function(H){for(var L,k=1,q=arguments.length;k<q;k++)for(var O in L=arguments[k])Object.prototype.hasOwnProperty.call(L,O)&&(H[O]=L[O]);return H}).apply(this,arguments)};function ve(x,H){var L={};for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&H.indexOf(k)<0&&(L[k]=x[k]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var q=0;for(k=Object.getOwnPropertySymbols(x);q<k.length;q++)H.indexOf(k[q])<0&&Object.prototype.propertyIsEnumerable.call(x,k[q])&&(L[k[q]]=x[k[q]])}return L}function ne(x,H,L,k){var te,q=arguments.length,O=q<3?H:null===k?k=Object.getOwnPropertyDescriptor(H,L):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(x,H,L,k);else for(var ue=x.length-1;ue>=0;ue--)(te=x[ue])&&(O=(q<3?te(O):q>3?te(H,L,O):te(H,L))||O);return q>3&&O&&Object.defineProperty(H,L,O),O}function he(x,H){return function(L,k){H(L,k,x)}}function me(x,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,H)}function Ae(x,H,L,k){return new(L||(L=Promise))(function(O,te){function ue(Ue){try{ce(k.next(Ue))}catch(He){te(He)}}function Ve(Ue){try{ce(k.throw(Ue))}catch(He){te(He)}}function ce(Ue){Ue.done?O(Ue.value):function(O){return O instanceof L?O:new L(function(te){te(O)})}(Ue.value).then(ue,Ve)}ce((k=k.apply(x,H||[])).next())})}function le(x,H){var k,q,O,te,L={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return te={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&(te[Symbol.iterator]=function(){return this}),te;function ue(ce){return function(Ue){return function(ce){if(k)throw new TypeError("Generator is already executing.");for(;L;)try{if(k=1,q&&(O=2&ce[0]?q.return:ce[0]?q.throw||((O=q.return)&&O.call(q),0):q.next)&&!(O=O.call(q,ce[1])).done)return O;switch(q=0,O&&(ce=[2&ce[0],O.value]),ce[0]){case 0:case 1:O=ce;break;case 4:return L.label++,{value:ce[1],done:!1};case 5:L.label++,q=ce[1],ce=[0];continue;case 7:ce=L.ops.pop(),L.trys.pop();continue;default:if(!(O=(O=L.trys).length>0&&O[O.length-1])&&(6===ce[0]||2===ce[0])){L=0;continue}if(3===ce[0]&&(!O||ce[1]>O[0]&&ce[1]<O[3])){L.label=ce[1];break}if(6===ce[0]&&L.label<O[1]){L.label=O[1],O=ce;break}if(O&&L.label<O[2]){L.label=O[2],L.ops.push(ce);break}O[2]&&L.ops.pop(),L.trys.pop();continue}ce=H.call(x,L)}catch(Ue){ce=[6,Ue],q=0}finally{k=O=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}([ce,Ue])}}}function R(x,H,L,k){void 0===k&&(k=L),x[k]=H[L]}function B(x,H){for(var L in x)"default"!==L&&!H.hasOwnProperty(L)&&(H[L]=x[L])}function ie(x){var H="function"==typeof Symbol&&Symbol.iterator,L=H&&x[H],k=0;if(L)return L.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&k>=x.length&&(x=void 0),{value:x&&x[k++],done:!x}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(x,H){var L="function"==typeof Symbol&&x[Symbol.iterator];if(!L)return x;var q,te,k=L.call(x),O=[];try{for(;(void 0===H||H-- >0)&&!(q=k.next()).done;)O.push(q.value)}catch(ue){te={error:ue}}finally{try{q&&!q.done&&(L=k.return)&&L.call(k)}finally{if(te)throw te.error}}return O}function Z(){for(var x=[],H=0;H<arguments.length;H++)x=x.concat(J(arguments[H]));return x}function we(){for(var x=0,H=0,L=arguments.length;H<L;H++)x+=arguments[H].length;var k=Array(x),q=0;for(H=0;H<L;H++)for(var O=arguments[H],te=0,ue=O.length;te<ue;te++,q++)k[q]=O[te];return k}function Ee(x){return this instanceof Ee?(this.v=x,this):new Ee(x)}function De(x,H,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,k=L.apply(x,H||[]),O=[];return q={},te("next"),te("throw"),te("return"),q[Symbol.asyncIterator]=function(){return this},q;function te(Te){k[Te]&&(q[Te]=function(Ye){return new Promise(function(It,Cn){O.push([Te,Ye,It,Cn])>1||ue(Te,Ye)})})}function ue(Te,Ye){try{!function(Te){Te.value instanceof Ee?Promise.resolve(Te.value.v).then(ce,Ue):He(O[0][2],Te)}(k[Te](Ye))}catch(It){He(O[0][3],It)}}function ce(Te){ue("next",Te)}function Ue(Te){ue("throw",Te)}function He(Te,Ye){Te(Ye),O.shift(),O.length&&ue(O[0][0],O[0][1])}}function Re(x){var H,L;return H={},k("next"),k("throw",function(q){throw q}),k("return"),H[Symbol.iterator]=function(){return this},H;function k(q,O){H[q]=x[q]?function(te){return(L=!L)?{value:Ee(x[q](te)),done:"return"===q}:O?O(te):te}:O}}function Ie(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,H=x[Symbol.asyncIterator];return H?H.call(x):(x=ie(x),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(O){L[O]=x[O]&&function(te){return new Promise(function(ue,Ve){!function(O,te,ue,Ve){Promise.resolve(Ve).then(function(ce){O({value:ce,done:ue})},te)}(ue,Ve,(te=x[O](te)).done,te.value)})}}}function pe(x,H){return Object.defineProperty?Object.defineProperty(x,"raw",{value:H}):x.raw=H,x}function ze(x){if(x&&x.__esModule)return x;var H={};if(null!=x)for(var L in x)Object.hasOwnProperty.call(x,L)&&(H[L]=x[L]);return H.default=x,H}function tt(x){return x&&x.__esModule?x:{default:x}}function We(x,H){if(!H.has(x))throw new TypeError("attempted to get private field on non-instance");return H.get(x)}function _t(x,H,L){if(!H.has(x))throw new TypeError("attempted to set private field on non-instance");return H.set(x,L),L}},5385:(nt,de,z)=>{"use strict";z.r(de),z.d(de,{__extends:()=>P,__assign:()=>Ne,__rest:()=>ve,__decorate:()=>ne,__param:()=>he,__metadata:()=>me,__awaiter:()=>Ae,__generator:()=>le,__createBinding:()=>R,__exportStar:()=>B,__values:()=>ie,__read:()=>J,__spread:()=>Z,__spreadArrays:()=>we,__await:()=>Ee,__asyncGenerator:()=>De,__asyncDelegator:()=>Re,__asyncValues:()=>Ie,__makeTemplateObject:()=>pe,__importStar:()=>ze,__importDefault:()=>tt,__classPrivateFieldGet:()=>We,__classPrivateFieldSet:()=>_t});var g=function(x,H){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,k){L.__proto__=k}||function(L,k){for(var q in k)k.hasOwnProperty(q)&&(L[q]=k[q])})(x,H)};function P(x,H){function L(){this.constructor=x}g(x,H),x.prototype=null===H?Object.create(H):(L.prototype=H.prototype,new L)}var Ne=function(){return(Ne=Object.assign||function(H){for(var L,k=1,q=arguments.length;k<q;k++)for(var O in L=arguments[k])Object.prototype.hasOwnProperty.call(L,O)&&(H[O]=L[O]);return H}).apply(this,arguments)};function ve(x,H){var L={};for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&H.indexOf(k)<0&&(L[k]=x[k]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var q=0;for(k=Object.getOwnPropertySymbols(x);q<k.length;q++)H.indexOf(k[q])<0&&Object.prototype.propertyIsEnumerable.call(x,k[q])&&(L[k[q]]=x[k[q]])}return L}function ne(x,H,L,k){var te,q=arguments.length,O=q<3?H:null===k?k=Object.getOwnPropertyDescriptor(H,L):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(x,H,L,k);else for(var ue=x.length-1;ue>=0;ue--)(te=x[ue])&&(O=(q<3?te(O):q>3?te(H,L,O):te(H,L))||O);return q>3&&O&&Object.defineProperty(H,L,O),O}function he(x,H){return function(L,k){H(L,k,x)}}function me(x,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,H)}function Ae(x,H,L,k){return new(L||(L=Promise))(function(O,te){function ue(Ue){try{ce(k.next(Ue))}catch(He){te(He)}}function Ve(Ue){try{ce(k.throw(Ue))}catch(He){te(He)}}function ce(Ue){Ue.done?O(Ue.value):function(O){return O instanceof L?O:new L(function(te){te(O)})}(Ue.value).then(ue,Ve)}ce((k=k.apply(x,H||[])).next())})}function le(x,H){var k,q,O,te,L={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return te={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&(te[Symbol.iterator]=function(){return this}),te;function ue(ce){return function(Ue){return function(ce){if(k)throw new TypeError("Generator is already executing.");for(;L;)try{if(k=1,q&&(O=2&ce[0]?q.return:ce[0]?q.throw||((O=q.return)&&O.call(q),0):q.next)&&!(O=O.call(q,ce[1])).done)return O;switch(q=0,O&&(ce=[2&ce[0],O.value]),ce[0]){case 0:case 1:O=ce;break;case 4:return L.label++,{value:ce[1],done:!1};case 5:L.label++,q=ce[1],ce=[0];continue;case 7:ce=L.ops.pop(),L.trys.pop();continue;default:if(!(O=(O=L.trys).length>0&&O[O.length-1])&&(6===ce[0]||2===ce[0])){L=0;continue}if(3===ce[0]&&(!O||ce[1]>O[0]&&ce[1]<O[3])){L.label=ce[1];break}if(6===ce[0]&&L.label<O[1]){L.label=O[1],O=ce;break}if(O&&L.label<O[2]){L.label=O[2],L.ops.push(ce);break}O[2]&&L.ops.pop(),L.trys.pop();continue}ce=H.call(x,L)}catch(Ue){ce=[6,Ue],q=0}finally{k=O=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}([ce,Ue])}}}function R(x,H,L,k){void 0===k&&(k=L),x[k]=H[L]}function B(x,H){for(var L in x)"default"!==L&&!H.hasOwnProperty(L)&&(H[L]=x[L])}function ie(x){var H="function"==typeof Symbol&&Symbol.iterator,L=H&&x[H],k=0;if(L)return L.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&k>=x.length&&(x=void 0),{value:x&&x[k++],done:!x}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(x,H){var L="function"==typeof Symbol&&x[Symbol.iterator];if(!L)return x;var q,te,k=L.call(x),O=[];try{for(;(void 0===H||H-- >0)&&!(q=k.next()).done;)O.push(q.value)}catch(ue){te={error:ue}}finally{try{q&&!q.done&&(L=k.return)&&L.call(k)}finally{if(te)throw te.error}}return O}function Z(){for(var x=[],H=0;H<arguments.length;H++)x=x.concat(J(arguments[H]));return x}function we(){for(var x=0,H=0,L=arguments.length;H<L;H++)x+=arguments[H].length;var k=Array(x),q=0;for(H=0;H<L;H++)for(var O=arguments[H],te=0,ue=O.length;te<ue;te++,q++)k[q]=O[te];return k}function Ee(x){return this instanceof Ee?(this.v=x,this):new Ee(x)}function De(x,H,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,k=L.apply(x,H||[]),O=[];return q={},te("next"),te("throw"),te("return"),q[Symbol.asyncIterator]=function(){return this},q;function te(Te){k[Te]&&(q[Te]=function(Ye){return new Promise(function(It,Cn){O.push([Te,Ye,It,Cn])>1||ue(Te,Ye)})})}function ue(Te,Ye){try{!function(Te){Te.value instanceof Ee?Promise.resolve(Te.value.v).then(ce,Ue):He(O[0][2],Te)}(k[Te](Ye))}catch(It){He(O[0][3],It)}}function ce(Te){ue("next",Te)}function Ue(Te){ue("throw",Te)}function He(Te,Ye){Te(Ye),O.shift(),O.length&&ue(O[0][0],O[0][1])}}function Re(x){var H,L;return H={},k("next"),k("throw",function(q){throw q}),k("return"),H[Symbol.iterator]=function(){return this},H;function k(q,O){H[q]=x[q]?function(te){return(L=!L)?{value:Ee(x[q](te)),done:"return"===q}:O?O(te):te}:O}}function Ie(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,H=x[Symbol.asyncIterator];return H?H.call(x):(x=ie(x),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(O){L[O]=x[O]&&function(te){return new Promise(function(ue,Ve){!function(O,te,ue,Ve){Promise.resolve(Ve).then(function(ce){O({value:ce,done:ue})},te)}(ue,Ve,(te=x[O](te)).done,te.value)})}}}function pe(x,H){return Object.defineProperty?Object.defineProperty(x,"raw",{value:H}):x.raw=H,x}function ze(x){if(x&&x.__esModule)return x;var H={};if(null!=x)for(var L in x)Object.hasOwnProperty.call(x,L)&&(H[L]=x[L]);return H.default=x,H}function tt(x){return x&&x.__esModule?x:{default:x}}function We(x,H){if(!H.has(x))throw new TypeError("attempted to get private field on non-instance");return H.get(x)}function _t(x,H,L){if(!H.has(x))throw new TypeError("attempted to set private field on non-instance");return H.set(x,L),L}},5704:(nt,de,z)=>{"use strict";z.r(de),z.d(de,{__extends:()=>P,__assign:()=>Ne,__rest:()=>ve,__decorate:()=>ne,__param:()=>he,__metadata:()=>me,__awaiter:()=>Ae,__generator:()=>le,__createBinding:()=>R,__exportStar:()=>B,__values:()=>ie,__read:()=>J,__spread:()=>Z,__spreadArrays:()=>we,__await:()=>Ee,__asyncGenerator:()=>De,__asyncDelegator:()=>Re,__asyncValues:()=>Ie,__makeTemplateObject:()=>pe,__importStar:()=>ze,__importDefault:()=>tt,__classPrivateFieldGet:()=>We,__classPrivateFieldSet:()=>_t});var g=function(x,H){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,k){L.__proto__=k}||function(L,k){for(var q in k)k.hasOwnProperty(q)&&(L[q]=k[q])})(x,H)};function P(x,H){function L(){this.constructor=x}g(x,H),x.prototype=null===H?Object.create(H):(L.prototype=H.prototype,new L)}var Ne=function(){return(Ne=Object.assign||function(H){for(var L,k=1,q=arguments.length;k<q;k++)for(var O in L=arguments[k])Object.prototype.hasOwnProperty.call(L,O)&&(H[O]=L[O]);return H}).apply(this,arguments)};function ve(x,H){var L={};for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&H.indexOf(k)<0&&(L[k]=x[k]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var q=0;for(k=Object.getOwnPropertySymbols(x);q<k.length;q++)H.indexOf(k[q])<0&&Object.prototype.propertyIsEnumerable.call(x,k[q])&&(L[k[q]]=x[k[q]])}return L}function ne(x,H,L,k){var te,q=arguments.length,O=q<3?H:null===k?k=Object.getOwnPropertyDescriptor(H,L):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(x,H,L,k);else for(var ue=x.length-1;ue>=0;ue--)(te=x[ue])&&(O=(q<3?te(O):q>3?te(H,L,O):te(H,L))||O);return q>3&&O&&Object.defineProperty(H,L,O),O}function he(x,H){return function(L,k){H(L,k,x)}}function me(x,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,H)}function Ae(x,H,L,k){return new(L||(L=Promise))(function(O,te){function ue(Ue){try{ce(k.next(Ue))}catch(He){te(He)}}function Ve(Ue){try{ce(k.throw(Ue))}catch(He){te(He)}}function ce(Ue){Ue.done?O(Ue.value):function(O){return O instanceof L?O:new L(function(te){te(O)})}(Ue.value).then(ue,Ve)}ce((k=k.apply(x,H||[])).next())})}function le(x,H){var k,q,O,te,L={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return te={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&(te[Symbol.iterator]=function(){return this}),te;function ue(ce){return function(Ue){return function(ce){if(k)throw new TypeError("Generator is already executing.");for(;L;)try{if(k=1,q&&(O=2&ce[0]?q.return:ce[0]?q.throw||((O=q.return)&&O.call(q),0):q.next)&&!(O=O.call(q,ce[1])).done)return O;switch(q=0,O&&(ce=[2&ce[0],O.value]),ce[0]){case 0:case 1:O=ce;break;case 4:return L.label++,{value:ce[1],done:!1};case 5:L.label++,q=ce[1],ce=[0];continue;case 7:ce=L.ops.pop(),L.trys.pop();continue;default:if(!(O=(O=L.trys).length>0&&O[O.length-1])&&(6===ce[0]||2===ce[0])){L=0;continue}if(3===ce[0]&&(!O||ce[1]>O[0]&&ce[1]<O[3])){L.label=ce[1];break}if(6===ce[0]&&L.label<O[1]){L.label=O[1],O=ce;break}if(O&&L.label<O[2]){L.label=O[2],L.ops.push(ce);break}O[2]&&L.ops.pop(),L.trys.pop();continue}ce=H.call(x,L)}catch(Ue){ce=[6,Ue],q=0}finally{k=O=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}([ce,Ue])}}}function R(x,H,L,k){void 0===k&&(k=L),x[k]=H[L]}function B(x,H){for(var L in x)"default"!==L&&!H.hasOwnProperty(L)&&(H[L]=x[L])}function ie(x){var H="function"==typeof Symbol&&Symbol.iterator,L=H&&x[H],k=0;if(L)return L.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&k>=x.length&&(x=void 0),{value:x&&x[k++],done:!x}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(x,H){var L="function"==typeof Symbol&&x[Symbol.iterator];if(!L)return x;var q,te,k=L.call(x),O=[];try{for(;(void 0===H||H-- >0)&&!(q=k.next()).done;)O.push(q.value)}catch(ue){te={error:ue}}finally{try{q&&!q.done&&(L=k.return)&&L.call(k)}finally{if(te)throw te.error}}return O}function Z(){for(var x=[],H=0;H<arguments.length;H++)x=x.concat(J(arguments[H]));return x}function we(){for(var x=0,H=0,L=arguments.length;H<L;H++)x+=arguments[H].length;var k=Array(x),q=0;for(H=0;H<L;H++)for(var O=arguments[H],te=0,ue=O.length;te<ue;te++,q++)k[q]=O[te];return k}function Ee(x){return this instanceof Ee?(this.v=x,this):new Ee(x)}function De(x,H,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,k=L.apply(x,H||[]),O=[];return q={},te("next"),te("throw"),te("return"),q[Symbol.asyncIterator]=function(){return this},q;function te(Te){k[Te]&&(q[Te]=function(Ye){return new Promise(function(It,Cn){O.push([Te,Ye,It,Cn])>1||ue(Te,Ye)})})}function ue(Te,Ye){try{!function(Te){Te.value instanceof Ee?Promise.resolve(Te.value.v).then(ce,Ue):He(O[0][2],Te)}(k[Te](Ye))}catch(It){He(O[0][3],It)}}function ce(Te){ue("next",Te)}function Ue(Te){ue("throw",Te)}function He(Te,Ye){Te(Ye),O.shift(),O.length&&ue(O[0][0],O[0][1])}}function Re(x){var H,L;return H={},k("next"),k("throw",function(q){throw q}),k("return"),H[Symbol.iterator]=function(){return this},H;function k(q,O){H[q]=x[q]?function(te){return(L=!L)?{value:Ee(x[q](te)),done:"return"===q}:O?O(te):te}:O}}function Ie(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,H=x[Symbol.asyncIterator];return H?H.call(x):(x=ie(x),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(O){L[O]=x[O]&&function(te){return new Promise(function(ue,Ve){!function(O,te,ue,Ve){Promise.resolve(Ve).then(function(ce){O({value:ce,done:ue})},te)}(ue,Ve,(te=x[O](te)).done,te.value)})}}}function pe(x,H){return Object.defineProperty?Object.defineProperty(x,"raw",{value:H}):x.raw=H,x}function ze(x){if(x&&x.__esModule)return x;var H={};if(null!=x)for(var L in x)Object.hasOwnProperty.call(x,L)&&(H[L]=x[L]);return H.default=x,H}function tt(x){return x&&x.__esModule?x:{default:x}}function We(x,H){if(!H.has(x))throw new TypeError("attempted to get private field on non-instance");return H.get(x)}function _t(x,H,L){if(!H.has(x))throw new TypeError("attempted to set private field on non-instance");return H.set(x,L),L}},5057:(nt,de,z)=>{"use strict";z.r(de),z.d(de,{__extends:()=>P,__assign:()=>Ne,__rest:()=>ve,__decorate:()=>ne,__param:()=>he,__metadata:()=>me,__awaiter:()=>Ae,__generator:()=>le,__createBinding:()=>R,__exportStar:()=>B,__values:()=>ie,__read:()=>J,__spread:()=>Z,__spreadArrays:()=>we,__await:()=>Ee,__asyncGenerator:()=>De,__asyncDelegator:()=>Re,__asyncValues:()=>Ie,__makeTemplateObject:()=>pe,__importStar:()=>ze,__importDefault:()=>tt,__classPrivateFieldGet:()=>We,__classPrivateFieldSet:()=>_t});var g=function(x,H){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,k){L.__proto__=k}||function(L,k){for(var q in k)k.hasOwnProperty(q)&&(L[q]=k[q])})(x,H)};function P(x,H){function L(){this.constructor=x}g(x,H),x.prototype=null===H?Object.create(H):(L.prototype=H.prototype,new L)}var Ne=function(){return(Ne=Object.assign||function(H){for(var L,k=1,q=arguments.length;k<q;k++)for(var O in L=arguments[k])Object.prototype.hasOwnProperty.call(L,O)&&(H[O]=L[O]);return H}).apply(this,arguments)};function ve(x,H){var L={};for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&H.indexOf(k)<0&&(L[k]=x[k]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var q=0;for(k=Object.getOwnPropertySymbols(x);q<k.length;q++)H.indexOf(k[q])<0&&Object.prototype.propertyIsEnumerable.call(x,k[q])&&(L[k[q]]=x[k[q]])}return L}function ne(x,H,L,k){var te,q=arguments.length,O=q<3?H:null===k?k=Object.getOwnPropertyDescriptor(H,L):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(x,H,L,k);else for(var ue=x.length-1;ue>=0;ue--)(te=x[ue])&&(O=(q<3?te(O):q>3?te(H,L,O):te(H,L))||O);return q>3&&O&&Object.defineProperty(H,L,O),O}function he(x,H){return function(L,k){H(L,k,x)}}function me(x,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,H)}function Ae(x,H,L,k){return new(L||(L=Promise))(function(O,te){function ue(Ue){try{ce(k.next(Ue))}catch(He){te(He)}}function Ve(Ue){try{ce(k.throw(Ue))}catch(He){te(He)}}function ce(Ue){Ue.done?O(Ue.value):function(O){return O instanceof L?O:new L(function(te){te(O)})}(Ue.value).then(ue,Ve)}ce((k=k.apply(x,H||[])).next())})}function le(x,H){var k,q,O,te,L={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return te={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&(te[Symbol.iterator]=function(){return this}),te;function ue(ce){return function(Ue){return function(ce){if(k)throw new TypeError("Generator is already executing.");for(;L;)try{if(k=1,q&&(O=2&ce[0]?q.return:ce[0]?q.throw||((O=q.return)&&O.call(q),0):q.next)&&!(O=O.call(q,ce[1])).done)return O;switch(q=0,O&&(ce=[2&ce[0],O.value]),ce[0]){case 0:case 1:O=ce;break;case 4:return L.label++,{value:ce[1],done:!1};case 5:L.label++,q=ce[1],ce=[0];continue;case 7:ce=L.ops.pop(),L.trys.pop();continue;default:if(!(O=(O=L.trys).length>0&&O[O.length-1])&&(6===ce[0]||2===ce[0])){L=0;continue}if(3===ce[0]&&(!O||ce[1]>O[0]&&ce[1]<O[3])){L.label=ce[1];break}if(6===ce[0]&&L.label<O[1]){L.label=O[1],O=ce;break}if(O&&L.label<O[2]){L.label=O[2],L.ops.push(ce);break}O[2]&&L.ops.pop(),L.trys.pop();continue}ce=H.call(x,L)}catch(Ue){ce=[6,Ue],q=0}finally{k=O=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}([ce,Ue])}}}function R(x,H,L,k){void 0===k&&(k=L),x[k]=H[L]}function B(x,H){for(var L in x)"default"!==L&&!H.hasOwnProperty(L)&&(H[L]=x[L])}function ie(x){var H="function"==typeof Symbol&&Symbol.iterator,L=H&&x[H],k=0;if(L)return L.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&k>=x.length&&(x=void 0),{value:x&&x[k++],done:!x}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(x,H){var L="function"==typeof Symbol&&x[Symbol.iterator];if(!L)return x;var q,te,k=L.call(x),O=[];try{for(;(void 0===H||H-- >0)&&!(q=k.next()).done;)O.push(q.value)}catch(ue){te={error:ue}}finally{try{q&&!q.done&&(L=k.return)&&L.call(k)}finally{if(te)throw te.error}}return O}function Z(){for(var x=[],H=0;H<arguments.length;H++)x=x.concat(J(arguments[H]));return x}function we(){for(var x=0,H=0,L=arguments.length;H<L;H++)x+=arguments[H].length;var k=Array(x),q=0;for(H=0;H<L;H++)for(var O=arguments[H],te=0,ue=O.length;te<ue;te++,q++)k[q]=O[te];return k}function Ee(x){return this instanceof Ee?(this.v=x,this):new Ee(x)}function De(x,H,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,k=L.apply(x,H||[]),O=[];return q={},te("next"),te("throw"),te("return"),q[Symbol.asyncIterator]=function(){return this},q;function te(Te){k[Te]&&(q[Te]=function(Ye){return new Promise(function(It,Cn){O.push([Te,Ye,It,Cn])>1||ue(Te,Ye)})})}function ue(Te,Ye){try{!function(Te){Te.value instanceof Ee?Promise.resolve(Te.value.v).then(ce,Ue):He(O[0][2],Te)}(k[Te](Ye))}catch(It){He(O[0][3],It)}}function ce(Te){ue("next",Te)}function Ue(Te){ue("throw",Te)}function He(Te,Ye){Te(Ye),O.shift(),O.length&&ue(O[0][0],O[0][1])}}function Re(x){var H,L;return H={},k("next"),k("throw",function(q){throw q}),k("return"),H[Symbol.iterator]=function(){return this},H;function k(q,O){H[q]=x[q]?function(te){return(L=!L)?{value:Ee(x[q](te)),done:"return"===q}:O?O(te):te}:O}}function Ie(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,H=x[Symbol.asyncIterator];return H?H.call(x):(x=ie(x),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(O){L[O]=x[O]&&function(te){return new Promise(function(ue,Ve){!function(O,te,ue,Ve){Promise.resolve(Ve).then(function(ce){O({value:ce,done:ue})},te)}(ue,Ve,(te=x[O](te)).done,te.value)})}}}function pe(x,H){return Object.defineProperty?Object.defineProperty(x,"raw",{value:H}):x.raw=H,x}function ze(x){if(x&&x.__esModule)return x;var H={};if(null!=x)for(var L in x)Object.hasOwnProperty.call(x,L)&&(H[L]=x[L]);return H.default=x,H}function tt(x){return x&&x.__esModule?x:{default:x}}function We(x,H){if(!H.has(x))throw new TypeError("attempted to get private field on non-instance");return H.get(x)}function _t(x,H,L){if(!H.has(x))throw new TypeError("attempted to set private field on non-instance");return H.set(x,L),L}}},nt=>{nt(nt.s=5143)}]);